openapi: 3.0.0
info:
  title: ONDC Protocol API for retail (grocery, f&b)
  description: >-
    ONDC Protocol API specification, which includes statutory requirements for
    packaged commodities and pre-packaged food This is an adaptation of Beckn
    Core version 0.9.3
  version: 1.2.5
security:
  - SubscriberAuth: []
  - GatewaySubscriberAuth: []
  - GatewaySubscriberAuthNew: []
paths:
  /search:
    post:
      tags:
        - ONDC Seller App
        - ONDC Gateway
      description: Search for services by intent
      requestBody:
        description: Buyer searches for products and services
        content:
          application/json:
            schema:
              additionalProperties: false
              type: object
              properties:
                context:
                  $ref: "#/components/schemas/Context"
                message:
                  type: object
                  properties:
                    intent:
                      $ref: "#/components/schemas/Intent"
              required:
                - context
                - message
      responses:
        "200":
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: object
                    properties:
                      ack:
                        $ref: "#/components/schemas/Ack"
                    required:
                      - ack
                  error:
                    $ref: "#/components/schemas/Error"
                required:
                  - message
  /select:
    post:
      tags:
        - ONDC Seller App
      description: Select items from the catalog and build your order
      requestBody:
        description: Buyer selects one or more catalog items
        content:
          application/json:
            schema:
              additionalProperties: false
              type: object
              properties:
                context:
                  $ref: "#/components/schemas/Context"
                message:
                  type: object
                  properties:
                    order:
                      description: Describes the details of an order
                      type: object
                      properties:
                        provider:
                          type: object
                          properties:
                            id:
                              $ref: "#/components/schemas/Provider/properties/id"
                            locations:
                              type: array
                              maxItems: 1
                              items:
                                type: object
                                properties:
                                  id:
                                    $ref: >-
                                      #/components/schemas/Location/properties/id
                        items:
                          type: array
                          items:
                            description: >-
                              Describes a product or a service offered to the
                              end consumer by the provider
                            type: object
                            properties:
                              id:
                                description: >-
                                  This is the most unique identifier of a
                                  service item. An example of an Item ID could
                                  be the SKU of a product.
                                type: string
                              parent_item_id:
                                description: >-
                                  This is the most unique identifier of a
                                  service item. An example of an Item ID could
                                  be the SKU of a product.
                                type: string
                              descriptor:
                                description: >-
                                  Describes the description of a real-world
                                  object.
                                type: object
                                properties:
                                  tags:
                                    type: array
                                    items:
                                      $ref: "#/components/schemas/TagGroup"
                              location_id:
                                description: >-
                                  This is the most unique identifier of a
                                  location item.
                                type: string
                              quantity:
                                description: quantity
                                type: object
                                properties:
                                  count:
                                    type: integer
                                    minimum: 0
                              tags:
                                type: array
                                items:
                                  $ref: "#/components/schemas/TagGroup"
                        offers:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                $ref: "#/components/schemas/Offer/properties/id"
                              tags:
                                type: array
                                items:
                                  $ref: "#/components/schemas/TagGroup"
                        fulfillments:
                          type: array
                          items:
                            type: object
                            properties:
                              end:
                                $ref: "#/components/schemas/FulfillmentLocation"
                        payment:
                          type: object
                          properties:
                            type:
                              $ref: "#/components/schemas/Payment/properties/type"
                        tags:
                          type: array
                          items:
                            $ref: "#/components/schemas/TagGroup"
                  required:
                    - order
              required:
                - context
                - message
      responses:
        "200":
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: object
                    properties:
                      ack:
                        $ref: "#/components/schemas/Ack"
                    required:
                      - ack
                  error:
                    $ref: "#/components/schemas/Error"
                required:
                  - message
  /init:
    post:
      tags:
        - ONDC Seller App
      description: Initialize an order by providing billing and/or shipping details
      requestBody:
        description: Buyer initializes order checkout
        content:
          application/json:
            schema:
              additionalProperties: false
              type: object
              properties:
                context:
                  $ref: "#/components/schemas/Context"
                message:
                  type: object
                  properties:
                    order:
                      $ref: "#/components/schemas/Order"
                  required:
                    - order
              required:
                - context
                - message
      responses:
        "200":
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: object
                    properties:
                      ack:
                        $ref: "#/components/schemas/Ack"
                    required:
                      - ack
                  error:
                    $ref: "#/components/schemas/Error"
                required:
                  - message
  /confirm:
    post:
      tags:
        - ONDC Seller App
      description: Initialize an order by providing billing and/or shipping details
      requestBody:
        description: Buyer confirms an order
        content:
          application/json:
            schema:
              additionalProperties: false
              type: object
              properties:
                context:
                  $ref: "#/components/schemas/Context"
                message:
                  type: object
                  properties:
                    order:
                      description: Describes the details of an order
                      type: object
                      properties:
                        id:
                          type: string
                          description: Unique identifier for Order across the network
                        state:
                          type: string
                        provider:
                          type: object
                          properties:
                            id:
                              $ref: "#/components/schemas/Provider/properties/id"
                            locations:
                              type: array
                              maxItems: 1
                              items:
                                type: object
                                properties:
                                  id:
                                    $ref: >-
                                      #/components/schemas/Location/properties/id
                        items:
                          type: array
                          items:
                            $ref: "#/components/schemas/Item"
                        offers:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                $ref: "#/components/schemas/Offer/properties/id"
                        documents:
                          type: array
                          items:
                            $ref: "#/components/schemas/Document"
                        billing:
                          $ref: "#/components/schemas/Billing"
                        fulfillments:
                          type: array
                          items:
                            $ref: "#/components/schemas/OrderFulfillment"
                        cancellation_terms:
                          description: >-
                            The cancellation terms of this order. This can be
                            overriden at the item level cancellation terms.
                          type: array
                          items:
                            $ref: "#/components/schemas/CancellationTerm"
                        quote:
                          $ref: "#/components/schemas/Quotation"
                        payment:
                          $ref: "#/components/schemas/Payment"
                        created_at:
                          type: string
                          format: date-time
                        updated_at:
                          type: string
                          format: date-time
                        tags:
                          type: array
                          items:
                            $ref: "#/components/schemas/TagGroup"
                  required:
                    - order
              required:
                - context
                - message
      responses:
        "200":
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: object
                    properties:
                      ack:
                        $ref: "#/components/schemas/Ack"
                    required:
                      - ack
                  error:
                    $ref: "#/components/schemas/Error"
                required:
                  - message
  /status:
    post:
      tags:
        - ONDC Seller App
      description: Fetch the latest order object
      requestBody:
        description: Buyer checks for status of order
        content:
          application/json:
            schema:
              additionalProperties: false
              type: object
              properties:
                context:
                  $ref: "#/components/schemas/Context"
                message:
                  type: object
                  properties:
                    order_id:
                      $ref: "#/components/schemas/Order/properties/id"
                  required:
                    - order_id
              required:
                - context
                - message
      responses:
        "200":
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: object
                    properties:
                      ack:
                        $ref: "#/components/schemas/Ack"
                    required:
                      - ack
                  error:
                    $ref: "#/components/schemas/Error"
                required:
                  - message
  /track:
    post:
      tags:
        - ONDC Seller App
      description: Track an active order
      requestBody:
        description: Buyer tracks fulfillment of an order
        content:
          application/json:
            schema:
              additionalProperties: false
              type: object
              properties:
                context:
                  $ref: "#/components/schemas/Context"
                message:
                  type: object
                  properties:
                    order_id:
                      $ref: "#/components/schemas/Order/properties/id"
                  required:
                    - order_id
              required:
                - context
                - message
      responses:
        "200":
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: object
                    properties:
                      ack:
                        $ref: "#/components/schemas/Ack"
                    required:
                      - ack
                  error:
                    $ref: "#/components/schemas/Error"
                required:
                  - message
  /cancel:
    post:
      tags:
        - ONDC Seller App
      description: Cancel an order
      requestBody:
        description: Buyer cancels an order
        content:
          application/json:
            schema:
              additionalProperties: false
              type: object
              properties:
                context:
                  $ref: "#/components/schemas/Context"
                message:
                  type: object
                  properties:
                    order_id:
                      $ref: "#/components/schemas/Order/properties/id"
                    cancellation_reason_id:
                      $ref: "#/components/schemas/Option/properties/id"
                    descriptor:
                      description: Describes the description of a real-world object.
                      type: object
                      properties:
                        name:
                          type: string
                        short_desc:
                          type: string
                        tags:
                          type: array
                          items:
                            $ref: "#/components/schemas/TagGroup"
                  required:
                    - order_id
              required:
                - context
                - message
      responses:
        "200":
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: object
                    properties:
                      ack:
                        $ref: "#/components/schemas/Ack"
                    required:
                      - ack
                  error:
                    $ref: "#/components/schemas/Error"
                required:
                  - message
  /update:
    post:
      tags:
        - ONDC Seller App
      description: Update an order
      requestBody:
        description: Buyer updates an order
        content:
          application/json:
            schema:
              additionalProperties: false
              type: object
              properties:
                context:
                  $ref: "#/components/schemas/Context"
                message:
                  type: object
                  properties:
                    update_target:
                      description: >-
                        Comma separated values of order objects being updated.
                        For example:
                        ```"update_target":"item,billing,fulfillment,payment"```
                      type: string
                    order:
                      description: Describes the details of an order
                      type: object
                      properties:
                        id:
                          type: string
                          description: Unique identifier for Order across the network
                        items:
                          type: array
                          items:
                            $ref: "#/components/schemas/OrderItem"
                        fulfillments:
                          type: array
                          items:
                            description: >-
                              Describes how a single product/service will be
                              rendered/fulfilled to the end customer
                            type: object
                            properties:
                              id:
                                type: string
                                description: >-
                                  Unique reference ID to the fulfillment of an
                                  order
                              type:
                                type: string
                                description: >-
                                  This describes the type of fulfillment
                                  ("Pickup" - Buyer picks up from store by
                                  themselves or through their logistics
                                  provider; "Delivery" - seller delivers to
                                  buyer)
                                enum:
                                  - Delivery
                                  - Return
                              end:
                                type: object
                                properties:
                                  instructions:
                                    type: object
                                    properties:
                                      additional_desc:
                                        type: object
                                        properties:
                                          content_type:
                                            type: string
                                            enum:
                                              - text/plain
                                              - text/html
                              tags:
                                type: array
                                items:
                                  $ref: "#/components/schemas/TagGroup"
                        payment:
                          description: Describes a payment
                          type: object
                          properties:
                            collected_by:
                              type: string
                              enum:
                                - BAP
                                - BPP
                            status:
                              type: string
                              enum:
                                - PAID
                                - NOT-PAID
                            time:
                              type: object
                              properties:
                                timestamp:
                                  type: string
                                  format: date-time
                            "@ondc/org/settlement_details":
                              type: array
                              items:
                                type: object
                                properties:
                                  settlement_counterparty:
                                    type: string
                                    enum:
                                      - buyer
                                      - buyer-app
                                      - seller-app
                                      - logistics-provider
                                  settlement_phase:
                                    type: string
                                    enum:
                                      - sale-amount
                                      - withholding-amount
                                      - refund
                                  settlement_amount:
                                    type: string
                                  settlement_type:
                                    type: string
                                    enum:
                                      - neft
                                      - rtgs
                                      - upi
                                  settlement_timestamp:
                                    description: Settlement transaction timestamp
                                    type: string
                                    format: date-time
                  required:
                    - update_target
                    - order
              required:
                - context
                - message
      responses:
        "200":
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: object
                    properties:
                      ack:
                        $ref: "#/components/schemas/Ack"
                    required:
                      - ack
                  error:
                    $ref: "#/components/schemas/Error"
                required:
                  - message
  /on_search:
    post:
      tags:
        - ONDC Buyer App
      description: Send catalog
      requestBody:
        description: Sellers provide their catalog in response to buyer search
        content:
          application/json:
            schema:
              additionalProperties: false
              type: object
              properties:
                context:
                  $ref: "#/components/schemas/Context"
                message:
                  type: object
                  properties:
                    catalog:
                      $ref: "#/components/schemas/Catalog"
              required:
                - context
                - message
      responses:
        "200":
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: object
                    properties:
                      ack:
                        $ref: "#/components/schemas/Ack"
                    required:
                      - ack
                  error:
                    $ref: "#/components/schemas/Error"
                required:
                  - context
  /on_select:
    post:
      tags:
        - ONDC Buyer App
      description: Send draft order object with quoted price for selected items
      requestBody:
        description: Seller provides quote for selected items
        content:
          application/json:
            schema:
              additionalProperties: false
              type: object
              properties:
                context:
                  $ref: "#/components/schemas/Context"
                message:
                  type: object
                  properties:
                    order:
                      description: Describes the details of an order
                      type: object
                      properties:
                        provider:
                          type: object
                          properties:
                            id:
                              $ref: "#/components/schemas/Provider/properties/id"
                            locations:
                              type: array
                              maxItems: 1
                              items:
                                type: object
                                properties:
                                  id:
                                    $ref: >-
                                      #/components/schemas/Location/properties/id
                        items:
                          type: array
                          items:
                            description: >-
                              Describes a product or a service offered to the
                              end consumer by the provider
                            type: object
                            properties:
                              id:
                                description: >-
                                  This is the most unique identifier of a
                                  service item. An example of an Item ID could
                                  be the SKU of a product.
                                type: string
                              parent_item_id:
                                description: >-
                                  This is the most unique identifier of a
                                  service item. An example of an Item ID could
                                  be the SKU of a product.
                                type: string
                              quantity:
                                description: quantity
                                type: object
                                properties:
                                  count:
                                    type: integer
                                    minimum: 0
                              fulfillment_id:
                                type: string
                                description: >-
                                  Unique reference ID to the fulfillment of an
                                  order
                              fulfillment_ids:
                                type: array
                                items:
                                  type: string
                                  description: >-
                                    Unique reference ID to the fulfillment of an
                                    order
                              tags:
                                type: array
                                items:
                                  $ref: "#/components/schemas/TagGroup"
                        offers:
                          type: array
                          items:
                            type: object
                            properties:
                              id:
                                $ref: "#/components/schemas/Offer/properties/id"
                              tags:
                                $ref: "#/components/schemas/TagGroup"
                        fulfillments:
                          type: array
                          items:
                            description: >-
                              Describes how a single product/service will be
                              rendered/fulfilled to the end customer
                            type: object
                            properties:
                              id:
                                type: string
                                description: >-
                                  Unique reference ID to the fulfillment of an
                                  order
                              type:
                                type: string
                                description: >-
                                  This describes the type of fulfillment
                                  ("Pickup" - Buyer picks up from store by
                                  themselves or through their logistics
                                  provider; "Delivery" - seller delivers to
                                  buyer)
                                enum:
                                  - Delivery
                                  - Pickup
                                  - Delivery and Pickup
                                  - Reverse QC
                              "@ondc/org/category":
                                type: string
                                description: Fulfillment Category
                              "@ondc/org/provider_name":
                                type: string
                                description: Fulfillment Provider Name
                              "@ondc/org/TAT":
                                description: >-
                                  fulfillment turnaround time in ISO8601
                                  durations format e.g. 'PT24H' indicates 24
                                  hour TAT
                                type: string
                              state:
                                $ref: "#/components/schemas/State"
                              tracking:
                                type: boolean
                                description: >-
                                  Indicates whether the fulfillment allows
                                  tracking
                                default: false
                              start:
                                description: Details on the end of fulfillment
                                type: object
                                properties:
                                  time:
                                    description: >-
                                      Describes time in its various forms. It
                                      can be a single point in time; duration;
                                      or a structured timetable of operations
                                    type: object
                                    properties:
                                      range:
                                        type: object
                                        properties:
                                          start:
                                            type: string
                                            format: date-time
                                          end:
                                            type: string
                                            format: date-time
                              end:
                                description: Details on the start of fulfillment
                                type: object
                                properties:
                                  location:
                                    $ref: "#/components/schemas/Location"
                                  time:
                                    description: >-
                                      Describes time in its various forms. It
                                      can be a single point in time; duration;
                                      or a structured timetable of operations
                                    type: object
                                    properties:
                                      range:
                                        type: object
                                        properties:
                                          start:
                                            type: string
                                            format: date-time
                                          end:
                                            type: string
                                            format: date-time
                              tags:
                                type: array
                                items:
                                  $ref: "#/components/schemas/TagGroup"
                            required:
                              - id
                              - type
                        quote:
                          $ref: "#/components/schemas/Quotation"
                        payment:
                          $ref: "#/components/schemas/Payment/properties/type"
                  required:
                    - order
                error:
                  $ref: "#/components/schemas/Error"
              required:
                - context
      responses:
        "200":
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: object
                    properties:
                      ack:
                        $ref: "#/components/schemas/Ack"
                    required:
                      - ack
                  error:
                    $ref: "#/components/schemas/Error"
                required:
                  - message
  /on_init:
    post:
      tags:
        - ONDC Buyer App
      description: Send order object with payment details updated
      requestBody:
        description: Seller provides terms and conditions for an order
        content:
          application/json:
            schema:
              additionalProperties: false
              type: object
              properties:
                context:
                  $ref: "#/components/schemas/Context"
                message:
                  type: object
                  properties:
                    order:
                      $ref: "#/components/schemas/Order"
                  required:
                    - order
                error:
                  $ref: "#/components/schemas/Error"
              required:
                - context
      responses:
        "200":
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: object
                    properties:
                      ack:
                        $ref: "#/components/schemas/Ack"
                    required:
                      - ack
                  error:
                    $ref: "#/components/schemas/Error"
                required:
                  - message
  /on_confirm:
    post:
      tags:
        - ONDC Buyer App
      description: Send active order object
      requestBody:
        description: Seller confirms order
        content:
          application/json:
            schema:
              additionalProperties: false
              type: object
              properties:
                context:
                  $ref: "#/components/schemas/Context"
                message:
                  type: object
                  properties:
                    order:
                      $ref: "#/components/schemas/Order"
                  required:
                    - order
                error:
                  $ref: "#/components/schemas/Error"
              required:
                - context
      responses:
        "200":
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: object
                    properties:
                      ack:
                        $ref: "#/components/schemas/Ack"
                    required:
                      - ack
                  error:
                    $ref: "#/components/schemas/Error"
                required:
                  - message
  /on_track:
    post:
      tags:
        - ONDC Buyer App
      description: Send tracking details of an active order
      requestBody:
        description: Seller provides tracking details for an order
        content:
          application/json:
            schema:
              additionalProperties: false
              type: object
              properties:
                context:
                  $ref: "#/components/schemas/Context"
                message:
                  type: object
                  properties:
                    tracking:
                      $ref: "#/components/schemas/Tracking"
                  required:
                    - tracking
                error:
                  $ref: "#/components/schemas/Error"
              required:
                - context
      responses:
        "200":
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: object
                    properties:
                      ack:
                        $ref: "#/components/schemas/Ack"
                    required:
                      - ack
                  error:
                    $ref: "#/components/schemas/Error"
                required:
                  - message
  /on_cancel:
    post:
      tags:
        - ONDC Buyer App
      description: >-
        Send cancellation request_id with reasons list in case of cancellation
        request. Else send cancelled order object
      requestBody:
        description: Seller provides response to cancellation request
        content:
          application/json:
            schema:
              additionalProperties: false
              type: object
              properties:
                context:
                  $ref: "#/components/schemas/Context"
                message:
                  type: object
                  properties:
                    order:
                      $ref: "#/components/schemas/Order"
                  required:
                    - order
                error:
                  $ref: "#/components/schemas/Error"
              required:
                - context
      responses:
        "200":
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: object
                    properties:
                      ack:
                        $ref: "#/components/schemas/Ack"
                    required:
                      - ack
                  error:
                    $ref: "#/components/schemas/Error"
                required:
                  - message
  /on_update:
    post:
      tags:
        - ONDC Buyer App
      description: Returns updated service with updated runtime object
      requestBody:
        description: Seller provides response to order update
        content:
          application/json:
            schema:
              additionalProperties: false
              type: object
              properties:
                context:
                  $ref: "#/components/schemas/Context"
                message:
                  type: object
                  properties:
                    order:
                      $ref: "#/components/schemas/Order"
                  required:
                    - order
                error:
                  $ref: "#/components/schemas/Error"
              required:
                - context
      responses:
        "200":
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: object
                    properties:
                      ack:
                        $ref: "#/components/schemas/Ack"
                    required:
                      - ack
                  error:
                    $ref: "#/components/schemas/Error"
                required:
                  - message
  /on_status:
    post:
      tags:
        - ONDC Buyer App
      description: Fetch the status of a Service
      requestBody:
        description: Seller provides status information for order
        content:
          application/json:
            schema:
              additionalProperties: false
              type: object
              properties:
                context:
                  $ref: "#/components/schemas/Context"
                message:
                  type: object
                  properties:
                    order:
                      $ref: "#/components/schemas/Order"
                  required:
                    - order
                error:
                  $ref: "#/components/schemas/Error"
              required:
                - context
      responses:
        "200":
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: object
                    properties:
                      ack:
                        $ref: "#/components/schemas/Ack"
                    required:
                      - ack
                  error:
                    $ref: "#/components/schemas/Error"
                required:
                  - message
  /issue:
    post:
      tags:
        - Complaint lifecycle management
      description: |
        ###  Operation Description
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  $ref: "#/components/schemas/Context"
                message:
                  type: object
                  properties:
                    issue:
                      $ref: "#/components/schemas/Issue"
              required:
                - context
                - message
      responses:
        "200":
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: object
                    properties:
                      ack:
                        $ref: "#/components/schemas/Ack"
                    required:
                      - ack
                  error:
                    $ref: "#/components/schemas/Error"
                required:
                  - message
  /on_issue:
    post:
      tags:
        - Complaint lifecycle management
      description: Send the issue resolution details object
      requestBody:
        description: Seller confirms order
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  $ref: "#/components/schemas/Context"
                message:
                  type: object
                  properties:
                    issue:
                      $ref: "#/components/schemas/Issue"
                  required:
                    - issue
                error:
                  $ref: "#/components/schemas/Error"
              required:
                - context
                - message
      responses:
        "200":
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: object
                    properties:
                      ack:
                        $ref: "#/components/schemas/Ack"
                    required:
                      - ack
                  error:
                    $ref: "#/components/schemas/Error"
                required:
                  - message
  /issue_status:
    post:
      tags:
        - Complaint lifecycle management
      description: Request for latest status of the complaint
      requestBody:
        description: Seller confirms order
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  $ref: "#/components/schemas/Context"
                message:
                  type: object
                  properties:
                    issue_id:
                      description: >-
                        Network issue identifier is a unique number assigned to
                        a complaint by the interfacing application
                      type: string
                  required:
                    - issue_id
              required:
                - context
                - message
      responses:
        "200":
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: object
                    properties:
                      ack:
                        $ref: "#/components/schemas/Ack"
                    required:
                      - ack
                  error:
                    $ref: "#/components/schemas/Error"
                required:
                  - message
  /on_issue_status:
    post:
      tags:
        - Complaint lifecycle management
      description: Send the issue resolution details object
      requestBody:
        description: Seller confirms order
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  $ref: "#/components/schemas/Context"
                message:
                  type: object
                  properties:
                    issue:
                      $ref: "#/components/schemas/Issue"
                  required:
                    - issue
                error:
                  $ref: "#/components/schemas/Error"
              required:
                - context
                - message
      responses:
        "200":
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: object
                    properties:
                      ack:
                        $ref: "#/components/schemas/Ack"
                    required:
                      - ack
                  error:
                    $ref: "#/components/schemas/Error"
                required:
                  - message

components:
  securitySchemes:
    SubscriberAuth:
      type: apiKey
      in: header
      name: Authorization
      description: >-
        Signature of message body using Buyer App or Seller App subscriber's
        signing public key. <br/><br/>Format:<br/><br/><code>Authorization :
        Signature
        keyId="{subscriber_id}|{unique_key_id}|{algorithm}",algorithm="ed25519",created="1606970629",expires="1607030629",headers="(created)
        (expires) digest",signature="Base64(signing string)"</code>
    GatewaySubscriberAuth:
      type: apiKey
      in: header
      name: Proxy-Authorization
      description: >-
        Signature of message body + BuyerApp/SellerApp's Authorization header
        using Gateway's signing public key.
        Format:<br/><br/><code>Proxy-Authorization : Signature
        keyId="{subscriber_id}|{unique_key_id}|{algorithm}",algorithm="ed25519",created="1606970629",expires="1607030629",headers="(created)
        (expires) digest",signature="Base64(signing
        string)"</code><p><b>Note:</b>This header will be deprecated soon and
        will no longer be supported in future releases. New implementors are
        requested to use the X-Gateway-Authorization header. Existing
        implementations are requested to migrate their header to the new header.
        The deprecation date will be set after discussion as per the standard
        specification governance process.</p>
    GatewaySubscriberAuthNew:
      type: apiKey
      in: header
      name: X-Gateway-Authorization
      description: >-
        Signature of message body + BuyerApp/SellerApp's Authorization header
        using Gateway's signing public key.
        Format:<br/><br/><code>X-Gateway-Authorization : Signature
        keyId="{subscriber_id}|{unique_key_id}|{algorithm}",algorithm="ed25519",created="1606970629",expires="1607030629",headers="(created)
        (expires) digest",signature="Base64(signing string)"</code>
  schemas:
    Ack:
      description: Describes the ACK response
      type: object
      additionalProperties: false
      properties:
        status:
          type: string
          description: >-
            Describe the status of the ACK response. If schema validation
            passes, status is ACK else it is NACK
          enum:
            - ACK
            - NACK
        tags:
          description: >-
            A list of tags containing any additional information sent along with
            the Acknowledgement.
          type: array
          items:
            $ref: "#/components/schemas/TagGroup"
      required:
        - status
    Address:
      description: Describes an address
      type: object
      additionalProperties: false
      properties:
        name:
          type: string
          description: Name of address if applicable. Example, shop name
        building:
          type: string
          description: Name of the building or block
        street:
          type: string
          description: Street name or number
        locality:
          type: string
          description: Name of the locality, apartments
        city:
          type: string
          description: City name
        state:
          type: string
          description: State name
        country:
          type: string
          description: Country name
        area_code:
          type: string
          description: Area code. This can be Pincode, ZIP code or any equivalent
    Agent:
      description: Describes an order executor
      $ref: "#/components/schemas/Contact"
    Authorization:
      description: Describes an authorization mechanism
      type: object
      additionalProperties: false
      properties:
        type:
          type: string
          description: Type of authorization mechanism used
        token:
          type: string
          description: Token used for authorization
        valid_from:
          type: string
          format: date-time
          description: Timestamp in RFC3339 format from which token is valid
        valid_to:
          type: string
          format: date-time
          description: Timestamp in RFC3339 format until which token is valid
    Billing:
      description: Describes a billing event
      type: object
      additionalProperties: false
      properties:
        tax_number:
          description: Tax identification number for billing
          type: string
        name:
          description: Personal details of the customer needed for billing.
          type: string
        address:
          $ref: "#/components/schemas/Address"
        email:
          type: string
          format: email
        phone:
          type: string
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
    Cancellation:
      description: Describes a cancellation event
      type: object
      additionalProperties: false
      properties:
        type:
          type: string
          enum:
            - full
            - partial
        ref_id:
          type: string
        time:
          type: string
          format: date-time
        cancelled_by:
          type: string
        reasons:
          $ref: "#/components/schemas/Option"
        selected_reason:
          type: object
          properties:
            id:
              $ref: "#/components/schemas/Option/properties/id"
        additional_description:
          $ref: "#/components/schemas/Descriptor"
    CancellationTerm:
      description: >-
        Describes the cancellation terms of an item or an order. This can be
        referenced at an item or order level. Item-level cancellation terms can
        override the terms at the order level.
      type: object
      additionalProperties: false
      properties:
        fulfillment_state:
          description: The state of fulfillment during which these terms are applicable.
          $ref: "#/components/schemas/FulfillmentState"
        cancellation_fee:
          $ref: "#/components/schemas/Fee"
        external_ref:
          $ref: "#/components/schemas/MediaFile"
    Catalog:
      description: Describes a Seller App catalog
      additionalProperties: false
      type: object
      properties:
        bpp/descriptor:
          $ref: "#/components/schemas/Descriptor"
        bpp/providers:
          type: array
          items:
            $ref: "#/components/schemas/Provider"
        bpp/fulfillments:
          type: array
          items:
            $ref: "#/components/schemas/Fulfillment"
      required:
        - bpp/providers
    Category:
      description: Describes a category
      additionalProperties: false
      type: object
      properties:
        id:
          type: string
          description: Unique id of the category
        parent_category_id:
          type: string
          description: Unique id of the parent category
        descriptor:
          $ref: "#/components/schemas/Descriptor"
        time:
          $ref: "#/components/schemas/Time"
        image:
          description: >-
            Image of an object. <br/><br/> A url based image will look like
            <br/><br/>```uri:http://path/to/image``` <br/><br/> An image can
            also be sent as a data string. For example : <br/><br/>
            ```data:js87y34ilhriuho84r3i4```
          type: string
        tags:
          type: array
          items:
            $ref: "#/components/schemas/TagGroup"
    IntentCategory:
      description: Describes a category
      additionalProperties: false
      type: object
      properties:
        id:
          type: string
          description: Unique id of the category
    Circle:
      description: Describes a circular area on the map
      additionalProperties: false
      type: object
      properties:
        gps:
          $ref: "#/components/schemas/Gps"
        radius:
          $ref: "#/components/schemas/Scalar"
      required:
        - gps
        - radius
    City:
      description: Describes a city
      additionalProperties: false
      type: object
      properties:
        name:
          type: string
          description: Name of the city
        code:
          type: string
          description: >-
            Codification of city code will be using the std code of the city
            e.g. for Bengaluru, city code is 'std:080'
    Contact:
      additionalProperties: false
      type: object
      properties:
        name:
          type: string
        phone:
          type: string
        email:
          type: string
    Context:
      description: Describes a ONDC message context
      additionalProperties: false
      type: object
      properties:
        domain:
          $ref: "#/components/schemas/Domain"
        country:
          $ref: "#/components/schemas/Country/properties/code"
        city:
          $ref: "#/components/schemas/City/properties/code"
        action:
          type: string
          description: >-
            Defines the ONDC API call. Any actions other than the enumerated
            actions are not supported by ONDC Protocol
          enum:
            - search
            - select
            - init
            - confirm
            - update
            - status
            - track
            - cancel
            - on_search
            - on_select
            - on_init
            - on_confirm
            - on_update
            - on_status
            - on_track
            - on_cancel
        core_version:
          type: string
          description: Version of ONDC core API specification being used
        bap_id:
          type: string
          description: >-
            Unique id of the Buyer App. By default it is the fully qualified
            domain name of the Buyer App
        bap_uri:
          type: string
          format: uri
          description: >-
            URI of the Buyer App for accepting callbacks. Must have the same
            domain name as the bap_id
        bpp_id:
          type: string
          description: >-
            Unique id of the Seller App. By default it is the fully qualified
            domain name of the Seller App, mandatory for all peer-to-peer API
            requests, i.e. except search and on_search
        bpp_uri:
          type: string
          format: uri
          description: >-
            URI of the Seller App. Must have the same domain name as the bap_id,
            mandatory for all peer-to-peer API requests, i.e. except search and
            on_search
        transaction_id:
          type: string
          description: >-
            This is a unique value which persists across all API calls from
            search through confirm
        message_id:
          type: string
          description: >-
            This is a unique value which persists during a request / callback
            cycle
        timestamp:
          type: string
          format: date-time
          description: Time of request generation in RFC3339 format
        key:
          type: string
          description: The encryption public key of the sender
        ttl:
          type: string
          description: >-
            Timestamp for which this message holds valid in ISO8601 durations
            format - Outer limit for ttl for search, select, init, confirm,
            status, track, cancel, update, rating, support is 'PT30S' which is
            30 seconds, different buyer apps can change this to meet their UX
            requirements, but it shouldn't exceed this outer limit
      required:
        - domain
        - action
        - core_version
        - bap_id
        - bap_uri
        - transaction_id
        - message_id
        - city
        - country
        - timestamp
    Country:
      description: Describes a country.
      additionalProperties: false
      type: object
      properties:
        name:
          type: string
          description: Name of the country
        code:
          type: string
          description: Country code as per ISO 3166 Alpha-3 code format
    CountryState:
      description: Describes a state.
      additionalProperties: false
      type: object
      properties:
        name:
          type: string
          description: Name of the state
        code:
          type: string
          description: State code as per ISO 3166 Alpha-2 code format
    Credential:
      description: Describes a credential of an entity - Person or Organization
      additionalProperties: false
      type: object
      properties:
        id:
          type: string
        descriptor:
          $ref: "#/components/schemas/Descriptor"
        url:
          description: URL of the credential
          type: string
          format: uri
        tags:
          type: array
          items:
            $ref: "#/components/schemas/TagGroup"
    DecimalValue:
      description: Describes a decimal value
      type: string
      pattern: "[+-]?([0-9]*[.])?[0-9]+"
    Descriptor:
      description: Describes the description of a real-world object.
      additionalProperties: false
      type: object
      properties:
        name:
          type: string
        code:
          type: string
        symbol:
          type: string
        short_desc:
          type: string
        long_desc:
          type: string
        images:
          type: array
          items:
            $ref: "#/components/schemas/Image"
        tags:
          type: array
          items:
            $ref: "#/components/schemas/TagGroup"
        additional_desc:
          additionalProperties: false
          type: object
          description: >-
            Additional description of the object. This can be used to send
            additional information about the object which is not covered in the
            other fields
          properties:
            content_type:
              type: string
              description: >-
                Content type of the Instruction.
              enum:
                - text/plain
                - text/html
            url:
              type: string
              description: URL for additional instructions or details
    FulfillmentDescriptor:
      description: Describes the description of a real-world object.
      additionalProperties: false
      type: object
      properties:
        code:
          type: string
        name:
          type: string
        short_desc:
          type: string
    Dimensions:
      description: Describes the dimensions of a real-world object
      additionalProperties: false
      type: object
      properties:
        length:
          $ref: "#/components/schemas/Scalar"
        breadth:
          $ref: "#/components/schemas/Scalar"
        height:
          $ref: "#/components/schemas/Scalar"
    Document:
      description: Describes a document which can be sent as a url
      additionalProperties: false
      type: object
      properties:
        url:
          type: string
          format: uri
        label:
          type: string
    Domain:
      description: Codification of domain for ONDC
      type: string
      enum:
        - ONDC:RET10
        - ONDC:RET11
        - ONDC:RET12
        - ONDC:RET13
        - ONDC:RET14
        - ONDC:RET15
        - ONDC:RET16
        - ONDC:RET18
        - ONDC:RET19
    Duration:
      description: Describes duration as per ISO8601 format
      type: string
    Error:
      description: Describes an error object
      additionalProperties: false
      type: object
      properties:
        type:
          type: string
          enum:
            - CONTEXT-ERROR
            - CORE-ERROR
            - DOMAIN-ERROR
            - JSON-SCHEMA-ERROR
        code:
          type: string
          description: >-
            ONDC specific error code. For full list of error codes, refer to
            docs/drafts/Error Codes.md of this repo
        path:
          type: string
          description: >-
            Path to json schema generating the error. Used only during json
            schema validation errors
        message:
          type: string
          description: Human readable message describing the error
      required:
        - type
        - code
    Fee:
      description: A fee applied on a particular entity
      additionalProperties: false
      type: object
      properties:
        percentage:
          description: Percentage of a value
          $ref: "#/components/schemas/DecimalValue"
        amount:
          description: A fixed value
          $ref: "#/components/schemas/Price"
    Fulfillment:
      description: >-
        Describes how a single product/service will be rendered/fulfilled to the
        end customer
      additionalProperties: false
      type: object
      properties:
        id:
          type: string
          description: Unique reference ID to the fulfillment of an order
        type:
          type: string
          description: >-
            This describes the type of fulfillment ("Pickup" - Buyer picks up
            from store by themselves or through their logistics provider;
            "Delivery" - seller delivers to buyer)
          enum:
            - Delivery
            - Pickup
            - Delivery and Pickup
        contact:
          $ref: "#/components/schemas/Contact"
        state:
          type: string
          description: Fulfillment state of an order
      required:
        - id
        - type
    IntentFulfillment:
      description: >-
        Describes how a single product/service will be rendered/fulfilled to the
        end customer
      additionalProperties: false
      type: object
      properties:
        type:
          type: string
          description: >-
            This describes the type of fulfillment ("Pickup" - Buyer picks up
            from store by themselves or through their logistics provider;
            "Delivery" - seller delivers to buyer)
          enum:
            - Delivery
            - Pickup
            - Delivery and Pickup
        end:
          description: Details on the end of fulfillment
          additionalProperties: false
          type: object
          properties:
            location:
              description: Describes an address
              additionalProperties: false
              type: object
              properties:
                address:
                  additionalProperties: false
                  type: object
                  description: Address object
                  properties:
                    area_code:
                      type: string
                      description: Area code. This can be Pincode, ZIP code or any equivalent
                gps:
                  description: Describes a gps coordinate
                  type: string
                  pattern: >-
                    ^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$
    OrderFulfillment:
      description: >-
        Describes how a single product/service will be rendered/fulfilled to the
        end customer
      additionalProperties: false
      type: object
      properties:
        id:
          type: string
          description: Unique reference ID to the fulfillment of an order
        type:
          type: string
          description: >-
            This describes the type of fulfillment ("Pickup" - Buyer picks up
            from store by themselves or through their logistics provider;
            "Delivery" - seller delivers to buyer)
          enum:
            - Delivery
            - Pickup
            - Delivery and Pickup
            - Reverse QC
        "@ondc/org/category":
          type: string
        "@ondc/org/TAT":
          description: >-
            fulfillment turnaround time in ISO8601 durations format e.g. 'PT24H'
            indicates 24 hour TAT
          type: string
        "@ondc/org/provider_name":
          type: string
        provider_id:
          type: string
        vehicle:
          $ref: "#/components/schemas/Vehicle"
        agent:
          $ref: "#/components/schemas/Agent"
        rating:
          $ref: "#/components/schemas/Rating/properties/value"
        state:
          $ref: "#/components/schemas/FulfillmentState"
        tracking:
          type: boolean
          description: Indicates whether the fulfillment allows tracking
          default: false
        start:
          description: Details on the start of fulfillment
          additionalProperties: false
          type: object
          properties:
            location:
              $ref: "#/components/schemas/FulfillmentLocation"
            time:
              $ref: "#/components/schemas/Time"
            instructions:
              $ref: "#/components/schemas/Descriptor"
            contact:
              $ref: "#/components/schemas/Contact"
            person:
              $ref: "#/components/schemas/Person"
            authorization:
              $ref: "#/components/schemas/Authorization"
        end:
          description: Details on the end of fulfillment
          additionalProperties: false
          type: object
          properties:
            location:
              $ref: "#/components/schemas/FulfillmentLocation"
            time:
              $ref: "#/components/schemas/Time"
            instructions:
              $ref: "#/components/schemas/Descriptor"
            contact:
              $ref: "#/components/schemas/Contact"
            person:
              $ref: "#/components/schemas/Person"
            authorization:
              $ref: "#/components/schemas/Authorization"
        tags:
          type: array
          items:
            $ref: "#/components/schemas/TagGroup"
      required:
        - id
        - type
    Gps:
      description: Describes a gps coordinate
      type: string
      pattern: >-
        ^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$
    Image:
      description: >-
        Image of an object. <br/><br/> A url based image will look like
        <br/><br/>```uri:http://path/to/image``` <br/><br/> An image can also be
        sent as a data string. For example : <br/><br/>
        ```data:js87y34ilhriuho84r3i4```
      type: string
    Intent:
      description: >-
        Intent of a user. Used for searching for services. Buyer App can set
        finder fee type in payment."@ondc/org/buyer_app_finder_fee_type" and
        amount in "@ondc/org/buyer_app_finder_fee_amount"
      additionalProperties: false
      type: object
      properties:
        fulfillment:
          $ref: "#/components/schemas/IntentFulfillment"
        payment:
          $ref: "#/components/schemas/IntentPayment"
        category:
          $ref: "#/components/schemas/IntentCategory"
        item:
          description: Describes a item
          additionalProperties: false
          type: object
          properties:
            descriptor:
              additionalProperties: false
              type: object
              properties:
                name:
                  type: string
        tags:
          type: array
          items:
            $ref: "#/components/schemas/TagGroup"
    ItemQuantity:
      description: Describes count or amount of an item
      additionalProperties: false
      type: object
      properties:
        available:
          additionalProperties: false
          type: object
          properties:
            count:
              type: string
        maximum:
          additionalProperties: false
          type: object
          properties:
            count:
              type: string
        minimum:
          additionalProperties: false
          type: object
          properties:
            count:
              type: string
        unitized:
          description: This represents the quantity available in a single unit of the item
          additionalProperties: false
          type: object
          properties:
            count:
              type: string

            measure:
              additionalProperties: false
              type: object
              properties:
                unit:
                  type: string
                value:
                  type: string
        count:
          type: integer
    Item:
      description: >-
        Describes a product or a service offered to the end consumer by the
        provider
      additionalProperties: false
      type: object
      properties:
        id:
          description: >-
            This is the most unique identifier of a service item. An example of
            an Item ID could be the SKU of a product.
          type: string
        parent_item_id:
          description: >-
            This is the most unique identifier of a service item. An example of
            an Item ID could be the SKU of a product.
          type: string
        descriptor:
          $ref: "#/components/schemas/Descriptor"
        price:
          description: Describes the price of an item. Allows for domain extension.
          additionalProperties: false
          type: object
          properties:
            currency:
              type: string
              description: ISO 4217 alphabetic currency code e.g. 'INR'
            value:
              $ref: "#/components/schemas/DecimalValue"
            maximum_value:
              $ref: "#/components/schemas/DecimalValue"
            tags:
              type: array
              items:
                $ref: "#/components/schemas/TagGroup"
        quantity:
          anyOf:
            - type: integer
            - $ref: "#/components/schemas/ItemQuantity"
        category_id:
          $ref: "#/components/schemas/Category/properties/id"
        category_ids:
          description: Categories this item can be listed under
          type: array
          items:
            $ref: "#/components/schemas/Category/properties/id"
        fulfillment_id:
          $ref: "#/components/schemas/Fulfillment/properties/id"
        fulfillment_ids:
          type: array
          items:
            type: string
            description: Unique reference ID to the fulfillment of an order
        replacement_terms:
          type: array
          items:
            additionalProperties: false
            type: object
            properties:
              replace_within:
                additionalProperties: false
                type: object
                properties:
                  duration:
                    type: string
                    description: The duration within which the item can be replaced
        rating:
          $ref: "#/components/schemas/Rating/properties/value"
        location_id:
          $ref: "#/components/schemas/Location/properties/id"
        time:
          $ref: "#/components/schemas/Time"
        related:
          type: boolean
        recommended:
          type: boolean
        "@ondc/org/returnable":
          description: whether the item is returnable
          type: boolean
        "@ondc/org/seller_pickup_return":
          description: in case of return, whether the item should be picked up by seller
          type: boolean
        "@ondc/org/return_window":
          description: >-
            return window for the item in ISO8601 durations format e.g. 'PT24H'
            indicates 24 hour return window. Mandatory if "@ondc/org/returnable"
            is "true"
          type: string
        "@ondc/org/cancellable":
          description: whether the item is cancellable
          type: boolean
        "@ondc/org/time_to_ship":
          description: >-
            time from order confirmation by which item ready to ship in ISO8601
            durations format (e.g. 'PT30M' indicates item ready to ship in 30
            mins). Mandatory for category_id "F&B"
          type: string
        "@ondc/org/available_on_cod":
          description: whether the catalog item is available on COD
          type: boolean
        "@ondc/org/contact_details_consumer_care":
          description: contact details for consumer care
          type: string
        "@ondc/org/statutory_reqs_packaged_commodities":
          additionalProperties: false
          type: object
          description: mandatory for category_id "Packaged Commodities"
          properties:
            common_or_generic_name_of_commodity:
              description: common or generic name of commodity
              type: string
            month_year_of_manufacture_packing_import:
              description: month and year of manufacture or packing or import
              type: string
            manufacturer_or_packer_name:
              description: >-
                name of manufacturer or packer (in case manufacturer is not the
                packer) or name of importer for imported goods
              type: string
            manufacturer_or_packer_address:
              description: >-
                address of manufacturer or packer (in case manufacturer is not
                the packer) or address of importer for imported goods
              type: string
            mfg_license_no:
              description: manufacturing license no
              type: string
            multiple_products_name_number_or_qty:
              description: >-
                for packages with multiple products, the name and number of
                quantity of each (can be shown as "name1-number_or_quantity;
                name2-number_or_quantity..")
              type: string
            net_quantity_or_measure_of_commodity_in_pkg:
              description: >-
                net quantity of commodity in terms of standard unit of weight or
                measure of commodity contained in package
              type: string
            expiry_date:
              description: month and year of expiry
              type: string
        "@ondc/org/statutory_reqs_prepackaged_food":
          additionalProperties: false
          type: object
          description: mandatory for category_id "Packaged food"
          properties:
            nutritional_info:
              description: >-
                nutritional info (can be shown as nutritional info (with unit,
                per standard unit, per serving);..) e.g. "Energy(KCal) - (per
                100kg) 420, (per serving 50g) 250; Protein(g) - (per 100kg) 12,
                (per serving 50g)6;.."
              type: string
            additives_info:
              description: >-
                food additives together with specific name or recognized
                International Numbering System (can be shown as additive1-name
                or number;additive2-name or number;..)
              type: string
            brand_owner_FSSAI_license_no:
              description: FSSAI license no of brand owner
              type: string
            other_FSSAI_license_no:
              description: >-
                FSSAI license no of manufacturer or marketer or packer or
                bottler if different from brand owner
              type: string
            importer_FSSAI_license_no:
              description: FSSAI license no of importer
              type: string
        tags:
          type: array
          items:
            $ref: "#/components/schemas/TagGroup"
    OrderItem:
      description: >-
        Describes a product or a service offered to the end consumer by the
        provider
      additionalProperties: false
      type: object
      properties:
        id:
          description: >-
            This is the most unique identifier of a service item. An example of
            an Item ID could be the SKU of a product.
          type: string
        descriptor:
          description: Describes the description of a real-world object.
          additionalProperties: false
          type: object
          properties:
            tags:
              type: array
              items:
                $ref: "#/components/schemas/TagGroup"
        parent_item_id:
          description: >-
            This is the most unique identifier of a service item. An example of
            an Item ID could be the SKU of a product.
          type: string
        location_id:
          description: This is the most unique identifier of a location item.
          type: string
        fulfillment_id:
          type: string
          description: Unique reference ID to the fulfillment of an order
        fulfillment_ids:
          type: array
          items:
            type: string
            description: Unique reference ID to the fulfillment of an order
        quantity:
          additionalProperties: false
          type: object
          properties:
            count:
              type: integer
              minimum: 0
        tags:
          type: array
          items:
            $ref: "#/components/schemas/TagGroup"
    Language:
      description: >-
        indicates language code. ONDC supports language codes as per ISO 639.2
        standard
      additionalProperties: false
      type: object
      properties:
        code:
          type: string
    Location:
      description: Describes the location of a runtime object.
      additionalProperties: false
      type: object
      properties:
        id:
          type: string
        descriptor:
          $ref: "#/components/schemas/Descriptor"
        gps:
          $ref: "#/components/schemas/Gps"
        address:
          $ref: "#/components/schemas/Address"
        city:
          $ref: "#/components/schemas/City"
        state:
          $ref: "#/components/schemas/CountryState"
        time:
          $ref: "#/components/schemas/Time"
        circle:
          $ref: "#/components/schemas/Circle"
    IntentLocation:
      description: Describes the location of a runtime object.
      additionalProperties: false
      type: object
      properties:
        gps:
          $ref: "#/components/schemas/Gps"
        address:
          $ref: "#/components/schemas/Address"
    FulfillmentLocation:
      description: Describes the location of a runtime object.
      additionalProperties: false
      type: object
      properties:
        id:
          type: string
        descriptor:
          $ref: "#/components/schemas/FulfillmentDescriptor"
        gps:
          $ref: "#/components/schemas/Gps"
        address:
          $ref: "#/components/schemas/Address"
        location:
          $ref: "#/components/schemas/Location"
    TrackLocation:
      description: Describes the location of a runtime object.
      additionalProperties: false
      type: object
      properties:
        id:
          type: string
        gps:
          $ref: "#/components/schemas/Gps"
        time:
          additionalProperties: false
          type: object
          properties:
            timestamp:
              type: string
              format: date-time
        updated_at:
          type: string
          format: date-time
    Name:
      type: string
      description: >-
        Describes the name of a person.
    MediaFile:
      description: This object contains a url to a media file.
      additionalProperties: false
      type: object
      properties:
        mimetype:
          description: >-
            indicates the nature and format of the document, file, or assortment
            of bytes. MIME types are defined and standardized in IETF's RFC 6838
          type: string
        url:
          description: The URL of the file
          type: string
          format: uri
        signature:
          description: The digital signature of the file signed by the sender
          type: string
        dsa:
          description: The signing algorithm used by the sender
          type: string
    Offer:
      description: Describes an offer
      additionalProperties: false
      type: object
      properties:
        id:
          type: string
        descriptor:
          $ref: "#/components/schemas/Descriptor"
        location_ids:
          type: array
          items:
            $ref: "#/components/schemas/Location/properties/id"
        category_ids:
          description: Categories this item can be listed under
          type: array
          items:
            $ref: "#/components/schemas/Category/properties/id"
        item_ids:
          type: array
          items:
            $ref: "#/components/schemas/Item/properties/id"
        time:
          $ref: "#/components/schemas/Time"
        tags:
          type: array
          items:
            $ref: "#/components/schemas/TagGroup"
    Operator:
      description: Describes the agent of a service
      allOf:
        - $ref: "#/components/schemas/Person"
        - properties:
            experience:
              additionalProperties: false
              type: object
              properties:
                label:
                  type: string
                value:
                  type: string
                unit:
                  type: string
    Option:
      description: Describes a selectable option
      additionalProperties: false
      type: object
      properties:
        id:
          type: string
        descriptor:
          $ref: "#/components/schemas/Descriptor"
    Order:
      description: Describes the details of an order
      additionalProperties: false
      type: object
      properties:
        id:
          type: string
          description: Unique identifier for Order across the network
        state:
          type: string
        provider:
          additionalProperties: false
          type: object
          properties:
            id:
              $ref: "#/components/schemas/Provider/properties/id"
            locations:
              type: array
              maxItems: 1
              items:
                additionalProperties: false
                type: object
                properties:
                  id:
                    $ref: "#/components/schemas/Location/properties/id"
            creds:
              type: array
              items:
                additionalProperties: false
                type: object
                properties:
                  descriptor:
                    additionalProperties: false
                    type: object
                    properties:
                      code:
                        type: string
                      short_desc:
                        type: string
        items:
          type: array
          items:
            $ref: "#/components/schemas/OrderItem"
        offers:
          type: array
          items:
            $ref: "#/components/schemas/Offer"
        documents:
          type: array
          items:
            $ref: "#/components/schemas/Document"
        billing:
          $ref: "#/components/schemas/Billing"
        fulfillments:
          type: array
          items:
            $ref: "#/components/schemas/OrderFulfillment"
        cancellation_terms:
          description: >-
            The cancellation terms of this order. This can be overriden at the
            item level cancellation terms.
          type: array
          items:
            $ref: "#/components/schemas/CancellationTerm"
        cancellation:
          additionalProperties: false
          type: object
          properties:
            cancelled_by:
              type: string
              minLength: 1
            reason:
              additionalProperties: false
              type: object
              properties:
                id:
                  type: string
                  minLength: 1
                state:
                  type: string
              required:
                - id
                - state
          required:
            - cancelled_by
            - reason
        quote:
          $ref: "#/components/schemas/Quotation"
        payment:
          $ref: "#/components/schemas/Payment"
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
        tags:
          type: array
          items:
            $ref: "#/components/schemas/TagGroup"
    Organization:
      description: Describes an organization
      additionalProperties: false
      type: object
      properties:
        name:
          type: string
        cred:
          type: string
        org:
          type: object
          additionalProperties: false
          properties:
            name:
              type: string
        contact:
          type: object
          additionalProperties: false
          properties:
            phone:
              type: string
            email:
              type: string
              format: email
        person:
          type: object
          additionalProperties: false
          properties:
            name:
              type: string
    Payment:
      description: Describes a payment
      additionalProperties: false
      type: object
      properties:
        uri:
          type: string
          description: >-
            A payment uri to be called by the Buyer App. If empty, then the
            payment is to be done offline. The details of payment should be
            present in the params object. If ```tl_method``` = http/get, then
            the payment details will be sent as url params. Two url param
            values, ```$transaction_id``` and ```$amount``` are mandatory. And
            example url would be :
            https://www.example.com/pay?txid=$transaction_id&amount=$amount&vpa=upiid&payee=shopez&billno=1234
          format: uri
        tl_method:
          type: string
          enum:
            - http/get
            - http/post
            - payto
            - upi
        params:
          additionalProperties: false
          type: object
          properties:
            transaction_id:
              type: string
              description: >-
                This value will be placed in the the $transaction_id url param
                in case of http/get and in the requestBody http/post requests
            transaction_status:
              type: string
            amount:
              $ref: "#/components/schemas/DecimalValue"
            currency:
              $ref: "#/components/schemas/Price/properties/currency"
          required:
            - currency
        type:
          type: string
          enum:
            - ON-ORDER
            - ON-FULFILLMENT
            - POST-FULFILLMENT
        status:
          type: string
          enum:
            - PAID
            - NOT-PAID
        time:
          $ref: "#/components/schemas/Time"
        collected_by:
          type: string
          enum:
            - BAP
            - BPP
        "@ondc/org/buyer_app_finder_fee_type":
          type: string
          enum:
            - Amount
            - Percent
        "@ondc/org/buyer_app_finder_fee_amount":
          $ref: "#/components/schemas/DecimalValue"
        "@ondc/org/withholding_amount":
          $ref: "#/components/schemas/DecimalValue"
        "@ondc/org/return_window":
          description: >-
            return window for withholding amount in ISO8601 durations format
            e.g. 'PT24H' indicates 24 hour return window
          type: string
        "@ondc/org/settlement_basis":
          description: >-
            In case of prepaid payment, whether settlement between
            counterparties should be on the basis of collection, shipment or
            delivery
          type: string
          enum:
            - shipment
            - delivery
            - return_window_expiry
        "@ondc/org/settlement_window":
          description: >-
            settlement window for the counterparty in ISO8601 durations format
            e.g. 'PT48H' indicates 48 hour return window
          type: string
        tags:
          type: array
          items:
            $ref: "#/components/schemas/TagGroup"
        "@ondc/org/settlement_details":
          type: array
          items:
            additionalProperties: false
            type: object
            properties:
              settlement_counterparty:
                type: string
                enum:
                  - buyer
                  - buyer-app
                  - seller-app
                  - logistics-provider
              settlement_phase:
                type: string
                enum:
                  - sale-amount
                  - withholding-amount
                  - refund
              settlement_amount:
                type: string
              settlement_type:
                type: string
                enum:
                  - neft
                  - rtgs
                  - upi
              settlement_bank_account_no:
                type: string
              settlement_ifsc_code:
                type: string
              settlement_reference:
                type: string
              upi_address:
                description: UPI payment address e.g. VPA
                type: string
              bank_name:
                description: Bank name
                type: string
              branch_name:
                description: Branch name
                type: string
              beneficiary_name:
                description: Beneficiary Name
                type: string
              settlement_status:
                type: string
                enum:
                  - PAID
                  - NOT-PAID
              settlement_timestamp:
                description: Settlement transaction timestamp
                type: string
                format: date-time
    IntentPayment:
      description: Describes a payment in search intent.
      additionalProperties: false
      type: object
      properties:
        "@ondc/org/buyer_app_finder_fee_type":
          type: string
          enum:
            - Amount
            - Percent
        "@ondc/org/buyer_app_finder_fee_amount":
          $ref: "#/components/schemas/DecimalValue"
      required:
        - "@ondc/org/buyer_app_finder_fee_type"
        - "@ondc/org/buyer_app_finder_fee_amount"
    Person:
      description: Describes a person.
      additionalProperties: false
      type: object
      properties:
        name:
          $ref: "#/components/schemas/Name"
    Price:
      description: Describes the price of an item. Allows for domain extension.
      additionalProperties: false
      type: object
      properties:
        currency:
          type: string
          description: ISO 4217 alphabetic currency code e.g. 'INR'
        value:
          $ref: "#/components/schemas/DecimalValue"
        tags:
          $ref: "#/components/schemas/TagGroup"
    Provider:
      description: >-
        Describes a service provider. This can be a restaurant, a hospital, a
        Store etc
      additionalProperties: false
      type: object
      properties:
        id:
          type: string
          description: Id of the provider
        descriptor:
          $ref: "#/components/schemas/Descriptor"
        category_id:
          type: string
          description: Category Id of the provider
        "@ondc/org/fssai_license_no":
          type: string
          description: FSSAI license no. Mandatory for category_id "F&B"
        rating:
          $ref: "#/components/schemas/Rating/properties/value"
        time:
          $ref: "#/components/schemas/Time"
        categories:
          type: array
          items:
            $ref: "#/components/schemas/Category"
        creds:
          type: array
          items:
            $ref: "#/components/schemas/Credential"
        fulfillments:
          type: array
          items:
            $ref: "#/components/schemas/Fulfillment"
        locations:
          type: array
          items:
            $ref: "#/components/schemas/Location"
        offers:
          type: array
          items:
            $ref: "#/components/schemas/Offer"
        items:
          type: array
          items:
            $ref: "#/components/schemas/Item"
        ttl:
          type: string
          description: >-
            Validity of catalog in ISO8601 durations format after which it has
            to be refreshed e.g. 'P7D' indicates validity of 7 days; value of 0
            indicates catalog is not cacheable
        tags:
          type: array
          items:
            $ref: "#/components/schemas/TagGroup"
    Quotation:
      description: Describes a quote
      additionalProperties: false
      type: object
      properties:
        price:
          $ref: "#/components/schemas/Price"
        breakup:
          type: array
          items:
            additionalProperties: false
            type: object
            properties:
              "@ondc/org/item_id":
                $ref: "#/components/schemas/Item/properties/id"
              "@ondc/org/item_quantity":
                additionalProperties: false
                type: object
                properties:
                  count:
                    type: integer
                    minimum: 0
              "@ondc/org/title_type":
                type: string
                enum:
                  - item
                  - delivery
                  - packing
                  - tax
                  - misc
                  - discount
              item:
                additionalProperties: false
                type: object
                properties:
                  quantity:
                    additionalProperties: false
                    type: object
                    properties:
                      available:
                        $ref: "#/components/schemas/ItemQuantity/properties/available"
                      maximum:
                        $ref: "#/components/schemas/ItemQuantity/properties/maximum"
                  parent_item_id:
                    $ref: "#/components/schemas/Item/properties/parent_item_id"
                  price:
                    $ref: "#/components/schemas/Price"
                  tags:
                    type: array
                    items:
                      $ref: "#/components/schemas/TagGroup"
              title:
                type: string
              price:
                $ref: "#/components/schemas/Price"
              ttl:
                $ref: "#/components/schemas/Duration"
        ttl:
          type: string
          description: >-
            Validity of quote in ISO8601 durations format after which it has to
            be refreshed e.g. 'P7D' indicates validity of 7 days; value of 0
            indicates quote is not cacheable
    Rateable:
      description: If the entity can be rated or not
      type: boolean
    Rating:
      description: Describes the rating of a person or an object.
      additionalProperties: false
      type: object
      properties:
        value:
          description: >-
            Rating value given to the object (1 - Poor; 2 - Needs improvement; 3
            - Satisfactory; 4 - Good; 5 - Excellent)
          type: string
          enum: ["1", "2", "3", "4", "5"]
    Scalar:
      description: An object representing a scalar quantity.
      additionalProperties: false
      type: object
      properties:
        type:
          type: string
          enum:
            - CONSTANT
            - VARIABLE
        value:
          type: string
        estimated_value:
          type: number
        computed_value:
          type: number
        range:
          additionalProperties: false
          type: object
          properties:
            min:
              type: number
            max:
              type: number
        unit:
          type: string
      required:
        - value
        - unit
    Schedule:
      description: Describes a schedule
      type: object
      properties:
        frequency:
          $ref: "#/components/schemas/Duration"
        holidays:
          type: array
          items:
            type: string
            format: date
        times:
          type: array
          items:
            type: string
    State:
      description: Describes a state
      additionalProperties: false
      type: object
      properties:
        descriptor:
          $ref: "#/components/schemas/Descriptor"
        updated_at:
          type: string
          format: date-time
        updated_by:
          type: string
          description: ID of entity which changed the state
    FulfillmentState:
      description: Describes a state
      additionalProperties: false
      type: object
      properties:
        descriptor:
          $ref: "#/components/schemas/FulfillmentDescriptor"
        updated_at:
          type: string
          format: date-time
    Subscriber:
      additionalProperties: false
      type: object
      description: >-
        Any entity which wants to authenticate itself on a network. This can be
        a Buyer App, Seller App or Gateway.
      properties:
        subscriber_id:
          type: string
          description: >-
            Registered domain name of the subscriber. Must have a valid SSL
            certificate issued by a Certificate Authority of the operating
            region
        type:
          type: string
          enum:
            - bap
            - bpp
            - bg
        cb_url:
          type: string
          description: >-
            Callback URL of the subscriber. The Registry will call this URL's
            on_subscribe API to validate the subscriber\'s credentials
        domain:
          $ref: "#/components/schemas/Domain"
        city:
          $ref: "#/components/schemas/City/properties/code"
        country:
          $ref: "#/components/schemas/Country/properties/code"
        signing_public_key:
          type: string
          description: >-
            Signing Public key of the subscriber. <br/><br/>Any subscriber
            platform (Buyer App, Seller App, Gateway) who wants to transact on
            the network must digitally sign the ```requestBody``` using the
            corresponding private key of this public key and send it in the
            transport layer header. In case of ```HTTP``` it is the
            ```Authorization``` header. <br><br/>The ```Authorization``` will be
            used to validate the signature of a Buyer App or Seller
            App.<br/><br/>Furthermore, if an API call is being proxied or
            multicast by a ONDC Gateway, the Gateway must use it\'s signing key
            to digitally sign the ```requestBody``` using the corresponding
            private key of this public key and send it in the
            ```X-Gateway-Authorization``` header.
        encryption_public_key:
          type: string
          description: >-
            Encryption public key of the Buyer App. Any Seller App must encrypt
            the ```requestBody.message``` value of the ```on_search``` API using
            this public key.
        status:
          type: string
          enum:
            - INITIATED
            - UNDER_SUBSCRIPTION
            - SUBSCRIBED
            - INVALID_SSL
            - UNSUBSCRIBED
        created:
          type: string
          description: >-
            Timestamp when a subscriber was added to the registry with status =
            INITIATED
          format: date-time
        updated:
          type: string
          format: date-time
        expires:
          type: string
          description: >-
            Expiry timestamp in UTC derived from the ```lease_time``` of the
            subscriber
          format: date-time
    Support:
      description: Customer support
      additionalProperties: false
      type: object
      properties:
        type:
          type: string
          enum:
            - order
            - billing
            - fulfillment
        ref_id:
          type: string
        channels:
          $ref: "#/components/schemas/TagGroup"
    Tag:
      description: >-
        Describes a tag. This is a simple key-value store which is used to
        contain extended metadata. This object can be added as a property to any
        schema to describe extended attributes. For BAPs, tags can be sent
        during search to optimize and filter search results. BPPs can use tags
        to index their catalog to allow better search functionality. Tags are
        sent by the BPP as part of the catalog response in the `on_search`
        callback. Tags are also meant for display purposes. Upon receiving a
        tag, BAPs are meant to render them as name-value pairs. This is
        particularly useful when rendering tabular information about a product
        or service.
      type: object
      properties:
        code:
          description: >-
            The machine-readable name of the tag. The allowed values of this
            property can be published at three levels namely, a) Core
            specification, b) industry sector-specific adaptations, and c)
            Network-specific adaptations. Except core, each adaptation (sector
            or network) should prefix a unique namespace with the allowed value.
          type: string
        name:
          description: >-
            The human-readable name of the tag. This set by the BPP and rendered
            as-is by the BAP. Sometimes, the network policy may reserve some
            names for this property. Values outside the reserved values can be
            set by the BPP. However,the BAP may choose to rename or even ignore
            this value and render the output purely using the `code` property,
            but it is recommended for BAPs to keep the name same to avoid
            confusion and provide consistency.
          type: string
        value:
          description: >-
            The value of the tag. This set by the BPP and rendered as-is by the
            BAP.
          type: string
    TagGroup:
      description: >-
        A collection of tag objects with group level attributes. For detailed
        documentation on the Tags and Tag Groups schema go to
        https://github.com/beckn/protocol-specifications/discussions/316
      type: object
      properties:
        code:
          description: >-
            The machine-readable name of the tag group. The allowed values of
            this property can be published at three levels namely, a) Core
            specification, b) industry sector-specific adaptations, and c)
            Network-specific adaptations. Except core, each adaptation (sector
            or network) should prefix a unique namespace with the allowed value.
            Values outside the allowed values may or may not be ignored by the
            rendering platform. As this schema is purely for catalog display
            purposes, it is not recommended to send this value during search.
          type: string
        list:
          description: >-
            An array of Tag objects listed under this group. This property can
            be set by BAPs during search to narrow the `search` and achieve more
            relevant results. When received during `on_search`, BAPs must render
            this list under the heading described by the `name` property of this
            schema.
          type: array
          items:
            $ref: "#/components/schemas/Tag"
    Time:
      description: >-
        Describes time in its various forms. It can be a single point in time;
        duration; or a structured timetable of operations
      type: object
      properties:
        label:
          type: string
        timestamp:
          type: string
          format: date-time
        frequency:
          type: string
        range:
          type: object
          properties:
            start:
              type: string
            end:
              type: string
        days:
          type: string
          description: comma separated values representing days of the week
        schedule:
          $ref: "#/components/schemas/Schedule"
    Tracking:
      description: >-
        Contains tracking information that can be used by the BAP to track the
        fulfillment of an order in real-time. which is useful for knowing the
        location of time sensitive deliveries.
      additionalProperties: false
      type: object
      properties:
        id:
          description: A unique tracking reference number
          type: string
        url:
          description: >-
            A URL to the tracking endpoint. This can be a link to a tracking
            webpage, a webhook URL created by the BAP where BPP can push the
            tracking data, or a GET url creaed by the BPP which the BAP can poll
            to get the tracking data. It can also be a websocket URL where the
            BPP can push real-time tracking data.
          type: string
          format: uri
        location:
          description: >-
            In case there is no real-time tracking endpoint available, this
            field will contain the latest location of the entity being tracked.
            The BPP will update this value everytime the BAP calls the track
            API.
          $ref: "#/components/schemas/TrackLocation"
        status:
          description: >-
            This value indicates if the tracking is currently active or not. If
            this value is `active`, then the BAP can begin tracking the order.
            If this value is `inactive`, the tracking URL is considered to be
            expired and the BAP should stop tracking the order.
          type: string
          enum:
            - active
            - inactive
        tags:
          type: array
          items:
            $ref: "#/components/schemas/TagGroup"
    Vehicle:
      description: Describes the properties of a vehicle used in a mobility service
      additionalProperties: false
      type: object
      properties:
        registration:
          type: string
        category:
          type: string
        size:
          type: string
    Action:
      type: object
      properties:
        id:
          description: Describes id of the action
          type: string
        ref_id:
          description: Describes the reference id
          type: string
        ref_type:
          description: Describes the refence type
          type: string
        descriptor:
          allOf:
            - $ref: "#/components/schemas/DescriptorIgm"
            - type: object
              properties:
                code:
                  type: string
                  enum:
                    - OPEN
                    - PROCESSING
                    - CLOSED
                    - CASCADED
                    - INFO_REQUESTED
                    - INFO_PROCESSING
                    - INFO_PROVIDED
                    - INFO_NOT_AVAILABLE
                    - RESOLUTION_PROPOSED
                    - RESOLUTION_FORWARDED
                    - RESOLUTION_PROCESSING
                    - RESOLUTION_ACCEPTED
                    - RESOLUTION_REJECTED
                    - RESOLVED
        updated_at:
          type: string
          format: date-time
          description: Timestamp in RFC3339 format when the action was updated
        action_by:
          type: string
          description: Describes the actor who performed the action
        actor_details:
          type: object
          properties:
            name:
              description: Describes id of the actor
              type: string
        # tags:
        #   type: array
        #   items:
        #     $ref: '#/components/schemas/TagGroup'
        tags:
          type: array
          description: List of tag objects
          items:
            type: object
            properties:
              descriptor:
                type: object
                properties:
                  code:
                    type: string
                    description: Descriptor code of the tag group
                required:
                  - code
              list:
                type: array
                description: List of key_value tag entries
                items:
                  type: object
                  properties:
                    descriptor:
                      type: object
                      properties:
                        code:
                          type: string
                          description: Descriptor code of the individual tag
                      required:
                        - code

                    value:
                      type: string
                      description: Value of the tag
                      enum:
                        - THUMBS_UP
                        - THUMBS_DOWN
                  required:
                    - descriptor
                    - value
            required:
              - descriptor
              - list
      additionalProperties: false
    AdditionalInfoRequired:
      type: object
      properties:
        info_required:
          type: object
          $ref: "#/components/schemas/SupplementaryInformation"
        info_provided:
          type: object
          $ref: "#/components/schemas/SupplementaryInformation"
    DescriptorIgm:
      description: Describes the description of a real-world object.
      type: object
      properties:
        name:
          type: string
        code:
          type: string
        symbol:
          type: string
        short_desc:
          type: string
        long_desc:
          type: string
        additional_desc:
          type: object
          properties:
            url:
              type: string
            content_type:
              type: string
              enum:
                - text/plain
                - text/html
                - application/json
          additionalProperties: false
        images:
          type: array
          items:
            $ref: "#/components/schemas/ImageIgm"
        media:
          type: array
          items:
            $ref: "#/components/schemas/MediaFile"
        audio:
          type: string
          format: uri
        3d_render:
          type: string
          format: uri
        tags:
          description: >-
            A list of tags containing any additional information sent along with
            the Acknowledgement.
          type: array
          items:
            $ref: "#/components/schemas/TagGroup"
      additionalProperties: false
    Faq:
      type: object
      description: |
        faqs
      properties:
        question:
          type: string
        answer:
          type: string
      additionalProperties: false
    ResolutionSource:
      description: >
        the resolution source provide details of any addtional resolution
        resources thier types and a link eg : AI enabled chatbot,
        support/contact webpage link , lnik to IVR detials etc
      type: object
      properties:
        type:
          type: string
        link:
          type: string
      additionalProperties: false
    ImageIgm:
      description: >-
        Image of an object. <br/><br/> A url based image will look like
        <br/><br/>```uri:http://path/to/image``` <br/><br/> An image can also be
        sent as a data string. For example : <br/><br/>
        ```data:js87y34ilhriuho84r3i4```
      type: object
      properties:
        url:
          type: string
          format: uri
        size_type:
          type: string
      additionalProperties: false
    ResolutionSupport:
      description: >
        Any one of these resolution support deatils are mandatory to be speficed
        whenever an issue resolution is proposed.

        In case of Issue, Either a respondent ChatLink, email or faq deatils
        should be provided or any of the additional sources of support should be
        provided

        In case of Grievance : the GRO details are manadatory to be provided 

        In case of Dispute : the selected ODR details are mandatory to be
        provided 

        Porvides details of the resolution support for the respondent /
        complainant to interact with the respondent
      type: object
      properties:
        chat_link:
          description: >-
            chatbot link for the respondent for complainant to interact with the
            respondent
          type: string
        contact:
          $ref: "#/components/schemas/Contact"
        faqs:
          description: >-
            frequently asked questions for the respondent for complainant to get
            information as required
          type: array
          items:
            $ref: "#/components/schemas/Faq"
        additional_sources:
          type: array
          items:
            $ref: "#/components/schemas/ResolutionSource"
        gros:
          description: >
            Details of the GRO appointed by the resolution provider to support
            in issue resolution .

            This is a required object if and when the issue type is "Grievance"
          type: array
          items:
            $ref: "#/components/schemas/GRO"
    ResolutionProvider:
      description: >-
        Describes the details of the entity that provides the resolution for the
        issue
      type: object
      properties:
        respondent_info:
          description: >-
            the respondent represents the details of the entity identfied by the
            resolution provider or the complainant himself (when he has to
            select the ODRs)
          type: object
          properties:
            type:
              description: >
                Indicates the type of the resolution provider NP type.

                ### TYPES

                1. Interfacing NP : indicating the NP where or through which the
                issue is raised

                2. Transaction Counterparty NP : indicating the first level of
                transaction counterparty network provider with which the
                interfacing NP is interacting with to get an issue resolution.

                3. Cascaded Counterparty NP : indicating the second or any
                further downstream levels of counterparty network provider with
                which the NP is interacting with to get an issue resolution.
              type: string
              enum:
                - INTERFACING-NP
                - TRANSACTION-COUNTERPARTY-NP
                - CASCADED-COUNTERPARTY-NP
            organization:
              $ref: "#/components/schemas/Organization"
            resolution_support:
              $ref: "#/components/schemas/ResolutionSupport"
      required:
        - respondent_info
    Tag1:
      type: array
      items:
        type: object
        properties:
          descriptor:
            type: object
          list:
            type: array
            items:
              type: object
              properties:
                descriptor:
                  type: object
                  properties:
                    code:
                      type: string
                  additionalProperties: false
                value:
                  type: string
              additionalProperties: false
        additionalProperties: false
    Issue:
      description: >
        *  Describes the Issue/complaint raised for a particular order,
        transaction or fulfillment or item for which an issue is faced by the
        buyer.

        * It also describes the Issue/complaint raised by the network
        participants to its conuter party or casacaded counterparty apps as and
        when applicable

        * Describes the issue when it is escalated as a Grievance or a Dispute

        *  supplementary Information  Describes and details evidence of the
        information about the issue . When the complainant or respondent seeks
        an issue update the addtional information about the update are populated
        as part of the supplementary information. 
          the supplementary information section , details information including but not limited to any of the following or more: 
            * comments from the complaintant/ respondent for seeking more information about the issue
            * comments from the complaintant/ respondent providing the update on the issue with more information on the issue 
            * Picutres providing further information about the issue
            * documents attachment/links providing further information about the issue etc
      type: object
      properties:
        id:
          description: >
            * Network issue identifier is an unique number assigned to any
            complaint by the interfacing application at the source.


            * **During the life cycle of a complaint, this number will not
            change and will be communicated to counterparty application.**


            * Any subsequent issues created with the interfacing,counterpary or
            casacaded counter party apps are responsible for providing the
            correalted and relevant network-issue-id which helps all this
            inteacting systems to traverse back to the main issue.
          type: string
        complainant_info:
          $ref: "#/components/schemas/Complainant"
        order_details:
          $ref: "#/components/schemas/OrderDetails"
        category:
          $ref: "#/components/schemas/IssueCategory"
        sub_category:
          $ref: "#/components/schemas/IssueSubCategory"
        level:
          $ref: "#/components/schemas/Level"
        issue_type:
          description: |
            identifies the type of the issue raised
            * the complainant being raised can be a regular ```Issue```, 
            * which then subsequently can be escalated to be a ```Grievance``` 
            * which may be further escalated to be a ```Dispute```
          type: string
          enum:
            - ISSUE
            - GRIEVANCE
            - DISPUTE
        source:
          $ref: "#/components/schemas/IssueSource"
        expected_response_time:
          $ref: "#/components/schemas/Time"
        expected_resolution_time:
          $ref: "#/components/schemas/Time"
        status:
          description: |
            ### Statues
              1. Open : indicating that the issue is opened and further action is yet to be taken on the issue
              2. CLOSED : indicating that the issue is closed and no further action/update/info/resolution action/status change are expected/accepted on this issue.
          type: string
          enum:
            - OPEN
            - CLOSED
            - INFO_PROVIDED
        issue_actions:
          $ref: "#/components/schemas/IssueActions"
        selected_odrs_info:
          description: >
            details of the ODRs selected by the resolution provider .

            one of this would be subsequently finalized to be the ODR resposbile
            to resolve the issue . 

            This is a required object if and when the issue type is "Dispute"
          type: array
          items:
            $ref: "#/components/schemas/SelectedODRs"
        finalized_odr:
          $ref: "#/components/schemas/ODR"
        refs:
          description: will give bref about refs
          type: array
          items:
            type: object
            properties:
              ref_id:
                type: string
              ref_type:
                type: string
        actors:
          description: Describes the actors involved in the transaction
          type: array
          items:
            type: object
            properties:
              id:
                description: Describes id of the actors that are their
                type: string
              type:
                description: Describes the type of actor
                type: string
              info:
                description: Describes the information about actor
                type: object
                properties:
                  person:
                    $ref: "#/components/schemas/Person"
                  contact:
                    $ref: "#/components/schemas/Contact"
                  org:
                    type: object
        source_id:
          description: Describes the source of the issue
          type: string
        complainant_id:
          description: Describes the complainant id
          type: string
        respondent_ids:
          description: Describes the respondent id
          type: array
          items:
            type: string
        resolver_ids:
          description: Describes the resolver id
          type: array
          items:
            type: string
        descriptor:
          $ref: "#/components/schemas/DescriptorIgm"
        last_action_id:
          description: Describes the last action id
          type: string
        actions:
          description: Describes the actions taken on the issue
          type: array
          items:
            $ref: "#/components/schemas/Action"
        rating:
          description: rating by the complainant for issue resolution
          type: string
          enum:
            - THUMBS-UP
            - THUMBS-DOWN
        resolution_provider:
          $ref: "#/components/schemas/ResolutionProvider"
        resolutions:
          description: Describes the actions taken on the issue
          type: array
          items:
            $ref: "#/components/schemas/IssueResolution"
        additional_info_required:
          type: array
          items:
            $ref: "#/components/schemas/AdditionalInfoRequired"
        created_at:
          description: timestamp for the creation of the issue
          type: string
          format: date-time
        updated_at:
          description: timestamp for the capturing the time an issue was last updated
          type: string
          format: date-time
          required:
            - id
            - created_at
            - updated_at
        resolution:
          type: object
          description: Resolution for the issue
          properties:
            short_desc:
              description: short description of the issue action
              type: string
            long_desc:
              description: detailed description of the issue action
              type: string
            action_triggered:
              description: action triggered for the complaint
              type: string
              enum:
                - REFUND
                - REPLACEMENT
                - CANCEL
                - NO-ACTION
                - RECONCILED
                - NOT-RECONCILED
            refund_amount:
              description: refund amount to be initiated
              type: string
          required:
            - short_desc
            - action_triggered
        description:
          type: object
          description: Issue description payload
          properties:
            short_desc:
              type: string
              description: short description of the issue
            long_desc:
              type: string
              description: detailed description of the issue
            additional_desc:
              type: object
              description: Additional description file
              properties:
                url:
                  type: string
                  format: uri
                  description: URL to additional description
                content_type:
                  type: string
                  description: MIME type of the file
              required:
                - url
                - content_type
            images:
              type: array
              description: array of image URLs
              items:
                type: string
                format: uri
              required:
                - short_desc
                - long_desc
                - additional_desc
                - images
      additionalProperties: false
    IssueSubCategory:
      description: Identifies what is the sub-category of this issue
      type: string
      enum:
        - ORD01
        - ORD02
        - ORD03
        - ITM01
        - ITM02
        - ITM03
        - ITM04
        - FLM01
        - FLM02
        - FLM03
        - FLM04
        - FLM05
        - FLM06
        - FLM07
        - AGT01
        - AGT02
        - PMT01
        - PMT02
        - PMT03
        - PMT04
        - FLM201
    IssueCategory:
      description: >
        Identifies what is the category of this issue

        ### CATEGORIES:

        1. Order : Indicactes that the issue is related to  Order.

        2. Transaction : Indicactes that the issue is related to  Transaction.

        3. Fulfillment : Indicactes that the issue is related to  Fulfillment.

        4. Product : Indicactes that the issue is related to  Product.

        5. Product Service : Indicactes that the issue is related to  Product
        Service.

        6. Service : Indicactes that the issue is related to  Service.

        7. Payment : Indicactes that the issue is related to  Payments.
      type: string
    IssueSource:
      description: source of the issue
      type: object
      properties:
        network_participant_id:
          type: string
          description: >-
            unique identifier of the network participant of the source of this
            issue. It can be one of buyer-id in the buyer- interfacing app , or
            any of the relevant network provider id based on what causes the
            issue
        type:
          description: |
            Indicates the source from where the issue is raised. 
            ### TYPES
                1. Consumer : indicating that the Consumer(Buyer) of a product or a service has raised the issue
                2. Seller : indicating that the Seller of a product or a service has raised the issue
                3. Intefacing NP : indicating that the Interfacing NP has identified and raised the issue
          type: string
          enum:
            - CONSUMER
            - SELLER
            - INTERFACING-NP
      additionalProperties: false
    IssueActions:
      description: >
        Status of the issue updated by respondent or the complainant

        The issue may attain different status based on its lifecycle. TODO add
        info of enums in here and in issue-source
      type: object
      properties:
        complainant_actions:
          type: array
          items:
            $ref: "#/components/schemas/ComplainantAction"
        respondent_actions:
          type: array
          items:
            $ref: "#/components/schemas/RespondentAction"
      additionalProperties: false
    OrderDetails:
      type: object
      properties:
        id:
          description: >-
            the value of this field will be the combination of
            context.transaction_id and order.id.
          type: string
        state:
          type: string
        items:
          type: array
          items:
            $ref: "#/components/schemas/Item"
        fulfillments:
          type: array
          items:
            $ref: "#/components/schemas/Fulfillment"
        provider_id:
          type: string
        merchant_order_id:
          type: string
      additionalProperties: false
    Complainant:
      description: >
        - Describes an entity that raises a complaint with an interfacing app. 

        - The complainant may be an end user (buyer or seller) or a network
        participant (buyer app/ seller app/ logistic services  provider app)
      type: object
      properties:
        person:
          $ref: "#/components/schemas/Person"
        contact:
          allOf:
            - $ref: "#/components/schemas/Contact"
            - type: object
              required:
                - phone
      required:
        - contact
      additionalProperties: false
    ComplainantAction:
      type: object
      properties:
        complainant_action:
          description: >
            Describes the action taken by the complainant who has raised the
            issue. 

            the value should be populated when the complainant has taken any of
            the below actions to anotate the action taken. the actions can be, 

            ### Actions

            1. Complainant can ```open``` the issue if he isn't satisfied with
            the products or services he has purchased or used 

            2. Complainant can ```escalate``` the issue if he isn't satisfied
            with the issue resolution

            3. Complainant can ```close``` the issue if he doesn't expect any
            more additonal action on the issue and he is satisfied with the
            resolution/actions taken on the issue till the time of closure of
            the issue.
          type: string
          enum:
            - OPEN
            - ESCALATE
            - CLOSE
        updated_at:
          description: >-
            timestamp for the capturing the time an issue status was last
            updated
          type: string
          format: date-time
        updated_by:
          $ref: "#/components/schemas/Organization"
        short_desc:
          description: >-
            details of the remarks when the issue status is changed, can be
            captured when the complainant triggers an action
          type: string
    Level:
      description: Describes the level of a issue
      type: string
    ODR:
      description: >
        * Describes the details of the Online Dispute Resolution Provider.

        ODR Service Providers (ODR SP) via dispute resolution methods such as
        mediation/ conciliation and/or arbitration, will attempt to resolve
        disputes

        NOTE : ```ODR``` stands for Online Dispute Resolution.

        * May also describe the details of the ODR finalized or identified by
        the intefacing app, to whom the issue will be assigned for resolution.
      type: object
      properties:
        name:
          description: Name of the ODR provider
          type: string
        short_desc:
          description: Information about the ODR provider
          type: string
        long_desc:
          description: Detailed information about the ODR provider
          type: string
        url:
          description: URL link to the ODR provider
          type: string
        organization:
          $ref: "#/components/schemas/Organization"
        pricing_model:
          description: Details of the pricing modle of the ODR
          type: object
          properties:
            price:
              $ref: "#/components/schemas/Price"
            pricing_info:
              description: addtional information about the pricing model
              type: string
        resolution_ratings:
          $ref: "#/components/schemas/Rating"
      required:
        - name
        - short_desc
        - url
        - pricing_model
        - resolution_ratings
      additionalProperties: false
    SelectedODRs:
      type: object
      properties:
        respondent_info:
          type: object
          $ref: "#/components/schemas/Organization"
        odrs:
          type: array
          items:
            $ref: "#/components/schemas/ODR"
      additionalProperties: false
    RespondentAction:
      type: object
      properties:
        respondent_action:
          type: string
          enum:
            - PROCESSING
            - CASCADED
            - RESOLVED
            - NEED-MORE-INFO
        updated_at:
          description: >-
            timestamp for the capturing the time an issue status was last
            updated
          type: string
          format: date-time
        updated_by:
          $ref: "#/components/schemas/Organization"
        short_desc:
          description: >-
            details of the remarks when the issue status is changed, can be
            captured when the respondent triggers an action
          type: string
        cascaded_level:
          description: >-
            the default value will be 1, whenever the issue will be cascaded to
            the next level the value of this field should be incremented by 1 it
            will upgrade it indicates to the next sub-level.
          type: integer
      additionalProperties: false
    GRO:
      description: >
        Grievance Redressal Officer is appointed by each network participant
        (buyer app, seller app, logistic provider app) for consumer grievance
        redressal

        Details of the GRO appointed by the resolution provider to support in
        issue resolution .

        This is a required object if and when the issue type is "Grievance"
      type: object
      properties:
        person:
          $ref: "#/components/schemas/Person"
        contact:
          $ref: "#/components/schemas/Contact"
          required:
            - phone
            - email
        gro_type:
          type: string
          description: >
            Indicates the system through which the GRO is assigned to this
            issue. 

            ### TYPES
                1. Intefacing NP GRO : indicating the GRO is assigned by the NP where or through which the issue is raised
                2. Transaction Counterparty NP GRO : indicating the GRO is assigned by the first level of counterparty network provider with which the interfacing NP is interacting with to get an issue resolution.
                3. Cascaded Counterparty NP GRO : indicating the GRO is assigned by the second or any further downstream levels of counterparty network provider, with which the NP is interacting with, to get an issue resolution.
          enum:
            - INTEFACING-NP-GRO
            - TRANSACTION-COUNTERPARTY-NP-GRO
            - CASCADED-COUNTERPARTY-NP-GRO
      required:
        - contact
        - gro_type
      additionalProperties: false
    IssueResolution:
      description: Describes the issue resolution for the issue raised by a Complainant
      type: object
      properties:
        short_desc:
          description: resolution
          type: string
        long_desc:
          description: remarks of the resolution of the issue by the respondent
          type: string
        gro_remarks:
          description: resolution remarks provided by the gro
          type: string
        odr_remarks:
          description: remarks of the result of the dispute, if applicable
          type: string
        action_triggered:
          type: string
          enum:
            - REFUND
            - REPLACEMENT
            - RETURN
            - CANCEL
            - NO-ACTION
        action:
          description: |
            Indicactes the action taken while addressing the issue.
             ### Actions
              1. resolve : indicating the issue being resolved. 
              2. reject : indicating that the issue is rejected by the respondent or the resolution provider.
          type: string
          enum:
            - RESOLVE
            - REJECT
        refund_amount:
          type: string
        id:
          description: unique identifier of the issue resolution
          type: string
        proposed_by:
          type: string
        updated_at:
          description: timestamp for the capturing the time an issue resolution was last updated
          type: string
          format: date-time
        descriptor:
          $ref: "#/components/schemas/Descriptor"
        tags:
          $ref: "#/components/schemas/Tag1"
        ref_id:
          description: Describes the reference id
          type: string
        ref_type:
          description: Describes the type of reference
          type: string
      required:
        - short_desc
        - action_triggered
      additionalProperties: false
    SupplementaryInformation:
      type: object
      properties:
        updated_at:
          description: timestamp for the capturing the time an issue was last updated
          type: string
          format: date-time
        message_id:
          type: string
      additionalProperties: false
x-errorcodes:
  code:
    - code: "60001"
      Event: >-
        Location Serviceability Error - Pickup location not serviceable by
        Logistics Provider
      From: BPP
      Description: Used in error object
    - code: "60002"
      Event: >-
        Location Serviceability Error - Dropoff location not serviceable by
        Logistics Provider
      From: BPP
      Description: Used in error object
    - code: "60004"
      Event: Order Serviceability Error - Delivery Partners not available
      From: BPP
      Description: Used in error object
    - code: "60005"
      Event: Invalid Signature - Cannot verify signature for request
      From: BPP
      Description: Used in NACK
    - code: "60006"
      Event: Invalid request, not compliant with API contract
      From: BPP
      Description: Used in NACK
    - code: "60007"
      Event: >-
        Policy Error - Cancellation not possible because of Logistics Provider
        policy
      From: BPP
    - code: "60008"
      Event: >-
        Invalid Fulfillment TAT - Fulfillment TAT is different from what was
        quoted earlier
      From: BPP
    - code: "60009"
      Event: Invalid cancellation request - Cancellation reason is invalid
      From: BPP
    - code: "60010"
      Event: >-
        Cancellation unacceptable - Cancellation request is rejected as
        fulfillment TAT is not breached
      From: BPP
    - code: "60011"
      Event: >-
        Difference in packaging details - Weight and / or dimensions provided is
        different from what was originally provided
      From: BPP
    - code: "60012"
      Event: >-
        Tracking not enabled - Tracking not enabled for any fulfillment in the
        order
      From: BPP
    - code: "61001"
      Event: Feature not supported
      From: BPP
    - code: "62501"
      Event: >-
        Terms and Conditions unacceptable - Logistics Provider terms &
        conditions not acceptable to Logistics Buyer
      From: BAP
    - code: "62502"
      Event: >-
        Order terminated - Order terminated as Logistics Provider did not accept
        terms proposed by Logistics Buyer
      From: BAP
    - code: "62503"
      Event: >-
        RTO rejected - RTO request rejected as quote does not match the quote
        provided in catalog
      From: BAP
    - code: "62504"
      Event: Weight differential cost rejected
      From: BAP
    - code: "62505"
      Event: >-
        Cancellation terms unacceptable -  Logistics Provider cancellation terms
        not acceptable to Logistics Buyer
      From: BAP
    - code: "62506"
      Event: >-
        Invalid Fulfillment TAT - Fulfillment TAT is different from what was
        quoted earlier
      From: BAP
    - code: "62507"
      Event: >-
        Difference in packaging details - Weight and / or dimensions provided is
        different from what was originally provided
      From: BAP
    - code: "62508"
      Event: >-
        Quote difference - Total price is different from what was originally
        provided
      From: BAP
    - code: "62509"
      Event: >-
        Invalid Cancellation Terms - Cancellation terms are different from what
        was quoted earlier
      From: BAP
    - code: "62510"
      Event: Expired authorization - Authorization code has expired
      From: BAP
    - code: "62511"
      Event: Invalid authorization - Authorization code is invalid
      From: BAP
    - code: "63001"
      Event: >-
        Internal Error - Cannot process response due to internal error, please
        retry
      From: BAP
    - code: "63002"
      Event: Order validation failure
      From: BAP
    - code: "64001"
      Event: Feature not supported
      From: BAP
    - code: "65001"
      Event: Order Confirm Error - Logistics Provider is unable to confirm the order
      From: BPP
    - code: "65002"
      Event: >-
        Order terminated as Logistics Buyer did not accept terms proposed by
        Logistics Provider
      From: BPP
    - code: "65003"
      Event: Stale Request - Cannot process stale request
      From: BPP
    - code: "65004"
      Event: >-
        Terms unacceptable - Logistics Buyer terms not acceptable to Logistics
        Provider
      From: BPP
    - code: "66001"
      Event: >-
        Internal Error - Cannot process response due to internal error, please
        retry
      From: BPP
    - code: "66002"
      Event: Order validation failure
      From: BPP
    - code: "66003"
      Event: Order processing in progress
      From: BPP
    - code: "66004"
      Event: Invalid Order - Order not found
      From: BPP
    - code: "66005"
      Event: Quote unavailable - Quote no longer available
      From: BPP
x-validations:
  _TESTS_:
    search:
      # ===== CONTEXT VALIDATION =====
      - _NAME_: SEARCH_CONTEXT
        _DESCRIPTION_: Validate search context
        action: ["search"]
        _RETURN_: &CONTEXT_COMMON # Checkpoint: Validate required context fields
          - _NAME_: CONTEXT_REQUIRED
            _RETURN_:
              - _NAME_: CONTEXT_REQUIRED_DOMAIN
                attr: "$.context.domain"
                _RETURN_: attr are present
              - _NAME_: CONTEXT_REQUIRED_ACTION
                attr: "$.context.action"
                _RETURN_: attr are present
              - _NAME_: CONTEXT_REQUIRED_COUNTRY
                attr: "$.context.country"
                _RETURN_: attr are present
              - _NAME_: REQUIRED_CONTEXT_CODE_14
                attr: "$.context.city"
                reg: ['^(std:\\d{3,5}|\\*)$']
                _RETURN_: attr follow regex reg
              - _NAME_: CONTEXT_REQUIRED_VERSION
                attr: "$.context.core_version"
                _RETURN_: attr are present
              - _NAME_: CONTEXT_REQUIRED_BAP_ID
                attr: "$.context.bap_id"
                _RETURN_: attr are present
              - _NAME_: CONTEXT_REQUIRED_BAP_URI
                attr: "$.context.bap_uri"
                _RETURN_: attr are present
              - _NAME_: CONTEXT_REQUIRED_BPP_ID
                search: ["search"]
                attr: "$.context.bpp_id"
                _CONTINUE_: "(action equal to search)"
                _RETURN_: attr are present
              - _NAME_: CONTEXT_REQUIRED_BPP_URI
                search: ["search"]
                _CONTINUE_: "(action equal to search)"
                attr: "$.context.bpp_uri"
                _RETURN_: attr are present
              - _NAME_: CONTEXT_REQUIRED_TRANSACTION_ID
                attr: "$.context.transaction_id"
                _RETURN_: attr are present
              - _NAME_: CONTEXT_REQUIRED_MESSAGE_ID
                attr: "$.context.message_id"
                _RETURN_: attr are present
              - _NAME_: CONTEXT_REQUIRED_TIMESTAMP
                attr: "$.context.timestamp"
                reg: ['^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{3}Z$']
                _RETURN_: attr follow regex reg
              - _NAME_: CONTEXT_REQUIRED_TTL
                attr: "$.context.ttl"
                # action: ["search"]
                optional_vars:
                  [
                    "on_search",
                    "on_select",
                    "on_confirm",
                    "on_init",
                    "on_cancel",
                    "on_track",
                    "on_update",
                    "on_status",
                  ]
                _CONTINUE_: "(action all in optional_vars)"
                _RETURN_: attr are present

            # Checkpoint: Validate context enum values
          - _NAME_: CONTEXT_ENUM
            _RETURN_:
              - _NAME_: CONTEXT_ENUM_DOMAIN
                domain: ["ONDC:RET10"]
                attr: "$.context.domain"
                _RETURN_: attr equal to domain
              - _NAME_: CONTEXT_ENUM_ACTION
                attr: "$.context.action"
                _RETURN_: attr equal to action
              - _NAME_: CONTEXT_ENUM_VERSION
                version: ["1.2.5"]
                attr: "$.context.core_version"
                _RETURN_: attr all in version
              - _NAME_: CONTEXT_REG_BAP_URI
                attr: "$.context.bap_uri"
                reg: ['^https?\:\/\/']
                _RETURN_: attr follow regex reg
              - _NAME_: CONTEXT_REG_BPP_URI
                attr: "$.context.bpp_uri"
                reg: ['^https?\:\/\/']
                _RETURN_: attr follow regex reg
                search: ["search"]
                _CONTINUE_: "(action equal to search)"
              - _NAME_: CONTEXT_REG_TTL
                attr: "$.context.ttl"
                reg:
                  [
                    '^P(?=\\d|T)(\\d+Y)?(\\d+M)?(\\d+W)?(\\d+D)?(T(?=\\d)(\\d+H)?(\\d+M)?(\\d+S)?)?$',
                  ]
                optional_vars:
                  [
                    "on_search",
                    "on_select",
                    "on_confirm",
                    "on_init",
                    "on_cancel",
                    "on_track",
                    "on_update",
                    "on_status",
                  ]
                _CONTINUE_: "(action all in optional_vars)"
                _RETURN_: attr follow regex reg
      # ===== PAYMENT VALIDATION =====
      - _NAME_: SEARCH_PAYMENT
        _RETURN_:
          # Checkpoint: Validate required payment fields
          - _NAME_: PAYMENT_REQUIRED
            _RETURN_:
              - _NAME_: PAYMENT_REQUIRED_TYPE
                attr: "$.message.intent.payment['@ondc/org/buyer_app_finder_fee_type']"
                _RETURN_: attr are present
              - _NAME_: PAYMENT_REQUIRED_AMOUNT
                attr: "$.message.intent.payment['@ondc/org/buyer_app_finder_fee_amount']"
                _RETURN_: attr are present
          # Checkpoint: Validate payment enum values
          - _NAME_: SEARCH_CATEGORY
            _RETURN_:
              - _NAME_: CATEGORY_REQUIRED_ID
                attr: "$.message.intent.category.id"
                valid:
                  [
                    "Fruits and Vegetables",
                    "Masala & Seasoning",
                    "Oil & Ghee",
                    "Eggs, Meat & Fish",
                    "Bakery, Cakes & Dairy",
                    "Pet Care",
                    "Detergents and Dishwash",
                    "Dairy and Cheese",
                    "Snacks, Dry Fruits, Nuts",
                    "Pasta, Soup and Noodles",
                    "Cereals and Breakfast",
                    "Sauces, Spreads and Dips",
                    "Chocolates and Biscuits",
                    "Cooking and Baking Needs",
                    "Tinned and Processed Food",
                    "Atta, Flours and Sooji",
                    "Rice and Rice Products",
                    "Dals and Pulses",
                    "Salt, Sugar and Jaggery",
                    "Energy and Soft Drinks",
                    "Water",
                    "Tea and Coffee",
                    "Fruit Juices and Fruit Drinks",
                    "Snacks and Namkeen",
                    "Ready to Cook and Eat",
                    "Pickles and Chutney",
                    "Indian Sweets",
                    "Frozen Vegetables",
                    "Frozen Snacks",
                    "Gift Voucher",
                  ]
                _CONTINUE_: "!(attr are present)"
                _RETURN_: attr all in valid
              - _NAME_: PAYMENT_ENUM
                _RETURN_:
                  - _NAME_: PAYMENT_ENUM_TYPE
                    attr: "$.message.intent.payment['@ondc/org/buyer_app_finder_fee_type']"
                    var_fee_type: ["percent", "amount"]
                    _RETURN_: attr all in var_fee_type
                  - _NAME_: PAYMENT_REGEX_AMOUNT
                    attr: "$.message.intent.payment['@ondc/org/buyer_app_finder_fee_amount']"
                    reg: ['^(\\d*.?\\d{1,2})$']
                    _RETURN_: attr follow regex reg
          # ===== FULFILLMENT VALIDATION =====
          # Checkpoint: Validate fulfillment enum values
          - _NAME_: FULFILMENT_ENUM
            _RETURN_:
              - _NAME_: FULFILMENT_ENUM_TYPE
                attr: "$.message.intent.fulfillment.type"
                var_types: ["Delivery", "Self-Pickup", "Buyer-Delivery"]
                _CONTINUE_: "!(attr are present)"
                _RETURN_: attr all in var_types
              - _NAME_: FULFILMENT_REQUIRED_END_LOCATION_GPS
                attr: "$.message.intent.fulfillment.end.location.gps"
                reg: ['^\\d{2}\\.\\d{4,}\\s*,\\s*\\d{2}\\.\\d{4,}$']
                _CONTINUE_: "!(attr are present)"
                _RETURN_: attr follow regex reg
              - _NAME_: FULFILMENT_REQUIRED_END_LOCATION_AREA_CODE
                attr: "$.message.intent.fulfillment.end.location.address.area_code"
                reg: ['^\d{6}$']
                _CONTINUE_: "!(attr are present)"
                _RETURN_: attr follow regex reg
      # ===== TAGS VALIDATION =====
      - _NAME_: SEARCH_TAGS
        _RETURN_:
          # Allowed tag codes
          - _NAME_: SEARCH_TAG_VALID_TAGS
            code: "$.message.intent.tags[*].code"
            _CONTINUE_: "!(code are present)"
            var_codes:
              [
                "catalog_inc",
                "bap_terms",
                "catalog_full",
                "bap_features",
                "bap_promos",
                "bnp_demand_signal",
              ]
            _RETURN_: code all in var_codes

          # BNP_FEATURES
          - _NAME_: TAGS_BNP_FEATURES
            _RETURN_:
              - _NAME_: TAGS_BNP_FEATURES_PAYLOAD_TYPE_VALID
                _CONTINUE_: "!(attr are present)"
                attr: "$.message.intent.tags[?(@.code=='bap_features')].list[*].code"
                valid:
                  [
                    "001",
                    "002",
                    "003",
                    "004",
                    "005",
                    "006",
                    "007",
                    "008",
                    "0091",
                    "0092",
                    "0093",
                    "0094",
                    "0095",
                    "0096",
                    "0097",
                    "0098",
                    "0099",
                    "00A",
                    "00B",
                    "00C",
                    "00D",
                    "00E",
                    "00F",
                    "010",
                    "011",
                    "012",
                    "013",
                    "014",
                    "015",
                    "016",
                    "017",
                    "018",
                    "019",
                    "01A",
                    "01B",
                    "01C",
                    "01D",
                    "01E",
                    "01F",
                    "020",
                    "021",
                    "022",
                    "023",
                    "024",
                    "025",
                  ]
                _RETURN_: attr all in valid
              - _NAME_: TAGS_BNP_FEATURES_PAYLOAD_TYPE
                _CONTINUE_: "!(attr are present)"
                attr: "$.message.intent.tags[?(@.code=='bap_features')].list[*].value"
                valid: ["yes"]
                _RETURN_: attr all in valid

          # BAP_TERMS
          - _NAME_: TAGS_BAP_TERMS
            _RETURN_:
              - _NAME_: TAGS_BAP_TERMS
                _CONTINUE_: "!(attr are present)"
                attr: "$.message.intent.tags[?(@.code=='bap_terms')].list[*].code"
                valid: ["static_terms", "static_terms_new", "effective_date"]
                _RETURN_: attr all in valid

              - _NAME_: TAGS_BAP_TERMS_EFFECTIVE_DATE
                _CONTINUE_: "!(attr are present)"
                attr: "$.message.intent.tags[?(@.code=='bap_terms')].list[?(@.code=='effective_date')].value"
                var_date_regex:
                  ['^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{3}Z$']
                _RETURN_: attr follow regex var_date_regex
              # - _NAME_: TAGS_BAP_TERMS_STATIC_TERMS
              #   _CONTINUE_: "!(attr are present)"
              #   attr: "$.message.intent.tags[?(@.code=='bap_terms')].list[?(@.code=='static_terms')].value"
              #   url_regex: ["^(?:https?:\\/\\/(?:www\\.)?[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}(\\/[^\\s]*)?|)$"]
              #   _RETURN_: attr follow regex url_regex
              # - _NAME_: TAGS_BAP_TERMS_STATIC_TERMS_NEW
              #   _CONTINUE_: "!(attr are present)"
              #   attr: "$.message.intent.tags[?(@.code=='bap_terms')].list[?(@.code=='static_terms_new')].value"
              #   url_regex: ["^(?:https?:\\/\\/(?:www\\.)?[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}(\\/[^\\s]*)?|)$"]
              #   _RETURN_: attr follow regex url_regex

          # CATALOG_FULL
          - _NAME_: TAGS_CATALOG_FULL
            _RETURN_:
              - _NAME_: TAGS_CATALOG_FULL_VALID_ENUMS
                _CONTINUE_: "!(attr are present)"
                attr: "$.message.intent.tags[?(@.code=='catalog_full')].list[*].code"
                valid: ["payload_type"]
                _RETURN_: attr all in valid
              - _NAME_: TAGS_CATALOG_FULL_PAYLOAD_TYPE
                attr: "$.message.intent.tags[?(@.code=='catalog_full')].list[?(@.code=='payload_type')].value"
                var_enum_payload_type: ["link", "inline"]
                _CONTINUE_: "!(attr are present)"
                _RETURN_: attr all in var_enum_payload_type
          # CATALOG_INC
          - _NAME_: TAGS_CATALOG_INC
            _RETURN_:
              - _NAME_: TAGS_CATALOG_INC_VALID_ENUMS
                _CONTINUE_: "!(attr are present)"
                attr: "$.message.intent.tags[?(@.code=='catalog_inc')].list[*].code"
                valid: ["start_time", "end_time", "mode"]
                _RETURN_: attr all in valid
              - _NAME_: TAGS_CATALOG_INC_START_TIME
                attr: "$.message.intent.tags[?(@.code=='catalog_inc')].list[?(@.code=='start_time')].value"
                var_datetime_regex: ["^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}"]
                _CONTINUE_: "!(attr are present)"
                _RETURN_: attr follow regex var_datetime_regex

              - _NAME_: TAGS_CATALOG_INC_END_TIME
                attr: "$.message.intent.tags[?(@.code=='catalog_inc')].list[?(@.code=='end_time')].value"
                var_datetime_regex: ["^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}"]
                _CONTINUE_: "!(attr are present)"
                _RETURN_: attr follow regex var_datetime_regex

              - _NAME_: TAGS_CATALOG_INC_MODE
                attr: "$.message.intent.tags[?(@.code=='catalog_inc')].list[?(@.code=='mode')].value"
                var_enum_mode: ["start", "end", "stop"]
                _CONTINUE_: "!(attr are present)"
                _RETURN_: attr all in var_enum_mode

          # BAP_FEATURES
          - _NAME_: TAGS_BAP_FEATURES
            _RETURN_:
              - _NAME_: TAGS_BAP_FEATURES_ITEM_1
                attr: "$.message.intent.tags[?(@.code=='bap_features')].list[?(@.code=='1')].value"
                var_enum_bap_features: ["yes", "no"]
                _CONTINUE_: "!(attr are present)"
                _RETURN_: attr all in var_enum_bap_features

              - _NAME_: TAGS_BAP_FEATURES_ITEM_2
                attr: "$.message.intent.tags[?(@.code=='bap_features')].list[?(@.code=='2')].value"
                var_enum_bap_features: ["yes", "no"]
                _CONTINUE_: "!(attr are present)"
                _RETURN_: attr all in var_enum_bap_features

              - _NAME_: TAGS_BAP_FEATURES_ITEM_3
                attr: "$.message.intent.tags[?(@.code=='bap_features')].list[?(@.code=='3')].value"
                var_enum_bap_features: ["yes", "no"]
                _CONTINUE_: "!(attr are present)"
                _RETURN_: attr all in var_enum_bap_features

          # BAP_PROMOS
          - _NAME_: TAGS_BAP_PROMOS
            _RETURN_:
              - _NAME_: TAGS_BAP_PROMOS_VALID_ENUMS
                _CONTINUE_: "!(attr are present)"
                attr: "$.message.intent.tags[?(@.code=='bap_promos')].list[*].code"
                valid: ["category", "from", "to"]
                _RETURN_: attr all in valid
              - _NAME_: TAGS_BAP_PROMOS_CATEGORY
                attr: "$.message.intent.tags[?(@.code=='bap_promos')].list[?(@.code=='category')].value"
                var_enum_promo_categories:
                  [
                    "Fruits and Vegetables",
                    "Masala & Seasoning",
                    "Oil & Ghee",
                    "Eggs, Meat & Fish",
                    "Bakery, Cakes & Dairy",
                    "Pet Care",
                    "Detergents and Dishwash",
                    "Dairy and Cheese",
                    "Snacks, Dry Fruits, Nuts",
                    "Pasta, Soup and Noodles",
                    "Cereals and Breakfast",
                    "Sauces, Spreads and Dips",
                    "Chocolates and Biscuits",
                    "Cooking and Baking Needs",
                    "Tinned and Processed Food",
                    "Atta, Flours and Sooji",
                    "Rice and Rice Products",
                    "Dals and Pulses",
                    "Salt, Sugar and Jaggery",
                    "Energy and Soft Drinks",
                    "Water",
                    "Tea and Coffee",
                    "Fruit Juices and Fruit Drinks",
                    "Snacks and Namkeen",
                    "Ready to Cook and Eat",
                    "Pickles and Chutney",
                    "Indian Sweets",
                    "Frozen Vegetables",
                    "Frozen Snacks",
                    "Gift Voucher",
                  ]
                _CONTINUE_: "!(attr are present)"
                _RETURN_: attr all in var_enum_promo_categories
              - _NAME_: TAGS_BAP_PROMOS_FROM
                attr: "$.message.intent.tags[?(@.code=='bap_promos')].list[?(@.code=='from')].value"
                var_datetime_regex: ["^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}"]
                _CONTINUE_: "!(attr are present)"
                _RETURN_: attr follow regex var_datetime_regex

              - _NAME_: TAGS_BAP_PROMOS_TO
                attr: "$.message.intent.tags[?(@.code=='bap_promos')].list[?(@.code=='to')].value"
                var_datetime_regex: ["^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}"]
                _CONTINUE_: "!(attr are present)"
                _RETURN_: attr follow regex var_datetime_regex

          # BNP_DEMAND_SIGNAL
          - _NAME_: TAGS_BNP_DEMAND_SIGNAL
            _RETURN_:
              - _NAME_: TAGS_BAP_PROMOS_VALID_ENUMS
                _CONTINUE_: "!(attr are present)"
                attr: "$.message.intent.tags[?(@.code=='bnp_demand_signal')].list[*].code"
                valid: ["search_term"]
                _RETURN_: attr all in valid
              - _NAME_: TAGS_BNP_DEMAND_SIGNAL_SEARCH_TERM
                attr: "$.message.intent.tags[?(@.code=='bnp_demand_signal')].list[?(@.code=='search_term')].value"
                _CONTINUE_: "!(attr are present)"
                _RETURN_: attr are present
    on_search:
      # ===== CONTEXT VALIDATION =====
      - _NAME_: ON_SEARCH_CONTEXT
        _DESCRIPTION_: Validate on_search context
        action: ["on_search"]
        _RETURN_: *CONTEXT_COMMON
      # ===== CATALOG VALIDATION =====
      - _NAME_: ON_SEARCH_CATALOG
        var_star: ["*"]
        verification_attr: "$.context.city"
        _CONTINUE_: "verification_attr equal to var_star"
        _RETURN_:
          - _NAME_: CATALOG_BPP_DESCRIPTOR
            _RETURN_:
              - _NAME_: BPP_DESCRIPTOR_NAME
                attr: "$.message.catalog['bpp/descriptor'].name"
                _RETURN_: attr are present
              - _NAME_: BPP_DESCRIPTOR_SYMBOL
                attr: "$.message.catalog['bpp/descriptor'].symbol"
                _RETURN_: attr are present
              - _NAME_: BPP_DESCRIPTOR_SHORT_DESC
                attr: "$.message.catalog['bpp/descriptor'].short_desc"
                _RETURN_: attr are present
              - _NAME_: BPP_DESCRIPTOR_LONG_DESC
                attr: "$.message.catalog['bpp/descriptor'].long_desc"
                _RETURN_: attr are present
              - _NAME_: BPP_DESCRIPTOR_IMAGES
                attr: "$.message.catalog['bpp/descriptor'].images[*]"
                _RETURN_: attr are present
              - _NAME_: BPP_DESCRIPTOR_TAGS
                _RETURN_:
                  - _NAME_: TAGS_BPP_DESCRIPTORS_VALID_TAGS
                    _CONTINUE_: "!(attr are present)"
                    attr: "$.message.catalog['bpp/descriptor'].tags[*].code"
                    valid: ["bpp_terms"]
                    _RETURN_: attr all in valid
                  - _NAME_: TAGS_BPP_DESCRIPTORS_VALID_ENUMS
                    _CONTINUE_: "!(attr are present)"
                    attr: "$.message.catalog['bpp/descriptor'].tags[?(@.code=='bpp_terms')].list[*].code"
                    valid: ["np_type", "accept_bap_terms", "collect_payment"]
                    _RETURN_: attr all in valid
                  - _NAME_: BPP_DESCRIPTOR_TAGS_BPP_TERMS
                    _RETURN_:
                      - _NAME_: TAGS_BPP_TERMS_NP_TYPE
                        attr: "$.message.catalog['bpp/descriptor'].tags[?(@.code=='bpp_terms')].list[?(@.code=='np_type')].value"
                        var_enum: ["ISN", "MSN"]
                        _RETURN_: attr all in var_enum

                      - _NAME_: TAGS_BPP_TERMS_ACCEPT_BAP_TERMS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.catalog['bpp/descriptor'].tags[?(@.code=='bpp_terms')].list[?(@.code=='accept_bap_terms')].value"
                        var_enum: ["Y", "N"]
                        _RETURN_: attr all in var_enum

                      - _NAME_: TAGS_BPP_TERMS_COLLECT_PAYMENT
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.catalog['bpp/descriptor'].tags[?(@.code=='bpp_terms')].list[?(@.code=='collect_payment')].value"
                        var_enum: ["Y", "N"]
                        _RETURN_: attr all in var_enum

                      - _NAME_: TAGS_BPP_TERMS_MANDATORY_ARBITRATION
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.catalog['bpp/descriptor'].tags[?(@.code=='bpp_terms')].list[?(@.code=='mandatory_arbitration')].value"
                        var_enum: ["true", "false"]
                        _RETURN_: attr all in var_enum
          - _NAME_: CATALOG_BPP_PROVIDERS
            _RETURN_:
              - _NAME_: PROVIDERS_ID
                attr: "$.message.catalog['bpp/providers'][*].id"
                _RETURN_: attr are present
              - _NAME_: PROVIDERS_RATING
                attr: "$.message.catalog['bpp/providers'][*].rating"
                _CONTINUE_: "!(attr are present)"
                rating_reg: ['^(?:[1-4](?:\\.\\d+)?|5(?:\\.0+)?|\\s*)$']
                _RETURN_: attr follow regex rating_reg
              - _NAME_: PROVIDERS_TIME_LABEL
                attr: "$.message.catalog['bpp/providers'][*].time.label"
                var_enum: ["enable", "disable"]
                _RETURN_: attr all in var_enum
              - _NAME_: PROVIDERS_TIME_TIMESTAMP
                attr: "$.message.catalog['bpp/providers'][*].time.timestamp"
                time_reg:
                  ['^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{3}Z$']
                _RETURN_: attr follow regex time_reg
              - _NAME_: PROVIDERS_TAGS_VALID_ENUMS
                attr: "$.message.catalog['bpp/providers'][*].tags[*].code"
                var_enum:
                  [
                    "timing",
                    "close_timing",
                    "serviceability",
                    "order_value",
                    "np_fees",
                  ]
                _RETURN_: attr all in var_enum
              - _NAME_: PROVIDERS_FULFILLMENTS
                _RETURN_:
                  - _NAME_: FULFILLMENTS_ID
                    attr: "$.message.catalog['bpp/providers'][*].fulfillments[*].id"
                    _RETURN_: attr are present
                  - _NAME_: FULFILLMENTS_TYPE
                    attr: "$.message.catalog['bpp/providers'][*].fulfillments[*].type"
                    var_enum: ["Delivery", "Self-Pickup", "Buyer-Delivery"]
                    _RETURN_: attr all in var_enum
                  - _NAME_: FULFILLMENTS_CONTACT_PHONE
                    attr: "$.message.catalog['bpp/providers'][*].fulfillments[*].contact.phone"
                    phone: ['^\\d{10,11}$']
                    _RETURN_: attr follow regex phone
                  - _NAME_: FULFILLMENTS_CONTACT_EMAIL
                    attr: "$.message.catalog['bpp/providers'][*].fulfillments[*].contact.email"
                    email: ['^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$']
                    _RETURN_: attr follow regex email
              - _NAME_: PROVIDERS_DESCRIPTOR
                _RETURN_:
                  - _NAME_: PROVIDERS_DESCRIPTOR_NAME
                    attr: "$.message.catalog['bpp/providers'][*].descriptor.name"
                    _RETURN_: attr are present
                  - _NAME_: PROVIDERS_DESCRIPTOR_SYMBOL
                    attr: "$.message.catalog['bpp/providers'][*].descriptor.symbol"
                    _RETURN_: attr are present
                  - _NAME_: PROVIDERS_DESCRIPTOR_SHORT_DESC
                    attr: "$.message.catalog['bpp/providers'][*].descriptor.short_desc"
                    _RETURN_: attr are present
                  - _NAME_: PROVIDERS_DESCRIPTOR_LONG_DESC
                    attr: "$.message.catalog['bpp/providers'][*].descriptor.long_desc"
                    _RETURN_: attr are present
                  - _NAME_: PROVIDERS_DESCRIPTOR_IMAGES
                    attr: "$.message.catalog['bpp/providers'][*].descriptor.images[*]"
                    _RETURN_: attr are present
              - _NAME_: PROVIDERS_TTL
                attr: "$.message.catalog['bpp/providers'][*].ttl"
                _RETURN_: attr are present
              - _NAME_: PROVIDERS_LOCATIONS
                _RETURN_:
                  - _NAME_: LOCATIONS_ID
                    attr: "$.message.catalog['bpp/providers'][*].locations[*].id"
                    _RETURN_: attr are present
                  - _NAME_: LOCATIONS_TIME_LABEL
                    attr: "$.message.catalog['bpp/providers'][*].locations[*].time.label"
                    var_enum: ["enable", "disable"]
                    _RETURN_: attr all in var_enum
                  - _NAME_: LOCATIONS_TIME_TIMESTAMP
                    attr: "$.message.catalog['bpp/providers'][*].locations[*].time.timestamp"
                    time_reg:
                      ['^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{3}Z$']
                    _RETURN_: attr follow regex time_reg
                  - _NAME_: LOCATIONS_TIME_SCHEDULE
                    attr: "$.message.catalog['bpp/providers'][*].locations[*].time.schedule.holidays[*]"
                    time_reg:
                      ['^\\d{4}-(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01])$']
                    _CONTINUE_: "!(attr are present)"
                    _RETURN_: attr follow regex time_reg
                  - _NAME_: LOCATIONS_TIME_SCHEDULE_TIMES
                    attr: "$.message.catalog['bpp/providers'][*].locations[*].time.schedule.times[*]"
                    _CONTINUE_: "!(attr are present)"
                    time_reg: ['^(?:[01]\\d|2[0-3])[0-5]\\d$']
                    _RETURN_: attr follow regex time_reg
                  - _NAME_: LOCATIONS_TIME_DAYS
                    attr: "$.message.catalog['bpp/providers'][*].locations[*].time.days"
                    _CONTINUE_: "!(attr are present)"
                    days_reg:
                      ['^(?!.*\\b([1-7]),.*\\b\\1\\b)([1-7](,[1-7]){0,6})$']
                    _RETURN_: attr follow regex days_reg
                  - _NAME_: LOCATIONS_TIME_FREQUENCY_RANGE
                    frequency: "$.message.catalog['bpp/providers'][*].locations[*].time.frequency"
                    times: "$.message.catalog['bpp/providers'][*].locations[*].time.schedule.times[*]"
                    range1: "$.message.catalog['bpp/providers'][*].locations[*].time.range.start"
                    _RETURN_: (frequency are present && times are present) || range1 are present
                  - _NAME_: LOCATIONS_TIME_FREQUENCY
                    frequency: "$.message.catalog['bpp/providers'][*].locations[*].time.frequency"
                    _CONTINUE_: "!(frequency are present)"
                    reg:
                      [
                        '^P(?=\d|T)(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)W)?(?:(\d+)D)?(?:T(?=\d)(?:(\d+)H)?(?:(\d+)M)?(?:(\d+)S)?)?$',
                      ]
                    _RETURN_: frequency follow regex reg
                  - _NAME_: LOCATIONS_GPS
                    attr: "$.message.catalog['bpp/providers'][*].locations[*].gps"
                    reg: ['^\\d{2}\\.\\d{4,}\\s*,\\s*\\d{2}\\.\\d{4,}$']
                    _RETURN_: attr follow regex reg
                  - _NAME_: RANGE_START_AND_END
                    start: "$.message.catalog['bpp/providers'][*].locations[*].time.range.start"
                    end: "$.message.catalog['bpp/providers'][*].locations[*].time.range.end"
                    reg: ['^([01]\\d|2[0-3])[0-5]\\d$']
                    _RETURN_: start follow regex reg && end follow regex reg
                  - _NAME_: LOCATIONS_ADDRESS_LOCALITY
                    attr: "$.message.catalog['bpp/providers'][*].locations[*].address.locality"
                    _RETURN_: attr are present
                  - _NAME_: LOCATIONS_ADDRESS_STREET
                    attr: "$.message.catalog['bpp/providers'][*].locations[*].address.street"
                    _RETURN_: attr are present
                  - _NAME_: LOCATIONS_ADDRESS_CITY
                    attr: "$.message.catalog['bpp/providers'][*].locations[*].address.city"
                    _RETURN_: attr are present
                  - _NAME_: LOCATIONS_ADDRESS_AREA_CODE
                    attr: "$.message.catalog['bpp/providers'][*].locations[*].address.area_code"
                    _RETURN_: attr are present
                  - _NAME_: LOCATIONS_ADDRESS_STATE
                    attr: "$.message.catalog['bpp/providers'][*].locations[*].address.state"
                    _RETURN_: attr are present
                  - _NAME_: LOCATIONS_CIRCLE_RADIUS_UNIT
                    attr: "$.message.catalog['bpp/providers'][*].locations[*].circle.radius.unit"
                    var_enum: ["km"]
                    _CONTINUE_: "!(attr are present)"
                    _RETURN_: attr all in var_enum
              - _NAME_: PROVIDERS_CATEGORIES
                _RETURN_:
                  - _NAME_: CATEGORIES_ID
                    attr: "$.message.catalog['bpp/providers'][*].categories[*].id"
                    _CONTINUE_: "!(attr are present)"
                    reg: ["^[a-zA-Z0-9]{1,12}$"]
                    _RETURN_: attr follow regex reg
                  - _NAME_: CATEGORIES_DESCRIPTOR_NAME
                    attr: "$.message.catalog['bpp/providers'][*].categories[*].descriptor.name"
                    _CONTINUE_: "!(attr are present)"
                    _RETURN_: attr are present
                  - _NAME_: BPP_PROVIDER_CATEGORIES_TAGS
                    _RETURN_:
                      - _NAME_: TAGS_PROVIDER_CATEGORY_TYPE_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.catalog['bpp/providers'][*].categories[*].tags[*].code"
                        tag_enum: ["type", "attr", "np_fees"]
                        _RETURN_: attr all in tag_enum
                      - _NAME_: TAGS_PROVIDER_CATEGORY_TYPE
                        _RETURN_:
                          - _NAME_: TAGS_PROVIDER_CATEGORY_TYPE_TYPE
                            _CONTINUE_: "!(attr are present)"
                            attr: "$.message.catalog['bpp/providers'][*].categories[*].tags[?(@.code=='type')].list[*].code"
                            tag_enum: ["type", "attr"]
                            _RETURN_: attr all in tag_enum
                          - _NAME_: TAGS_PROVIDER_CATEGORY_TYPE_TAGS_1
                            _CONTINUE_: "!(attr are present)"
                            attr: "$.message.catalog['bpp/providers'][*].categories[*].tags[?(@.code=='type')].list[?(@.code=='type')].value"
                            var_enum: ["variant_group", "category"]
                            _RETURN_: attr all in var_enum
                          - _NAME_: TAGS_PROVIDER_CATEGORY_TYPE_TAGS_2
                            _CONTINUE_: "!(attr are present)"
                            attr: "$.message.catalog['bpp/providers'][*].categories[*].tags[?(@.code=='type')].list[?(@.code=='type')].value"
                            var_enum: ["variant_group", "category"]
                            _RETURN_: attr all in var_enum

                      - _NAME_: TAGS_PROVIDER_CATEGORY_NP_FEES
                        _RETURN_:
                          - _NAME_: TAGS_PROVIDER_CATEGORY_TYPE_NP_FEES
                            _CONTINUE_: "!(attr are present)"
                            attr: "$.message.catalog['bpp/providers'][*].categories[*].tags[?(@.code=='np_fees')].list[*].code"
                            tag_enum:
                              ["channel_margin_type", "channel_margin_value"]
                            _RETURN_: attr all in tag_enum
                          - _NAME_: TAGS_PROVIDER_CATEGORY_NP_FEES_CHANNEL_MARGIN_TYPE
                            _CONTINUE_: "!(attr are present)"
                            attr: "$.message.catalog['bpp/providers'][*].categories[*].tags[?(@.code=='np_fees')].list[?(@.code=='channel_margin_type')].value"
                            var_enum: ["percent", "amount"]
                            _RETURN_: attr all in var_enum
                      - _NAME_: TAGS_PROVIDER_CATEGORY_ATTR
                        _RETURN_:
                          - _NAME_: TAGS_PROVIDER_CATEGORY_TYPE_ATTR
                            _CONTINUE_: "!(attr are present)"
                            attr: "$.message.catalog['bpp/providers'][*].categories[*].tags[?(@.code=='attr')].list[*].code"
                            tag_enum: ["name", "seq"]
                            _RETURN_: attr all in tag_enum
              - _NAME_: PROVIDERS_ITEMS
                _RETURN_:
                  - _NAME_: ITEMS_ID
                    attr: "$.message.catalog['bpp/providers'][*].items[*].id"
                    _RETURN_: attr are present
                  - _NAME_: ITEMS_RATING
                    attr: "$.message.catalog['bpp/providers'][*].items[*].rating"
                    _CONTINUE_: "!(attr are present)"
                    rating_reg: ['^(?:[1-4](?:\\.\\d+)?|5(?:\\.0+)?|\\s*)$']
                    _RETURN_: attr follow regex rating_reg
                  - _NAME_: ITEMS_TIME_LABEL
                    attr: "$.message.catalog['bpp/providers'][*].items[*].time.label"
                    var_enum: ["enable", "disable"]
                    _RETURN_: attr all in var_enum
                  - _NAME_: ITEMS_TIME_TIMESTAMP
                    attr: "$.message.catalog['bpp/providers'][*].items[*].time.timestamp"
                    _RETURN_: attr are present
                  - _NAME_: ITEMS_DESCRIPTOR_NAME
                    attr: "$.message.catalog['bpp/providers'][*].items[*].descriptor.name"
                    _RETURN_: attr are present
                  - _NAME_: ITEMS_DESCRIPTOR_SYMBOL
                    attr: "$.message.catalog['bpp/providers'][*].items[*].descriptor.symbol"
                    _RETURN_: attr are present
                  - _NAME_: ITEMS_DESCRIPTOR_SHORT_DESC
                    attr: "$.message.catalog['bpp/providers'][*].items[*].descriptor.short_desc"
                    _RETURN_: attr are present
                  - _NAME_: ITEMS_DESCRIPTOR_CODE
                    attr: "$.message.catalog['bpp/providers'][*].items[*].descriptor.code"
                    reg: ["^(1|5):"]
                    _RETURN_: attr follow regex reg
                  - _NAME_: ITEMS_DESCRIPTOR_IMAGES
                    attr: "$.message.catalog['bpp/providers'][*].items[*].descriptor.images[*]"
                    _RETURN_: attr are present
                  - _NAME_: ITEMS_QUANTITY_UNITIZED_MEASURE_UNIT
                    attr: "$.message.catalog['bpp/providers'][*].items[*].quantity.unitized.measure.unit"
                    var_enum:
                      [
                        "unit",
                        "dozen",
                        "gram",
                        "kilogram",
                        "tonne",
                        "litre",
                        "millilitre",
                      ]
                    _RETURN_: attr all in var_enum
                  - _NAME_: ITEMS_QUANTITY_UNITIZED_MEASURE_VALUE
                    attr: "$.message.catalog['bpp/providers'][*].items[*].quantity.unitized.measure.value"
                    _RETURN_: attr are present
                  - _NAME_: ITEMS_QUANTITY_AVAILABLE_COUNT
                    attr: "$.message.catalog['bpp/providers'][*].items[*].quantity.available.count"
                    var_enum: ["99", "0"]
                    _RETURN_: attr all in var_enum
                  - _NAME_: ITEMS_QUANTITY_MAXIMUM_COUNT
                    attr: "$.message.catalog['bpp/providers'][*].items[*].quantity.maximum.count"
                    _RETURN_: attr are present
                  - _NAME_: ITEMS_PRICE_CURRENCY
                    attr: "$.message.catalog['bpp/providers'][*].items[*].price.currency"
                    var_enum: ["INR"]
                    _RETURN_: attr all in var_enum
                  - _NAME_: ITEMS_PRICE_VALUE
                    attr: "$.message.catalog['bpp/providers'][*].items[*].price.value"
                    _RETURN_: attr are present
                  - _NAME_: ITEMS_PRICE_MAXIMUM_VALUE
                    attr: "$.message.catalog['bpp/providers'][*].items[*].price.maximum_value"
                    _RETURN_: attr are present
                  - _NAME_: ITEMS_CATEGORY_ID
                    attr: "$.message.catalog['bpp/providers'][*].items[*].category_id"
                    valid:
                      [
                        "Fruits and Vegetables",
                        "Masala & Seasoning",
                        "Oil & Ghee",
                        "Eggs, Meat & Fish",
                        "Cleaning & Household",
                        "Bakery, Cakes & Dairy",
                        "Pet Care",
                        "Stationery",
                        "Detergents and Dishwash",
                        "Dairy and Cheese",
                        "Snacks, Dry Fruits, Nuts",
                        "Pasta, Soup and Noodles",
                        "Cereals and Breakfast",
                        "Sauces, Spreads and Dips",
                        "Chocolates and Biscuits",
                        "Cooking and Baking Needs",
                        "Tinned and Processed Food",
                        "Atta, Flours and Sooji",
                        "Rice and Rice Products",
                        "Dals and Pulses",
                        "Salt, Sugar and Jaggery",
                        "Energy and Soft Drinks",
                        "Water",
                        "Tea and Coffee",
                        "Fruit Juices and Fruit Drinks",
                        "Snacks and Namkeen",
                        "Ready to Cook and Eat",
                        "Pickles and Chutney",
                        "Indian Sweets",
                        "Frozen Vegetables",
                        "Frozen Snacks",
                        "Gift Voucher",
                      ]
                    _RETURN_: attr all in valid
                  - _NAME_: ITEMS_FULFILLMENT_ID
                    attr: "$.message.catalog['bpp/providers'][*].items[*].fulfillment_id"
                    _RETURN_: attr are present
                  - _NAME_: ITEMS_LOCATION_ID
                    attr: "$.message.catalog['bpp/providers'][*].items[*].location_id"
                    _RETURN_: attr are present
                  - _NAME_: ITEMS_RETURNABLE
                    attr: "$.message.catalog['bpp/providers'][*].items[*]['@ondc/org/returnable']"
                    _RETURN_: attr are present
                  - _NAME_: ITEMS_CANCELLABLE
                    attr: "$.message.catalog['bpp/providers'][*].items[*]['@ondc/org/cancellable']"
                    _RETURN_: attr are present
                  - _NAME_: ITEMS_RETURN_WINDOW
                    attr: "$.message.catalog['bpp/providers'][*].items[*]['@ondc/org/return_window']"
                    reg: [
                        '^P(?=\\d|T)(\\d+Y)?(\\d+M)?(\\d+W)?(\\d+D)?(T(?=\\d)(\\d+H)?(\\d+M)?(\\d+S)?)?$',
                      ] #   _RETURN_: attr follow regex reg
                    _RETURN_: attr follow regex reg
                  - _NAME_: ITEMS_SELLER_PICKUP_RETURN
                    attr: "$.message.catalog['bpp/providers'][*].items[*]['@ondc/org/seller_pickup_return']"
                    _RETURN_: attr are present
                  - _NAME_: ITEMS_TIME_TO_SHIP
                    attr: "$.message.catalog['bpp/providers'][*].items[*]['@ondc/org/time_to_ship']"
                    _RETURN_: attr are present
                  - _NAME_: ITEMS_AVAILABLE_ON_COD
                    attr: "$.message.catalog['bpp/providers'][*].items[*]['@ondc/org/available_on_cod']"
                    _RETURN_: attr are present
                  - _NAME_: ITEMS_STATUTORY_REQS_PREPACKAGED_FOOD_ADDITIVES_INFO
                    attr: "$.message.catalog['bpp/providers'][*].items[*]['@ondc/org/statutory_reqs_prepackaged_food'].additives_info"
                    category: "$.message.catalog['bpp/providers'][*].items[*].category_id"
                    _CONTINUE_: "!(attr are present) || !(category are present) || !(category all in applicable_categories)"
                    _RETURN_: attr are present
                    applicable_categories:
                      [
                        "Fruits and Vegetables",
                        "Bakery, Cakes & Dairy",
                        "Dairy and Cheese",
                        "Snacks, Dry Fruits, Nuts",
                        "Cereals and Breakfast",
                        "Sauces, Spreads and Dips",
                        "Chocolates and Biscuits",
                        "Tinned and Processed Food",
                        "Energy and Soft Drinks",
                        "Fruit Juices and Fruit Drinks",
                        "Snacks and Namkeen",
                        "Ready to Cook and Eat",
                        "Pickles and Chutney",
                        "Indian Sweets",
                        "Frozen Snacks",
                      ]

                  - _NAME_: ITEMS_STATUTORY_REQS_PREPACKAGED_FOOD_BRAND_OWNER_FSSAI_LICENSE_NO
                    attr: "$.message.catalog['bpp/providers'][*].items[*]['@ondc/org/statutory_reqs_prepackaged_food'].brand_owner_FSSAI_license_no"
                    category: "$.message.catalog['bpp/providers'][*].items[*].category_id"
                    _CONTINUE_: "!(attr are present) || !(category are present) || !(category all in applicable_categories)"
                    _RETURN_: attr are present
                    applicable_categories:
                      [
                        "Fruits and Vegetables",
                        "Bakery, Cakes & Dairy",
                        "Dairy and Cheese",
                        "Snacks, Dry Fruits, Nuts",
                        "Cereals and Breakfast",
                        "Sauces, Spreads and Dips",
                        "Chocolates and Biscuits",
                        "Tinned and Processed Food",
                        "Energy and Soft Drinks",
                        "Fruit Juices and Fruit Drinks",
                        "Snacks and Namkeen",
                        "Ready to Cook and Eat",
                        "Pickles and Chutney",
                        "Indian Sweets",
                        "Frozen Snacks",
                      ]

                  - _NAME_: ITEMS_STATUTORY_REQS_PREPACKAGED_FOOD_IMPORTER_FSSAI_LICENSE_NO
                    attr: "$.message.catalog['bpp/providers'][*].items[*]['@ondc/org/statutory_reqs_prepackaged_food'].importer_FSSAI_license_no"
                    category: "$.message.catalog['bpp/providers'][*].items[*].category_id"
                    _CONTINUE_: "!(attr are present) ||!(category are present) || !(category all in applicable_categories)"
                    _RETURN_: attr are present
                    applicable_categories:
                      [
                        "Fruits and Vegetables",
                        "Bakery, Cakes & Dairy",
                        "Dairy and Cheese",
                        "Snacks, Dry Fruits, Nuts",
                        "Cereals and Breakfast",
                        "Sauces, Spreads and Dips",
                        "Chocolates and Biscuits",
                        "Tinned and Processed Food",
                        "Energy and Soft Drinks",
                        "Fruit Juices and Fruit Drinks",
                        "Snacks and Namkeen",
                        "Ready to Cook and Eat",
                        "Pickles and Chutney",
                        "Indian Sweets",
                        "Frozen Snacks",
                      ]

                  - _NAME_: ITEMS_STATUTORY_REQS_PREPACKAGED_FOOD_NUTRITIONAL_INFO
                    attr: "$.message.catalog['bpp/providers'][*].items[*]['@ondc/org/statutory_reqs_prepackaged_food'].nutritional_info"
                    category: "$.message.catalog['bpp/providers'][*].items[*].category_id"
                    _CONTINUE_: "!(attr are present) ||!(category are present) || !(category all in applicable_categories)"
                    _RETURN_: attr are present
                    applicable_categories:
                      [
                        "Fruits and Vegetables",
                        "Bakery, Cakes & Dairy",
                        "Dairy and Cheese",
                        "Snacks, Dry Fruits, Nuts",
                        "Cereals and Breakfast",
                        "Sauces, Spreads and Dips",
                        "Chocolates and Biscuits",
                        "Tinned and Processed Food",
                        "Energy and Soft Drinks",
                        "Fruit Juices and Fruit Drinks",
                        "Snacks and Namkeen",
                        "Ready to Cook and Eat",
                        "Pickles and Chutney",
                        "Indian Sweets",
                        "Frozen Snacks",
                      ]

                  - _NAME_: ITEMS_STATUTORY_REQS_PREPACKAGED_FOOD_OTHER_FSSAI_LICENSE_NO
                    attr: "$.message.catalog['bpp/providers'][*].items[*]['@ondc/org/statutory_reqs_prepackaged_food'].other_FSSAI_license_no"
                    category: "$.message.catalog['bpp/providers'][*].items[*].category_id"
                    _CONTINUE_: "!(attr are present) || !(category all in applicable_categories)"
                    _RETURN_: attr are present
                    applicable_categories:
                      [
                        "Fruits and Vegetables",
                        "Bakery, Cakes & Dairy",
                        "Dairy and Cheese",
                        "Snacks, Dry Fruits, Nuts",
                        "Cereals and Breakfast",
                        "Sauces, Spreads and Dips",
                        "Chocolates and Biscuits",
                        "Tinned and Processed Food",
                        "Energy and Soft Drinks",
                        "Fruit Juices and Fruit Drinks",
                        "Snacks and Namkeen",
                        "Ready to Cook and Eat",
                        "Pickles and Chutney",
                        "Indian Sweets",
                        "Frozen Snacks",
                      ]

                  - _NAME_: ITEMS_STATUTORY_REQS_PACKAGED_COMMODITIES_COMMON_OR_GENERIC_NAME_OF_COMMODITY
                    attr: "$.message.catalog['bpp/providers'][*].items[*]['@ondc/org/statutory_reqs_packaged_commodities'].common_or_generic_name_of_commodity"
                    category: "$.message.catalog['bpp/providers'][*].items[*].category_id"
                    _CONTINUE_: "!(attr are present) || !(category are present) || !(category all in applicable_categories)"
                    applicable_categories:
                      [
                        "Fruits and Vegetables",
                        "Masala & Seasoning",
                        "Oil & Ghee",
                        "Eggs, Meat & Fish",
                        "Cleaning & Household",
                        "Bakery, Cakes & Dairy",
                        "Pet Care",
                        "Stationery",
                        "Detergents and Dishwash",
                        "Dairy and Cheese",
                        "Snacks, Dry Fruits, Nuts",
                        "Pasta, Soup and Noodles",
                        "Cereals and Breakfast",
                        "Sauces, Spreads and Dips",
                        "Chocolates and Biscuits",
                        "Cooking and Baking Needs",
                        "Tinned and Processed Food",
                        "Atta, Flours and Sooji",
                        "Rice and Rice Products",
                        "Dals and Pulses",
                        "Salt, Sugar and Jaggery",
                        "Energy and Soft Drinks",
                        "Water",
                        "Tea and Coffee",
                        "Fruit Juices and Fruit Drinks",
                        "Snacks and Namkeen",
                        "Ready to Cook and Eat",
                        "Pickles and Chutney",
                        "Indian Sweets",
                        "Frozen Vegetables",
                        "Frozen Snacks",
                      ]
                    _RETURN_: attr are present

                  - _NAME_: ITEMS_STATUTORY_REQS_PACKAGED_COMMODITIES_MANUFACTURER_OR_PACKER_ADDRESS
                    attr: "$.message.catalog['bpp/providers'][*].items[*]['@ondc/org/statutory_reqs_packaged_commodities'].manufacturer_or_packer_address"
                    category: "$.message.catalog['bpp/providers'][*].items[*].category_id"
                    _CONTINUE_: "!(attr are present) || !(category are present) || !(category all in applicable_categories)"
                    applicable_categories:
                      [
                        "Fruits and Vegetables",
                        "Masala & Seasoning",
                        "Oil & Ghee",
                        "Eggs, Meat & Fish",
                        "Cleaning & Household",
                        "Bakery, Cakes & Dairy",
                        "Pet Care",
                        "Stationery",
                        "Detergents and Dishwash",
                        "Dairy and Cheese",
                        "Snacks, Dry Fruits, Nuts",
                        "Pasta, Soup and Noodles",
                        "Cereals and Breakfast",
                        "Sauces, Spreads and Dips",
                        "Chocolates and Biscuits",
                        "Cooking and Baking Needs",
                        "Tinned and Processed Food",
                        "Atta, Flours and Sooji",
                        "Rice and Rice Products",
                        "Dals and Pulses",
                        "Salt, Sugar and Jaggery",
                        "Energy and Soft Drinks",
                        "Water",
                        "Tea and Coffee",
                        "Fruit Juices and Fruit Drinks",
                        "Snacks and Namkeen",
                        "Ready to Cook and Eat",
                        "Pickles and Chutney",
                        "Indian Sweets",
                        "Frozen Vegetables",
                        "Frozen Snacks",
                      ]
                    _RETURN_: attr are present

                  - _NAME_: ITEMS_STATUTORY_REQS_PACKAGED_COMMODITIES_MANUFACTURER_OR_PACKER_NAME
                    attr: "$.message.catalog['bpp/providers'][*].items[*]['@ondc/org/statutory_reqs_packaged_commodities'].manufacturer_or_packer_name"
                    category: "$.message.catalog['bpp/providers'][*].items[*].category_id"
                    _CONTINUE_: "!(attr are present) || !(category are present) || !(category all in applicable_categories)"
                    applicable_categories:
                      [
                        "Fruits and Vegetables",
                        "Masala & Seasoning",
                        "Oil & Ghee",
                        "Eggs, Meat & Fish",
                        "Cleaning & Household",
                        "Bakery, Cakes & Dairy",
                        "Pet Care",
                        "Stationery",
                        "Detergents and Dishwash",
                        "Dairy and Cheese",
                        "Snacks, Dry Fruits, Nuts",
                        "Pasta, Soup and Noodles",
                        "Cereals and Breakfast",
                        "Sauces, Spreads and Dips",
                        "Chocolates and Biscuits",
                        "Cooking and Baking Needs",
                        "Tinned and Processed Food",
                        "Atta, Flours and Sooji",
                        "Rice and Rice Products",
                        "Dals and Pulses",
                        "Salt, Sugar and Jaggery",
                        "Energy and Soft Drinks",
                        "Water",
                        "Tea and Coffee",
                        "Fruit Juices and Fruit Drinks",
                        "Snacks and Namkeen",
                        "Ready to Cook and Eat",
                        "Pickles and Chutney",
                        "Indian Sweets",
                        "Frozen Vegetables",
                        "Frozen Snacks",
                      ]
                    _RETURN_: attr are present

                  - _NAME_: ITEMS_STATUTORY_REQS_PACKAGED_COMMODITIES_MONTH_YEAR_OF_MANUFACTURE_PACKING_IMPORT
                    attr: "$.message.catalog['bpp/providers'][*].items[*]['@ondc/org/statutory_reqs_packaged_commodities'].month_year_of_manufacture_packing_import"
                    category: "$.message.catalog['bpp/providers'][*].items[*].category_id"
                    _CONTINUE_: "!(attr are present) || !(category are present) || !(category all in applicable_categories)"
                    applicable_categories:
                      [
                        "Fruits and Vegetables",
                        "Masala & Seasoning",
                        "Oil & Ghee",
                        "Eggs, Meat & Fish",
                        "Cleaning & Household",
                        "Bakery, Cakes & Dairy",
                        "Pet Care",
                        "Stationery",
                        "Detergents and Dishwash",
                        "Dairy and Cheese",
                        "Snacks, Dry Fruits, Nuts",
                        "Pasta, Soup and Noodles",
                        "Cereals and Breakfast",
                        "Sauces, Spreads and Dips",
                        "Chocolates and Biscuits",
                        "Cooking and Baking Needs",
                        "Tinned and Processed Food",
                        "Atta, Flours and Sooji",
                        "Rice and Rice Products",
                        "Dals and Pulses",
                        "Salt, Sugar and Jaggery",
                        "Energy and Soft Drinks",
                        "Water",
                        "Tea and Coffee",
                        "Fruit Juices and Fruit Drinks",
                        "Snacks and Namkeen",
                        "Ready to Cook and Eat",
                        "Pickles and Chutney",
                        "Indian Sweets",
                        "Frozen Vegetables",
                        "Frozen Snacks",
                      ]
                    _RETURN_: attr are present

                  - _NAME_: ITEMS_TAGS
                    _RETURN_:
                      - _NAME_: TAGS_BPP_ITEMS_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.catalog['bpp/providers'][*].items[*].tags[*].code"
                        valid:
                          ["origin", "veg_nonveg", "image", "timing", "np_fees"]
                        _RETURN_: attr all in valid
                      - _NAME_: TAGS_ITEMS_ORIGIN_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.catalog['bpp/providers'][*].items[*].tags[?(@.code=='origin')].list[*].code"
                        tag_enum: ["country"]
                        _RETURN_: attr all in tag_enum
                      - _NAME_: ITEMS_TAGS_ORIGIN
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.catalog['bpp/providers'][*].items[*].tags[?(@.code=='origin')].list[?(@.code=='country')].value"
                        reg: ["^[A-Z]{3}$"]
                        _RETURN_: attr follow regex reg
                      - _NAME_: ITEMS_TAGS_TYPE
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.catalog['bpp/providers'][*].items[*].tags[?(@.code=='image')].list[?(@.code=='type')].value"
                        var_enum: ["back_image"]
                        _RETURN_: attr all in var_enum
                      - _NAME_: ITEMS_TAGS_TYPE_VALID_URL
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.catalog['bpp/providers'][*].items[*].tags[?(@.code=='image')].list[?(@.code=='url')].value"
                        reg:
                          [
                            '^(https?:\\/\\/)?(www\\.)?[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}(\/[^\\s]*)?$',
                          ]
                        _RETURN_: attr follow regex reg
                      # - _NAME_: TAGS_ATTRIBUTE
                      #   _RETURN_:
                      #   - _NAME_: TAGS_ATTRIBUTE_GENDER
                      #     _CONTINUE_: "!(attr are present)"
                      #     attr: "$.message.catalog['bpp/providers'][*].items[*].tags[?(@.code=='attribute')].list[?(@.code=='gender')].value"
                      #     var_enum: ["male", "female", "boy", "girl", "infant", "unisex"]
                      #     _RETURN_: attr all in var_enum

                      #   - _NAME_: TAGS_ATTRIBUTE_COLOUR
                      #     _CONTINUE_: "!(attr are present)"
                      #     attr: "$.message.catalog['bpp/providers'][*].items[*].tags[?(@.code=='attribute')].list[?(@.code=='colour')].value"
                      #     _RETURN_: attr are present

                      #   - _NAME_: TAGS_ATTRIBUTE_COLOUR_NAME
                      #     _CONTINUE_: "!(attr are present)"
                      #     attr: "$.message.catalog['bpp/providers'][*].items[*].tags[?(@.code=='attribute')].list[?(@.code=='colour_name')].value"
                      #     _RETURN_: attr are present

                      #   - _NAME_: TAGS_ATTRIBUTE_SIZE
                      #     _CONTINUE_: "!(attr are present)"
                      #     attr: "$.message.catalog['bpp/providers'][*].items[*].tags[?(@.code=='attribute')].list[?(@.code=='size')].value"
                      #     _RETURN_: attr are present

                      #   - _NAME_: TAGS_ATTRIBUTE_BRAND
                      #     _CONTINUE_: "!(attr are present)"
                      #     attr: "$.message.catalog['bpp/providers'][*].items[*].tags[?(@.code=='attribute')].list[?(@.code=='brand')].value"
                      #     _RETURN_: attr are present

                      #   - _NAME_: TAGS_ATTRIBUTE_SIZE_CHART
                      #     _CONTINUE_: "!(attr are present)"
                      #     attr: "$.message.catalog['bpp/providers'][*].items[*].tags[?(@.code=='attribute')].list[?(@.code=='size_chart')].value"
                      #     _RETURN_: attr are present

                      #   - _NAME_: TAGS_ATTRIBUTE_FABRIC
                      #     _CONTINUE_: "!(attr are present)"
                      #     attr: "$.message.catalog['bpp/providers'][*].items[*].tags[?(@.code=='attribute')].list[?(@.code=='fabric')].value"
                      #     _RETURN_: attr are present

                      # - _NAME_: TAGS_CUSTOM_GROUP
                      #   _CONTINUE_: "!(attr are present)"
                      #   attr: "$.message.catalog['bpp/providers'][*].items[*].tags[?(@.code=='custom_group')].list[?(@.code=='id')].value"
                      #   _RETURN_: attr are present

                      # - _NAME_: TAGS_CONFIG
                      #   _RETURN_:
                      #   - _NAME_: TAGS_CONFIG_ID
                      #     _CONTINUE_: "!(attr are present)"
                      #     attr: "$.message.catalog['bpp/providers'][*].items[*].tags[?(@.code=='config')].list[?(@.code=='id')].value"
                      #     _RETURN_: attr are present

                      #   - _NAME_: TAGS_CONFIG_MIN
                      #     _CONTINUE_: "!(attr are present)"
                      #     attr: "$.message.catalog['bpp/providers'][*].items[*].tags[?(@.code=='config')].list[?(@.code=='min')].value"
                      #     _RETURN_: attr are present

                      #   - _NAME_: TAGS_CONFIG_MAX
                      #     _CONTINUE_: "!(attr are present)"
                      #     attr: "$.message.catalog['bpp/providers'][*].items[*].tags[?(@.code=='config')].list[?(@.code=='max')].value"
                      #     _RETURN_: attr are present

                      #   - _NAME_: TAGS_CONFIG_SEQ
                      #     _CONTINUE_: "!(attr are present)"
                      #     attr: "$.message.catalog['bpp/providers'][*].items[*].tags[?(@.code=='config')].list[?(@.code=='seq')].value"
                      #     _RETURN_: attr are present

                      # - _NAME_: TAGS_TIMING
                      #   _RETURN_:
                      #   - _NAME_: TAGS_TIMING_DAY_FROM
                      #     _CONTINUE_: "!(attr are present)"
                      #     attr: "$.message.catalog['bpp/providers'][*].items[*].tags[?(@.code=='timing')].list[?(@.code=='day_from')].value"
                      #     _RETURN_: attr are present

                      #   - _NAME_: TAGS_TIMING_DAY_TO
                      #     _CONTINUE_: "!(attr are present)"
                      #     attr: "$.message.catalog['bpp/providers'][*].items[*].tags[?(@.code=='timing')].list[?(@.code=='day_to')].value"
                      #     _RETURN_: attr are present

                      #   - _NAME_: TAGS_TIMING_TIME_FROM
                      #     _CONTINUE_: "!(attr are present)"
                      #     attr: "$.message.catalog['bpp/providers'][*].items[*].tags[?(@.code=='timing')].list[?(@.code=='time_from')].value"
                      #     _RETURN_: attr are present

                      #   - _NAME_: TAGS_TIMING_TIME_TO
                      #     _CONTINUE_: "!(attr are present)"
                      #     attr: "$.message.catalog['bpp/providers'][*].items[*].tags[?(@.code=='timing')].list[?(@.code=='time_to')].value"
                      #     _RETURN_: attr are present
                      - _NAME_: TAGS_VEG_NONVEG
                        _RETURN_:
                          - _NAME_: TAGS_VEG_NONVEG_CODES
                            _CONTINUE_: "!(attr are present)"
                            attr: "$.message.catalog['bpp/providers'][*].items[*].tags[?(@.code=='veg_nonveg')].list[*].code"
                            var_enum: ["veg", "non_veg", "egg"]
                            _RETURN_: attr all in var_enum

                          - _NAME_: TAGS_VEG_NONVEG_VALUES
                            _CONTINUE_: "!(attr are present)"
                            attr: "$.message.catalog['bpp/providers'][*].items[*].tags[?(@.code=='veg_nonveg')].list[*].value"
                            var_enum: ["yes"]
                            _RETURN_: attr all in var_enum
              - _NAME_: PROVIDERS_OFFERS
                _RETURN_:
                  # - _NAME_: OFFERS_ID
                  #   attr: "$.message.catalog['bpp/providers'][*].offers[*].id"
                  #   _CONTINUE_: "!(attr are present)"
                  #   _RETURN_: attr are present
                  - _NAME_: OFFERS_DESCRIPTOR_CODE
                    attr: "$.message.catalog['bpp/providers'][*].offers[*].descriptor.code"
                    var_enum:
                      [
                        "discount",
                        "buyXgetY",
                        "freebie",
                        "slab",
                        "combo",
                        "delivery",
                      ]
                    _CONTINUE_: "!(attr are present)"
                    _RETURN_: attr all in var_enum
                  # - _NAME_: OFFERS_DESCRIPTOR_IMAGES
                  #   attr: "$.message.catalog['bpp/providers'][*].offers[*].descriptor.images[*]"
                  #   _CONTINUE_: "!(attr are present)"
                  #   _RETURN_: attr are present
                  # - _NAME_: OFFERS_LOCATION_IDS
                  #   attr: "$.message.catalog['bpp/providers'][*].offers[*].location_ids[*]"
                  #   _CONTINUE_: "!(attr are present)"
                  #   _RETURN_: attr are present
                  # - _NAME_: OFFERS_ITEM_IDS
                  #   attr: "$.message.catalog['bpp/providers'][*].offers[*].item_ids[*]"
                  #   _CONTINUE_: "!(attr are present)"
                  #   _RETURN_: attr are present
                  # - _NAME_: OFFERS_TIME_LABEL
                  #   attr: "$.message.catalog['bpp/providers'][*].offers[*].time.label"
                  #   _CONTINUE_: "!(attr are present)"
                  #   _RETURN_: attr are present
                  # - _NAME_: OFFERS_TIME_RANGE_START
                  #   attr: "$.message.catalog['bpp/providers'][*].offers[*].time.range.start"
                  #   _CONTINUE_: "!(attr are present)"
                  #   _RETURN_: attr are present
                  # - _NAME_: OFFERS_TIME_RANGE_END
                  #   attr: "$.message.catalog['bpp/providers'][*].offers[*].time.range.end"
                  #   _CONTINUE_: "!(attr are present)"
                  #   _RETURN_: attr are present
                  - _NAME_: BPP_PROVIDERS_OFFERS_TAGS
                    _RETURN_:
                      - _NAME_: TAGS_OFFERS_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.catalog['bpp/providers'][*].offers[*].tags[*].code"
                        valid: ["qualifier", "benefit", "meta", "finance_terms"]
                        _RETURN_: attr all in valid
                      - _NAME_: TAGS_QUALIFIER
                        _RETURN_:
                          - _NAME_: TAGS_QUALIFIER_VALID_TAGS
                            _CONTINUE_: "!(attr are present)"
                            attr: "$.message.catalog['bpp/providers'][*].offers[*].tags[?(@.code=='qualifier')].list[*].code"
                            tag_enum:
                              ["min_value", "item_count", "item_count_upper"]
                            _RETURN_: attr all in tag_enum
                        # - _NAME_: TAGS_QUALIFIER_MIN_VALUE
                        #   attr: "$.message.catalog['bpp/providers'][*].offers[*].tags[?(@.code=='qualifier')].list[?(@.code=='min_value')].value"
                        #   _CONTINUE_: "!(attr are present)"
                        #   _RETURN_: attr are present

                        # - _NAME_: TAGS_QUALIFIER_ITEM_COUNT
                        #   attr: "$.message.catalog['bpp/providers'][*].offers[*].tags[?(@.code=='qualifier')].list[?(@.code=='item_count')].value"
                        #   _CONTINUE_: "!(attr are present)"
                        #   _RETURN_: attr are present

                        # - _NAME_: TAGS_QUALIFIER_ITEM_COUNT_UPPER
                        #   attr: "$.message.catalog['bpp/providers'][*].offers[*].tags[?(@.code=='qualifier')].list[?(@.code=='item_count_upper')].value"
                        #   _CONTINUE_: "!(attr are present)"
                        #   _RETURN_: attr are present

                      - _NAME_: TAGS_BENEFIT
                        _RETURN_:
                          - _NAME_: TAGS_BENEFIT_VALID_TAGS
                            _CONTINUE_: "!(attr are present)"
                            attr: "$.message.catalog['bpp/providers'][*].offers[*].tags[?(@.code=='benefit')].list[*].code"
                            tag_enum:
                              [
                                "value_type",
                                "value",
                                "value_cap",
                                "item_count",
                                "item_id",
                                "item_value",
                              ]
                            _RETURN_: attr all in tag_enum
                          - _NAME_: TAGS_BENEFIT_VALUE_TYPE
                            attr: "$.message.catalog['bpp/providers'][*].offers[*].tags[?(@.code=='benefit')].list[?(@.code=='value_type')].value"
                            var_enum: ["percent", "amount"]
                            _CONTINUE_: "!(attr are present)"
                            _RETURN_: attr all in var_enum

                        # - _NAME_: TAGS_BENEFIT_VALUE
                        #   attr: "$.message.catalog['bpp/providers'][*].offers[*].tags[?(@.code=='benefit')].list[?(@.code=='value')].value"
                        #   _CONTINUE_: "!(attr are present)"
                        #   _RETURN_: attr are present

                        # - _NAME_: TAGS_BENEFIT_VALUE_CAP
                        #   attr: "$.message.catalog['bpp/providers'][*].offers[*].tags[?(@.code=='benefit')].list[?(@.code=='value_cap')].value"
                        #   _CONTINUE_: "!(attr are present)"
                        #   _RETURN_: attr are present

                        # - _NAME_: TAGS_BENEFIT_ITEM_COUNT
                        #   attr: "$.message.catalog['bpp/providers'][*].offers[*].tags[?(@.code=='benefit')].list[?(@.code=='item_count')].value"
                        #   _CONTINUE_: "!(attr are present)"
                        #   _RETURN_: attr are present

                        # - _NAME_: TAGS_BENEFIT_ITEM_ID
                        #   attr: "$.message.catalog['bpp/providers'][*].offers[*].tags[?(@.code=='benefit')].list[?(@.code=='item_id')].value"
                        #   _CONTINUE_: "!(attr are present)"
                        #   _RETURN_: attr are present

                        # - _NAME_: TAGS_BENEFIT_ITEM_VALUE
                        #   attr: "$.message.catalog['bpp/providers'][*].offers[*].tags[?(@.code=='benefit')].list[?(@.code=='item_value')].value"
                        #   _CONTINUE_: "!(attr are present)"
                        #   _RETURN_: attr are present

                      - _NAME_: TAGS_META
                        _RETURN_:
                          - _NAME_: TAGS_META_VALID_TAGS
                            _CONTINUE_: "!(attr are present)"
                            attr: "$.message.catalog['bpp/providers'][*].offers[*].tags[?(@.code=='meta')].list[*].code"
                            tag_enum: ["additive", "auto"]
                            _RETURN_: attr all in tag_enum
                          - _NAME_: TAGS_META_ADDITIVE
                            attr: "$.message.catalog['bpp/providers'][*].offers[*].tags[?(@.code=='meta')].list[?(@.code=='additive')].value"
                            var_enum: ["yes", "no"]
                            _CONTINUE_: "!(attr are present)"
                            _RETURN_: attr all in var_enum

                          - _NAME_: TAGS_META_AUTO
                            attr: "$.message.catalog['bpp/providers'][*].offers[*].tags[?(@.code=='meta')].list[?(@.code=='auto')].value"
                            var_enum: ["yes", "no"]
                            _CONTINUE_: "!(attr are present)"
                            _RETURN_: attr all in var_enum

                      - _NAME_: TAGS_FINANCE_TERMS
                        _RETURN_:
                          - _NAME_: TAGS_FINANCE_TERMS_VALID_TAGS
                            _CONTINUE_: "!(attr are present)"
                            attr: "$.message.catalog['bpp/providers'][*].offers[*].tags[?(@.code=='finance_terms')].list[*].code"
                            tag_enum: ["subvention_type", "subvention_amount"]
                            _RETURN_: attr all in tag_enum
                        # - _NAME_: TAGS_FINANCE_TERMS_SUBVENTION_TYPE
                        #   attr: "$.message.catalog['bpp/providers'][*].offers[*].tags[?(@.code=='finance_terms')].list[?(@.code=='subvention_type')].value"
                        #   _CONTINUE_: "!(attr are present)"
                        #   _RETURN_: attr are present

                        # - _NAME_: TAGS_FINANCE_TERMS_SUBVENTION_AMOUNT
                        #   attr: "$.message.catalog['bpp/providers'][*].offers[*].tags[?(@.code=='finance_terms')].list[?(@.code=='subvention_amount')].value"
                        #   _CONTINUE_: "!(attr are present)"
                        #   _RETURN_: attr are present
              - _NAME_: PROVIDERS_TAGS
                _RETURN_:
                  - _NAME_: TAGS_PROVIDERS_VALID_TIMING_TAGS
                    _CONTINUE_: "!(attr are present)"
                    attr: "$.message.catalog['bpp/providers'][*].tags[?(@.code=='timing')].list[?(@.code=='type')].value"
                    _RETURN_: attr are present
                  - _NAME_: TAGS_PROVIDERS_SERVICEABILITY
                    _RETURN_:
                      - _NAME_: TAGS_PROVIDER_SERVICABILITY_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.catalog['bpp/providers'][*].tags[?(@.code=='serviceability')].list[*].code"
                        tag_enum:
                          [
                            "location",
                            "category",
                            "type",
                            "val",
                            "day_from",
                            "day_to",
                            "time_from",
                            "time_to",
                            "unit",
                          ]
                        _RETURN_: attr all in tag_enum
                      # - _NAME_: TAGS_PROVIDERS_SERVICEABILITY_LOCATION
                      #   attr: "$.message.catalog['bpp/providers'][*].tags[?(@.code=='serviceability')].list[?(@.code=='location')].value"
                      #   _RETURN_: attr are present

                      # - _NAME_: TAGS_PROVIDERS_SERVICEABILITY_CATEGORY
                      #   attr: "$.message.catalog['bpp/providers'][*].tags[?(@.code=='serviceability')].list[?(@.code=='category')].value"
                      #   _RETURN_: attr are present

                      - _NAME_: TAGS_PROVIDERS_SERVICEABILITY_TYPE
                        attr: "$.message.catalog['bpp/providers'][*].tags[?(@.code=='serviceability')].list[?(@.code=='type')].value"
                        var_enum: ["10", "11", "12", "13"]
                        _RETURN_: attr all in var_enum

                      # - _NAME_: TAGS_PROVIDERS_SERVICEABILITY_VAL
                      #   attr: "$.message.catalog['bpp/providers'][*].tags[?(@.code=='serviceability')].list[?(@.code=='val')].value"
                      #   _RETURN_: attr are present

                      # - _NAME_: TAGS_PROVIDERS_SERVICEABILITY_DAY_FROM
                      #   attr: "$.message.catalog['bpp/providers'][*].tags[?(@.code=='serviceability')].list[?(@.code=='day_from')].value"
                      #   _RETURN_: attr are present

                      # - _NAME_: TAGS_PROVIDERS_SERVICEABILITY_DAY_TO
                      #   attr: "$.message.catalog['bpp/providers'][*].tags[?(@.code=='serviceability')].list[?(@.code=='day_to')].value"
                      #   _RETURN_: attr are present

                      # - _NAME_: TAGS_PROVIDERS_SERVICEABILITY_TIME_FROM
                      #   attr: "$.message.catalog['bpp/providers'][*].tags[?(@.code=='serviceability')].list[?(@.code=='time_from')].value"
                      #   _RETURN_: attr are present

                      # - _NAME_: TAGS_PROVIDERS_SERVICEABILITY_TIME_TO
                      #   attr: "$.message.catalog['bpp/providers'][*].tags[?(@.code=='serviceability')].list[?(@.code=='time_to')].value"
                      #   _RETURN_: attr are present

                      - _NAME_: TAGS_PROVIDERS_SERVICEABILITY_UNIT
                        attr: "$.message.catalog['bpp/providers'][*].tags[?(@.code=='serviceability')].list[?(@.code=='unit')].value"
                        var_enum: ["km", "geojson", "country", "pincode"]
                        _RETURN_: attr all in var_enum

                  - _NAME_: TAGS_PROVIDERS_ORDER_VALUE
                    _RETURN_:
                      - _NAME_: TAGS_PROVIDER_ORDER_VALUE_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.catalog['bpp/providers'][*].tags[?(@.code=='order_value')].list[*].code"
                        tag_enum: ["min_value"]
                        _RETURN_: attr all in tag_enum
                      - _NAME_: TAGS_PROVIDERS_ORDER_VALUE_MIN_VALUE
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.catalog['bpp/providers'][*].tags[?(@.code=='order_value')].list[?(@.code=='min_value')].value"
                        _RETURN_: attr are present

                  - _NAME_: TAGS_PROVIDERS_CATALOG_LINK
                    _RETURN_:
                      - _NAME_: TAGS_PROVIDERS_CATALOG_LINK_TYPE
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.catalog['bpp/providers'][*].tags[?(@.code=='catalog_link')].list[?(@.code=='type')].value"
                        var_enum: ["link", "inline"]
                        _RETURN_: attr all in var_enum

                    # - _NAME_: TAGS_PROVIDERS_CATALOG_LINK_TYPE_VALUE
                    #   _CONTINUE_: "!(attr are present)"
                    #   attr: "$.message.catalog['bpp/providers'][*].tags[?(@.code=='catalog_link')].list[?(@.code=='type_value')].value"
                    #   _RETURN_: attr are present

                    # - _NAME_: TAGS_PROVIDERS_CATALOG_LINK_TYPE_VALIDITY
                    #   _CONTINUE_: "!(attr are present)"
                    #   attr: "$.message.catalog['bpp/providers'][*].tags[?(@.code=='catalog_link')].list[?(@.code=='type_validity')].value"
                    #   _RETURN_: attr are present

                    # - _NAME_: TAGS_PROVIDERS_CATALOG_LINK_LAST_UPDATE
                    #   _CONTINUE_: "!(attr are present)"
                    #   attr: "$.message.catalog['bpp/providers'][*].tags[?(@.code=='catalog_link')].list[?(@.code=='last_update')].value"
                    #   _RETURN_: attr are present

                  - _NAME_: TAGS_PROVIDERS_TIMING
                    _RETURN_:
                      - _NAME_: TAGS_PROVIDER_TIMING_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.catalog['bpp/providers'][*].tags[?(@.code=='timing')].list[*].code"
                        tag_enum:
                          [
                            "type",
                            "location",
                            "day_from",
                            "day_to",
                            "time_from",
                            "time_to",
                          ]
                        _RETURN_: attr all in tag_enum
                    # - _NAME_: TAGS_PROVIDERS_TIMING_TYPE
                    #   _CONTINUE_: "!(attr are present)"
                    #   attr: "$.message.catalog['bpp/providers'][*].tags[?(@.code=='timing')].list[?(@.code=='type')].value"
                    #   _RETURN_: attr are present

                    # - _NAME_: TAGS_PROVIDERS_TIMING_LOCATION
                    #   _CONTINUE_: "!(attr are present)"
                    #   attr: "$.message.catalog['bpp/providers'][*].tags[?(@.code=='timing')].list[?(@.code=='location')].value"
                    #   _RETURN_: attr are present

                    # - _NAME_: TAGS_PROVIDERS_TIMING_DAY_FROM
                    #   _CONTINUE_: "!(attr are present)"
                    #   attr: "$.message.catalog['bpp/providers'][*].tags[?(@.code=='timing')].list[?(@.code=='day_from')].value"
                    #   _RETURN_: attr are present

                    # - _NAME_: TAGS_PROVIDERS_TIMING_DAY_TO
                    #   _CONTINUE_: "!(attr are present)"
                    #   attr: "$.message.catalog['bpp/providers'][*].tags[?(@.code=='timing')].list[?(@.code=='day_to')].value"
                    #   _RETURN_: attr are present

                    # - _NAME_: TAGS_PROVIDERS_TIMING_TIME_FROM
                    #   _CONTINUE_: "!(attr are present)"
                    #   attr: "$.message.catalog['bpp/providers'][*].tags[?(@.code=='timing')].list[?(@.code=='time_from')].value"
                    #   _RETURN_: attr are present

                    # - _NAME_: TAGS_PROVIDERS_TIMING_TIME_TO
                    #   _CONTINUE_: "!(attr are present)"
                    #   attr: "$.message.catalog['bpp/providers'][*].tags[?(@.code=='timing')].list[?(@.code=='time_to')].value"
                    #   _RETURN_: attr are present

                  - _NAME_: TAGS_PROVIDERS_NP_FEES
                    _RETURN_:
                      - _NAME_: TAGS_PROVIDER_NP_FEES_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.catalog['bpp/providers'][*].tags[?(@.code=='np_fees')].list[*].code"
                        tag_enum:
                          ["channel_margin_type", "channel_margin_value"]
                        _RETURN_: attr all in tag_enum
                      - _NAME_: TAGS_PROVIDERS_NP_FEES_CHANNEL_MARGIN_TYPE
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.catalog['bpp/providers'][*].tags[?(@.code=='np_fees')].list[?(@.code=='channel_margin_type')].value"
                        var_enum: ["percent", "amount"]
                        _RETURN_: attr all in var_enum

                    # - _NAME_: TAGS_PROVIDERS_NP_FEES_CHANNEL_MARGIN_VALUE
                    #   _CONTINUE_: "!(attr are present)"
                    #   attr: "$.message.catalog['bpp/providers'][*].tags[?(@.code=='np_fees')].list[?(@.code=='channel_margin_value')].value"
                    #   _RETURN_: attr are present
          - _NAME_: CATALOG_BPP_FULFILLMENTS
            _RETURN_:
              # - _NAME_: BPP_FULFILLMENTS_ID
              #   attr: "$.message.catalog['bpp/fulfillments'][*].id"
              #   _CONTINUE_: "!(attr are present)"
              #   _RETURN_: attr are present
              - _NAME_: BPP_FULFILLMENTS_TYPE
                attr: "$.message.catalog['bpp/fulfillments'][*].type"
                var_enum: ["Delivery", "Self-Pickup", "Buyer-Delivery"]
                _CONTINUE_: "!(attr are present)"
                _RETURN_: attr all in var_enum
    select:
      # ===== CONTEXT VALIDATION =====
      - _NAME_: SELECT_CONTEXT
        _DESCRIPTION_: Validate select context
        action: ["select"]
        _RETURN_: *CONTEXT_COMMON

      # ===== ORDER VALIDATION =====
      - _NAME_: SELECT_ORDER
        _RETURN_:
          - _NAME_: ORDER_PROVIDER
            _RETURN_: &SELECT_PROVIDER
              - _NAME_: ORDER_PROVIDER_ID
                attr: "$.message.order.provider.id"
                _RETURN_: attr are present
              - _NAME_: ORDER_PROVIDER_LOCATIONS_ID
                attr: "$.message.order.provider.locations[*].id"
                _RETURN_: attr are present
          - _NAME_: ORDER_ITEMS
            _RETURN_: &SELECT_ITEMS
              - _NAME_: ITEMS_ID
                attr: "$.message.order.items[*].id"
                _RETURN_: attr are present
              - _NAME_: ITEMS_LOCATION_ID
                attr: "$.message.order.items[*].location_id"
                _CONTINUE_: "!(attr are present)"
                _RETURN_: attr are present

              - _NAME_: ITEMS_QUANTITY_COUNT
                attr: "$.message.order.items[*].quantity.count"
                _RETURN_: attr are present
          - _NAME_: ORDER_OFFERS
            _RETURN_:
              # - _NAME_: OFFERS_ID
              #   attr: "$.message.order.offers[*].id"
              #   _CONTINUE_: "!(attr are present)"
              #   _RETURN_: attr are present
              - _NAME_: OFFERS_TAGS_SELECTION_APPLY
                attr: "$.message.order.offers[*].tags[?(@.code=='selection')].list[?(@.code=='apply')].value"
                var_enum: ["yes", "no"]
                _CONTINUE_: "!(attr are present)"
                _RETURN_: attr all in var_enum
          - _NAME_: ORDER_FULFILLMENTS
            _RETURN_:
              - _NAME_: FULFILLMENT_END_LOCATION_GPS
                attr: "$.message.order.fulfillments[*].end.location.gps"
                _RETURN_: attr are present
              - _NAME_: FULFILLMENT_END_LOCATION_ADDRESS_AREA_CODE
                attr: "$.message.order.fulfillments[*].end.location.address.area_code"
                _RETURN_: attr are present
        # - _NAME_: ORDER_TAGS
        #   _RETURN_:
        # - _NAME_: ORDER_TAGS_TYPE
        #   attr: "$.message.order.tags[?(@.code=='bnp_demand_signal')].list[?(@.code=='source')].value"
        #   _CONTINUE_: "!(attr are present)"
        #   _RETURN_: attr are present
        # - _NAME_: ORDER_TAGS_PARENT_ID
        #   attr: "$.message.order.tags[?(@.code=='bnp_demand_signal')].list[?(@.code=='campaign')].value"
        #   _CONTINUE_: "!(attr are present)"
        #   _RETURN_: attr are present
    on_select:
      # ===== CONTEXT VALIDATION =====
      - _NAME_: ON_SELECT_CONTEXT
        _DESCRIPTION_: Validate on_select context
        action: ["on_select"]
        _RETURN_: *CONTEXT_COMMON

      # ===== ORDER VALIDATION =====
      - _NAME_: ON_SELECT_ORDER
        _RETURN_:
          - _NAME_: ORDER_PROVIDER
            attr: "$.message.order.provider.id"
            _RETURN_: attr are present
          - _NAME_: ORDER_ITEMS
            _RETURN_:
              - _NAME_: ITEMS_ID
                attr: "$.message.order.items[*].id"
                _RETURN_: attr are present
              - _NAME_: ITEMS_FULFILLMENT_ID
                attr1: "$.message.order.items[*].fulfillment_ids[*]"
                attr2: "$.message.order.items[*].fulfillment_id"
                _RETURN_: (attr1 are present) || (attr2 are present)
          - _NAME_: ORDER_FULFILLMENTS
            _RETURN_:
              - _NAME_: FULFILLMENTS_ID
                attr: "$.message.order.fulfillments[*].id"
                _RETURN_: attr are present
              - _NAME_: FULFILLMENTS_TYPE
                attr: "$.message.order.fulfillments[*].type"
                _RETURN_: attr are present
              - _NAME_: FULFILLMENTS_PROVIDER_NAME
                attr: "$.message.order.fulfillments[*]['@ondc/org/provider_name']"
                _RETURN_: attr are present
              - _NAME_: FULFILLMENTS_TRACKING
                attr: "$.message.order.fulfillments[*].tracking"
                _RETURN_: attr are present
              - _NAME_: FULFILLMENTS_CATEGORY
                attr: "$.message.order.fulfillments[*]['@ondc/org/category']"
                _RETURN_: attr are present
              - _NAME_: FULFILLMENTS_STATE_CODE
                attr: "$.message.order.fulfillments[*].state.descriptor.code"
                var_enum: ["Serviceable", "Non-serviceable"]
                _RETURN_: attr all in var_enum
              - _NAME_: FULFILLMENTS_TAGS_ORDER_DETAILS
                _RETURN_: &TAGS_ORDER_DETAILS
                  - _NAME_: FULFILLMENTS_TAGS_ORDER_VALID
                    _CONTINUE_: "!(attr are present)"
                    attr: "$.message.order.fulfillments[*].tags[*].code"
                    valid:
                      [
                        "order_details",
                        "weight_unit",
                        "weight_value",
                        "dim_unit",
                        "weight",
                        "length",
                        "breadth",
                        "height",
                      ]
                    _RETURN_: attr all in valid
                  - _NAME_: FULFILLMENTS_TAGS_ORDER_DETAILS_VALID_TAGS
                    _CONTINUE_: "!(attr are present)"
                    attr: "$.message.order.fulfillments[*].tags[?(@.code=='order_details')].list[*].code"
                    valid:
                      [
                        "weight_unit",
                        "weight_value",
                        "dim_unit",
                        "length",
                        "breadth",
                        "height",
                      ]
                    _RETURN_: attr all in valid
                # - _NAME_: FULFILLMENTS_TAGS_ORDER_DETAILS_WEIGHT_UNIT
                #   _CONTINUE_: "!(attr are present)"
                #   attr: "$.message.order.fulfillments[*].tags[?(@.code=='order_details')].list[?(@.code=='weight_unit')].value"
                #   _RETURN_: attr are present
                # - _NAME_: FULFILLMENTS_TAGS_ORDER_DETAILS_WEIGHT_VALUE
                #   _CONTINUE_: "!(attr are present)"
                #   attr: "$.message.order.fulfillments[*].tags[?(@.code=='order_details')].list[?(@.code=='weight_value')].value"
                #   _RETURN_: attr are present
                # - _NAME_: FULFILLMENTS_TAGS_ORDER_DETAILS_DIM_UNIT
                #   _CONTINUE_: "!(attr are present)"
                #   attr: "$.message.order.fulfillments[*].tags[?(@.code=='order_details')].list[?(@.code=='dim_unit')].value"
                #   _RETURN_: attr are present
                # - _NAME_: FULFILLMENTS_TAGS_ORDER_DETAILS_LENGTH
                #   _CONTINUE_: "!(attr are present)"
                #   attr: "$.message.order.fulfillments[*].tags[?(@.code=='order_details')].list[?(@.code=='length')].value"
                #   _RETURN_: attr are present
                # - _NAME_: FULFILLMENTS_TAGS_ORDER_DETAILS_BREADTH
                #   _CONTINUE_: "!(attr are present)"
                #   attr: "$.message.order.fulfillments[*].tags[?(@.code=='order_details')].list[?(@.code=='breadth')].value"
                #   _RETURN_: attr are present
                # - _NAME_: FULFILLMENTS_TAGS_ORDER_DETAILS_HEIGHT
                #   _CONTINUE_: "!(attr are present)"
                #   attr: "$.message.order.fulfillments[*].tags[?(@.code=='order_details')].list[?(@.code=='height')].value"
                #   _RETURN_: attr are present
          - _NAME_: ORDER_QUOTE
            _RETURN_: &ON_SELECT_QUOTE
              - _NAME_: QUOTE_PRICE_CURRENCY
                attr: "$.message.order.quote.price.currency"
                _RETURN_: attr are present
              - _NAME_: QUOTE_PRICE_VALUE
                attr: "$.message.order.quote.price.value"
                _RETURN_: attr are present
              - _NAME_: QUOTE_TTL
                attr: "$.message.order.quote.ttl"
                _RETURN_: attr are present
              - _NAME_: QUOTE_BREAKUP
                _RETURN_:
                  - _NAME_: BREAKUP_ITEM
                    _RETURN_:
                      - _NAME_: BREAKUP_ITEM_ID
                        attr: "$.message.order.quote.breakup[*]['@ondc/org/item_id']"
                        _RETURN_: attr are present
                      - _NAME_: BREAKUP_ITEM_QUANTITY_COUNT
                        _CONTINUE_: "!(attr are present)" #????
                        attr: "$.message.order.quote.breakup[*]['@ondc/org/item_quantity'].count"
                        _RETURN_: attr are present
                      - _NAME_: BREAKUP_ITEM_TITLE
                        attr: "$.message.order.quote.breakup[*].title"
                        _RETURN_: attr are present
                      - _NAME_: BREAKUP_ITEM_TITLE_TYPE
                        attr: "$.message.order.quote.breakup[*]['@ondc/org/title_type']"
                        var_enum:
                          [
                            "item",
                            "delivery",
                            "packing",
                            "tax",
                            "misc",
                            "discount",
                            "offer",
                          ]
                        _RETURN_: attr all in var_enum
                      - _NAME_: BREAKUP_ITEM_PRICE_CURRENCY
                        attr: "$.message.order.quote.breakup[*].price.currency"
                        _RETURN_: attr are present
                      - _NAME_: BREAKUP_ITEM_PRICE_VALUE
                        attr: "$.message.order.quote.breakup[*].price.value"
                        _RETURN_: attr are present

                      - _NAME_: BREAKUP_ITEM_ITEM
                        _RETURN_:
                          - _NAME_: BREAKUP_ITEM_ITEM_QUANTITY_AVAILABLE_COUNT
                            _CONTINUE_: "!(attr are present)"
                            attr: "$.message.order.quote.breakup[*].item.quantity.available.count"
                            var_enum: ["99", "0"]
                            _RETURN_: attr all in var_enum
                          - _NAME_: BREAKUP_ITEM_ITEM_QUANTITY_MAXIMUM_COUNT
                            attr: "$.message.order.quote.breakup[*].item.quantity.maximum.count"
                            _RETURN_: attr are present
                          - _NAME_: BREAKUP_ITEM_ITEM_PRICE_CURRENCY
                            attr: "$.message.order.quote.breakup[*].item.price.currency"
                            _RETURN_: attr are present
                          - _NAME_: BREAKUP_ITEM_ITEM_PRICE_VALUE
                            attr: "$.message.order.quote.breakup[*].item.price.value"
                            _RETURN_: attr are present
                          - _NAME_: BREAKUP_ITEM_ITEM_TAGS
                            _RETURN_:
                              - _NAME_: BREAKUP_ITEM_VALID_TAGS
                                _CONTINUE_: "!(attr are present)"
                                attr: "$.message.order.quote.breakup[*].item.tags[*].code"
                                valid: ["quote", "np_fees", "offer"]
                                _RETURN_: attr all in valid
                              - _NAME_: BREAKUP_ITEM_ITEM_TAGS_TAGS_QUOTE
                                _RETURN_:
                                  - _NAME_: BREAKUP_ITEM_ITEM_TAGS_TAGS_QUOTE_TYPE
                                    attr: "$.message.order.quote.breakup[*].item.tags[?(@.code=='quote')].list[?(@.code=='type')].value"
                                    var_enum: ["fulfillment", "order", "item"]
                                    _CONTINUE_: "!(attr are present)"
                                    _RETURN_: attr all in var_enum
                                  - _NAME_: BREAKUP_ITEM_ITEM_TAGS_TAGS_QUOTE_SUBTYPE
                                    _CONTINUE_: "!(attr are present)"
                                    attr: "$.message.order.quote.breakup[*].item.tags[?(@.code=='quote')].list[?(@.code=='subtype')].value"
                                    var_enum: ["delivery", "packaging", "misc"]
                                    _RETURN_: attr all in var_enum
          - _NAME_: BREAKUP_ITEM_ITEM_TAGS_TAGS_NP_FEES
            _RETURN_:
              - _NAME_: BREAKUP_ITEM_ITEM_TAGS_VALID_TAGS
                _CONTINUE_: "!(attr are present)"
                attr: "$.message.order.fulfillments[*].tags[?(@.code=='np_fees')].list[*].code"
                valid: ["id", "channel_margin_type", "channel_margin_value"]
                _RETURN_: attr all in valid
              # - _NAME_: BREAKUP_ITEM_ITEM_TAGS_TAGS_NP_FEES_ID
              #   _CONTINUE_: "!(attr are present)"
              #   attr: "$.message.order.quote.breakup[*].item.tags[?(@.code=='np_fees')].list[?(@.code=='id')].value"
              #   _RETURN_: attr are present
              - _NAME_: BREAKUP_ITEM_ITEM_TAGS_TAGS_NP_FEES_CHANNEL_MARGIN_TYPE
                _CONTINUE_: "!(attr are present)"
                attr: "$.message.order.quote.breakup[*].item.tags[?(@.code=='np_fees')].list[?(@.code=='channel_margin_type')].value"
                var_enum: ["percent", "amount"]
                _RETURN_: attr all in var_enum
            # - _NAME_: BREAKUP_ITEM_ITEM_TAGS_TAGS_NP_FEES_CHANNEL_MARGIN_VALUE
            #   _CONTINUE_: "!(attr are present)"
            #   attr: "$.message.order.quote.breakup[*].item.tags[?(@.code=='np_fees')].list[?(@.code=='channel_margin_value')].value"
            #   _RETURN_: attr are present
          - _NAME_: BREAKUP_ITEM_ITEM_TAGS_TAGS_OFFER
            _RETURN_:
              - _NAME_: BREAKUP_ITEM_ITEM_TAGS_TAGS_OFFER_VALID_TAGS
                _CONTINUE_: "!(attr are present)"
                attr: "$.message.order.fulfillments[*].tags[?(@.code=='offer')].list[*].code"
                valid:
                  [
                    "id",
                    "type",
                    "auto",
                    "additive",
                    "item_id",
                    "item_value",
                    "item_count",
                  ]
                _RETURN_: attr all in valid
              # - _NAME_: BREAKUP_ITEM_ITEM_TAGS_TAGS_OFFER_ID
              #   _CONTINUE_: "!(attr are present)"
              #   attr: "$.message.order.quote.breakup[*].item.tags[?(@.code=='offer')].list[?(@.code=='id')].value"
              #   _RETURN_: attr are present
              - _NAME_: BREAKUP_ITEM_ITEM_TAGS_TAGS_OFFER_TYPE
                _CONTINUE_: "!(attr are present)"
                attr: "$.message.order.quote.breakup[*].item.tags[?(@.code=='offer')].list[?(@.code=='type')].value"
                var_enum: ["delivery", "discount"]
                _RETURN_: attr all in var_enum
              - _NAME_: BREAKUP_ITEM_ITEM_TAGS_TAGS_OFFER_AUTO
                _CONTINUE_: "!(attr are present)"
                attr: "$.message.order.quote.breakup[*].item.tags[?(@.code=='offer')].list[?(@.code=='auto')].value"
                var_enum: ["yes", "no"]
                _RETURN_: attr all in var_enum
              - _NAME_: BREAKUP_ITEM_ITEM_TAGS_TAGS_OFFER_ADDITIVE
                _CONTINUE_: "!(attr are present)"
                attr: "$.message.order.quote.breakup[*].item.tags[?(@.code=='offer')].list[?(@.code=='additive')].value"
                var_enum: ["yes", "no"]
                _RETURN_: attr all in var_enum
            # - _NAME_: BREAKUP_ITEM_ITEM_TAGS_TAGS_OFFER_ITEM_ID
            #   _CONTINUE_: "!(attr are present)"
            #   attr: "$.message.order.quote.breakup[*].item.tags[?(@.code=='offer')].list[?(@.code=='item_id')].value"
            #   _RETURN_: attr are present
            # - _NAME_: BREAKUP_ITEM_ITEM_TAGS_TAGS_OFFER_ITEM_VALUE
            #   _CONTINUE_: "!(attr are present)"
            #   attr: "$.message.order.quote.breakup[*].item.tags[?(@.code=='offer')].list[?(@.code=='item_value')].value"
            #   _RETURN_: attr are present
            # - _NAME_: BREAKUP_ITEM_ITEM_TAGS_TAGS_OFFER_ITEM_COUNT
            #   _CONTINUE_: "!(attr are present)"
            #   attr: "$.message.order.quote.breakup[*].item.tags[?(@.code=='offer')].list[?(@.code=='item_count')].value"
            #   _RETURN_: attr are present
          - _NAME_: ERROR
            _RETURN_: &ERROR
              - _NAME_: ERROR_TYPE
                attr: "$.error.type"
                _CONTINUE_: "!(attr are present)"
                _RETURN_: attr are present
              - _NAME_: ERROR_CODE
                attr: "$.error.code"
                _CONTINUE_: "!(attr are present)"
                _RETURN_: attr are present
              - _NAME_: ERROR_MESSAGE
                attr: "$.error.message"
                _CONTINUE_: "!(attr are present)"
                _RETURN_: attr are present
    init:
      # ===== CONTEXT VALIDATION =====
      - _NAME_: INIT_CONTEXT
        _DESCRIPTION_: Validate init context
        action: ["init"]
        _RETURN_: *CONTEXT_COMMON

      # ===== ORDER VALIDATION =====
      - _NAME_: INIT_ORDER
        _RETURN_:
          - _NAME_: ORDER_PROVIDER
            _RETURN_: *SELECT_PROVIDER
          - _NAME_: ORDER_ITEMS
            _RETURN_: &INIT_ITEMS
              - _NAME_: ITEMS_ID
                attr: "$.message.order.items[*].id"
                _RETURN_: attr are present
              - _NAME_: ITEMS_FULFILLMENT_ID
                attr: "$.message.order.items[*].fulfillment_id"
                _RETURN_: attr are present
              - _NAME_: ITEMS_LOCATION_ID
                attr: "$.message.order.items[*].location_id"
                _CONTINUE_: "!(attr are present)"
                _RETURN_: attr are present
              - _NAME_: ITEMS_QUANTITY_COUNT
                attr: "$.message.order.items[*].quantity.count"
                _RETURN_: attr are present
          - _NAME_: ORDER_OFFERS
            _RETURN_:
              - _NAME_: OFFERS_ID
                attr: "$.message.order.offers[*].id"
                _CONTINUE_: "!(attr are present)"
                _RETURN_: attr are present
              - _NAME_: OFFERS_TAGS
                _RETURN_:
                  - _NAME_: ITEMS_TAGS_SELECTION_VALID_TAGS
                    _CONTINUE_: "!(attr are present)"
                    attr: "$.message.order.offers[*].tags[?(@.code=='selection')].list[*].code"
                    valid: ["apply"]
                    _RETURN_: attr all in valid
                  - _NAME_: OFFERS_TAGS_SELECTION
                    _CONTINUE_: "!(attr are present)"
                    attr: "$.message.order.offers[*].tags[?(@.code=='selection')].list[?(@.code=='apply')].value"
                    var_enums: ["yes", "no"]
                    _RETURN_: attr all in var_enums
          - _NAME_: ORDER_BILLING
            _RETURN_: &INIT_BILLING
              - _NAME_: BILLING_ADDRESS
                _RETURN_:
                  - _NAME_: BILLING_ADDRESS_NAME
                    attr: "$.message.order.billing.address.name"
                    _RETURN_: attr are present
                  - _NAME_: BILLING_ADDRESS_BUILDING
                    attr: "$.message.order.billing.address.building"
                    _RETURN_: attr are present
                  - _NAME_: BILLING_ADDRESS_LOCALITY
                    attr: "$.message.order.billing.address.locality"
                    _RETURN_: attr are present
                  - _NAME_: BILLING_ADDRESS_CITY
                    attr: "$.message.order.billing.address.city"
                    _RETURN_: attr are present
                  - _NAME_: BILLING_ADDRESS_STATE
                    attr: "$.message.order.billing.address.state"
                    _RETURN_: attr are present
                  - _NAME_: BILLING_ADDRESS_COUNTRY
                    attr: "$.message.order.billing.address.country"
                    _RETURN_: attr are present
                  - _NAME_: BILLING_ADDRESS_AREA_CODE
                    attr: "$.message.order.billing.address.area_code"
                    _RETURN_: attr are present
              - _NAME_: BILLING_PHONE
                attr: "$.message.order.billing.phone"
                _RETURN_: attr are present
              - _NAME_: BILLING_NAME
                attr: "$.message.order.billing.name"
                _RETURN_: attr are present
              # - _NAME_: BILLING_EMAIL
              #   attr: "$.message.order.billing.email"
              #   _CONTINUE_: "!(attr are present)"
              #   _RETURN_: attr are present
              - _NAME_: BILLING_CREATED_AT
                attr: "$.message.order.billing.created_at"
                _RETURN_: attr are present
              - _NAME_: BILLING_UPDATED_AT
                attr: "$.message.order.billing.updated_at"
                _RETURN_: attr are present
          # - _NAME_: BILLING_TAX_NUMBER
          #   attr: "$.message.order.billing.tax_number"
          #   _CONTINUE_: "!(attr are present)"
          #   _RETURN_: attr are present
          - _NAME_: ORDER_FULFILLMENTS
            _RETURN_: &INIT_FULFILLMENTS
              - _NAME_: FULFILLMENTS_ID
                attr: "$.message.order.fulfillments[*].id"
                _RETURN_: attr are present
              - _NAME_: FULFILLMENTS_TYPE
                attr: "$.message.order.fulfillments[*].type"
                _RETURN_: attr are present
              - _NAME_: FULFILLMENTS_END_LOCATION_GPS
                attr: "$.message.order.fulfillments[*].end.location.gps"
                _RETURN_: attr are present
              - _NAME_: FULFILLMENTS_END_LOCATION_ADDRESS
                _RETURN_:
                  - _NAME_: FULFILLMENTS_END_LOCATION_ADDRESS_NAME
                    attr: "$.message.order.fulfillments[*].end.location.address.name"
                    _RETURN_: attr are present
                  - _NAME_: FULFILLMENTS_END_LOCATION_ADDRESS_BUILDING
                    attr: "$.message.order.fulfillments[*].end.location.address.building"
                    _RETURN_: attr are present
                  - _NAME_: FULFILLMENTS_END_LOCATION_ADDRESS_LOCALITY
                    attr: "$.message.order.fulfillments[*].end.location.address.locality"
                    _RETURN_: attr are present
                  - _NAME_: FULFILLMENTS_END_LOCATION_ADDRESS_CITY
                    attr: "$.message.order.fulfillments[*].end.location.address.city"
                    _RETURN_: attr are present
                  - _NAME_: FULFILLMENTS_END_LOCATION_ADDRESS_STATE
                    attr: "$.message.order.fulfillments[*].end.location.address.state"
                    _RETURN_: attr are present
                  - _NAME_: FULFILLMENTS_END_LOCATION_ADDRESS_COUNTRY
                    attr: "$.message.order.fulfillments[*].end.location.address.country"
                    _RETURN_: attr are present
                  - _NAME_: FULFILLMENTS_END_LOCATION_ADDRESS_AREA_CODE
                    attr: "$.message.order.fulfillments[*].end.location.address.area_code"
                    _RETURN_: attr are present
              - _NAME_: FULFILLMENTS_END_CONTACT_PHONE
                attr: "$.message.order.fulfillments[*].end.contact.phone"
                _RETURN_: attr are present
          - _NAME_: ORDER_TAGS
            _RETURN_:
              - _NAME_: ORDER_TAGS_BAP_TERMS
                _RETURN_: &TAGS_BAP_TERMS
                  - _NAME_: ORDER_TAGS_VALID_TAGS
                    _CONTINUE_: "!(attr are present)"
                    attr: "$.message.order.tags[*].code"
                    valid: ["bap_terms"]
                    _RETURN_: attr all in valid
                  - _NAME_: ORDER_TAGS_BAP_TERMS_VALID_TAGS
                    _CONTINUE_: "!(attr are present)"
                    attr: "$.message.order.tags[?(@.code=='bap_terms')].list[*].code"
                    var_enum: ["finance_const_type", "finance_const_type"]
                    _RETURN_: attr all in var_enum
                  - _NAME_: ORDER_TAGS_BAP_TERMS_FINANCE_COST_TYPE
                    _CONTINUE_: "!(attr are present)"
                    attr: "$.message.order.tags[?(@.code=='bap_terms')].list[?(@.code=='finance_const_type')].value"
                    var_enum: ["percent", "amount"]
                    _RETURN_: attr all in var_enum
                # - _NAME_: ORDER_TAGS_BAP_TERMS_FINANCE_COST_VALUE
                #   _CONTINUE_: "!(attr are present)"
                #   attr: "$.message.order.tags[?(@.code=='bap_terms')].list[?(@.code=='finance_const_type')].value"
                #   _RETURN_: attr are present
    on_init:
      # ===== CONTEXT VALIDATION =====
      - _NAME_: ON_INIT_CONTEXT
        _DESCRIPTION_: Validate on_init context
        action: ["on_init"]
        _RETURN_: *CONTEXT_COMMON
      # ===== ORDER VALIDATION =====
      - _NAME_: ON_INIT_ORDER
        _RETURN_:
          - _NAME_: ORDER_PROVIDER
            _RETURN_: *SELECT_PROVIDER
          - _NAME_: ORDER_ITEMS
            _RETURN_: *INIT_ITEMS
          - _NAME_: ORDER_ITEMS_ADDITIONAL_TAGS
            _RETURN_:
              - _NAME_: ITEMS_TAGS_VALID_TAGS
                _CONTINUE_: "!(attr are present)"
                attr: "$.message.order.items[*].tags[*].code"
                valid: ["np_fees", "rto_action"]
                _RETURN_: attr all in valid
              - _NAME_: ITEMS_TAGS_NP_FEES_VALID_TAGS
                _CONTINUE_: "!(attr are present)"
                attr: "$.message.order.items[*].tags[?(@.code=='np_fees')].list[*].code"
                valid: ["id"]
                _RETURN_: attr all in valid
              # - _NAME_: ITEMS_TAGS_NP_FEES
              #   _CONTINUE_: "!(attr are present)"
              #   attr: "$.message.order.items[*].tags[?(@.code=='np_fees')].list[?(@.code=='id')].value"
              #   _RETURN_: attr are present
              - _NAME_: ITEMS_TAGS_RTO_ACTION_VALID_TAGS
                _CONTINUE_: "!(attr are present)"
                attr: "$.message.order.items[*].tags[?(@.code=='rto_action')].list[*].code"
                valid: ["return_to_origin"]
                _RETURN_: attr all in valid
              - _NAME_: ITEMS_TAGS_RTO_ACTION
                _CONTINUE_: "!(attr are present)"
                attr: "$.message.order.items[*].tags[?(@.code=='rto_action')].list[?(@.code=='return_to_origin')].value"
                var_enum: ["yes", "no"]
                _RETURN_: attr all in var_enum
          - _NAME_: ORDER_BILLING
            _RETURN_: *INIT_BILLING
          - _NAME_: ORDER_FULFILLMENTS
            _RETURN_: *INIT_FULFILLMENTS
          - _NAME_: ORDER_FULFILLMENTS_ADDITIONAL_TAGS
            _RETURN_:
              - _NAME_: FULFILLMENTS_TAGS_ORDER_DETAILS
                _RETURN_: *TAGS_ORDER_DETAILS
              - _NAME_: FULFILLMENTS_TAGS_RTO_ACTION
                _CONTINUE_: "!(attr are present)"
                attr: "$.message.order.fulfillments[*].tags[?(@.code=='rto_action')].list[?(@.code=='return_to_origin')].value"
                var_enum: ["yes", "no"]
                _RETURN_: attr all in var_enum
          - _NAME_: ORDER_QUOTE
            _RETURN_: &ON_INIT_QUOTE
              - _NAME_: QUOTE_PRICE_CURRENCY
                attr: "$.message.order.quote.price.currency"
                _RETURN_: attr are present
              - _NAME_: QUOTE_PRICE_VALUE
                attr: "$.message.order.quote.price.value"
                _RETURN_: attr are present
              - _NAME_: QUOTE_TTL
                attr: "$.message.order.quote.ttl"
                _RETURN_: attr are present
              - _NAME_: QUOTE_BREAKUP
                _RETURN_:
                  - _NAME_: BREAKUP_ITEM
                    _RETURN_:
                      - _NAME_: BREAKUP_ITEM_ID
                        attr: "$.message.order.quote.breakup[*]['@ondc/org/item_id']"
                        _RETURN_: attr are present
                      - _NAME_: BREAKUP_ITEM_QUANTITY_COUNT
                        _CONTINUE_: "!(attr are present)" #????
                        attr: "$.message.order.quote.breakup[*]['@ondc/org/item_quantity'].count"
                        _RETURN_: attr are present
                      - _NAME_: BREAKUP_ITEM_TITLE
                        attr: "$.message.order.quote.breakup[*].title"
                        _RETURN_: attr are present
                      - _NAME_: BREAKUP_ITEM_TITLE_TYPE
                        attr: "$.message.order.quote.breakup[*]['@ondc/org/title_type']"
                        var_enum:
                          [
                            "item",
                            "delivery",
                            "packing",
                            "tax",
                            "misc",
                            "discount",
                            "offer",
                          ]
                        _RETURN_: attr all in var_enum
                      - _NAME_: BREAKUP_ITEM_PRICE_CURRENCY
                        attr: "$.message.order.quote.breakup[*].price.currency"
                        _RETURN_: attr are present
                      - _NAME_: BREAKUP_ITEM_PRICE_VALUE
                        attr: "$.message.order.quote.breakup[*].price.value"
                        _RETURN_: attr are present

                      - _NAME_: BREAKUP_ITEM_ITEM
                        _RETURN_:
                          - _NAME_: BREAKUP_ITEM_ITEM_PRICE_CURRENCY
                            attr: "$.message.order.quote.breakup[*].item.price.currency"
                            _RETURN_: attr are present
                          - _NAME_: BREAKUP_ITEM_ITEM_PRICE_VALUE
                            attr: "$.message.order.quote.breakup[*].item.price.value"
                            _RETURN_: attr are present
                          - _NAME_: BREAKUP_ITEM_ITEM_TAGS
                            _RETURN_:
                              - _NAME_: BREAKUP_ITEM_VALID_TAGS
                                _CONTINUE_: "!(attr are present)"
                                attr: "$.message.order.quote.breakup[*].item.tags[*].code"
                                valid: ["quote", "np_fees", "offer"]
                                _RETURN_: attr all in valid
                              - _NAME_: BREAKUP_ITEM_ITEM_TAGS_TAGS_QUOTE
                                _RETURN_:
                                  - _NAME_: BREAKUP_ITEM_ITEM_TAGS_TAGS_QUOTE_TYPE
                                    attr: "$.message.order.quote.breakup[*].item.tags[?(@.code=='quote')].list[?(@.code=='type')].value"
                                    var_enum: ["fulfillment", "order", "item"]
                                    _CONTINUE_: "!(attr are present)"
                                    _RETURN_: attr all in var_enum
                                  - _NAME_: BREAKUP_ITEM_ITEM_TAGS_TAGS_QUOTE_SUBTYPE
                                    _CONTINUE_: "!(attr are present)"
                                    attr: "$.message.order.quote.breakup[*].item.tags[?(@.code=='quote')].list[?(@.code=='subtype')].value"
                                    var_enum: ["delivery", "packaging", "misc"]
                                    _RETURN_: attr all in var_enum
          - _NAME_: ORDER_QUOTE_ADDITIONAL_TAGS
            _RETURN_:
              - _NAME_: TAGS_ITEM_VALID_TAGS
                _CONTINUE_: "!(attr are present)"
                attr: "$.message.order.quote.breakup[*].item.tags[*].code"
                valid: ["finance_terms", "np_fees", "quote", "offer"]
                _RETURN_: attr all in valid
              - _NAME_: TAGS_FINANCE_TERMS
                _RETURN_: &TAGS_FINANCE_TERMS
                  - _NAME_: TAGS_FINANCE_SUBVENTION_TYPE_VALID_TAGS
                    _CONTINUE_: "!(attr are present)"
                    attr: "$.message.order.quote.breakup[*].item.tags[?(@.code=='finance_terms')].list[*].code"
                    valid:
                      [
                        "subvention_type",
                        "subvention_amount",
                        "provider_tax_number",
                        "bank_account_no",
                        "ifsc_code",
                      ]
                    _RETURN_: attr all in valid
                # - _NAME_: TAGS_FINANCE_SUBVENTION_TYPE
                #   _CONTINUE_: "!(attr are present)"
                #   attr: "$.message.order.quote.breakup[*].item.tags[?(@.code=='finance_terms')].list[?(@.code=='subvention_type')].value"
                #   _RETURN_: attr are present

                # - _NAME_: TAGS_FINANCE_SUBVENTION_AMOUNT
                #   _CONTINUE_: "!(attr are present)"
                #   attr: "$.message.order.quote.breakup[*].item.tags[?(@.code=='finance_terms')].list[?(@.code=='subvention_amount')].value"
                #   _RETURN_: attr are present

                # - _NAME_: TAGS_FINANCE_PROVIDER_TAX_NUMBER
                #   _CONTINUE_: "!(attr are present)"
                #   attr: "$.message.order.quote.breakup[*].item.tags[?(@.code=='finance_terms')].list[?(@.code=='provider_tax_number')].value"
                #   _RETURN_: attr are present

                # - _NAME_: TAGS_FINANCE_BANK_ACCOUNT_NO
                #   _CONTINUE_: "!(attr are present)"
                #   attr: "$.message.order.quote.breakup[*].item.tags[?(@.code=='finance_terms')].list[?(@.code=='bank_account_no')].value"
                #   _RETURN_: attr are present

                # - _NAME_: TAGS_FINANCE_IFSC_CODE
                #   _CONTINUE_: "!(attr are present)"
                #   attr: "$.message.order.quote.breakup[*].item.tags[?(@.code=='finance_terms')].list[?(@.code=='ifsc_code')].value"
                #   _RETURN_: attr are present
              - _NAME_: BREAKUP_ITEM_ITEM_TAGS_TAGS_NP_FEES
                _RETURN_:
                  - _NAME_: TAGS_NP_FEES_VALID_TAGS
                    _CONTINUE_: "!(attr are present)"
                    attr: "$.message.order.quote.breakup[*].item.tags[?(@.code=='np_fees')].list[*].code"
                    valid: ["id", "channel_margin_type", "channel_margin_value"]
                    _RETURN_: attr all in valid
                  # - _NAME_: BREAKUP_ITEM_ITEM_TAGS_TAGS_NP_FEES_ID
                  #   _CONTINUE_: "!(attr are present)"
                  #   attr: "$.message.order.quote.breakup[*].item.tags[?(@.code=='np_fees')].list[?(@.code=='id')].value"
                  #   _RETURN_: attr are present
                  - _NAME_: BREAKUP_ITEM_ITEM_TAGS_TAGS_NP_FEES_CHANNEL_MARGIN_TYPE
                    _CONTINUE_: "!(attr are present)"
                    attr: "$.message.order.quote.breakup[*].item.tags[?(@.code=='np_fees')].list[?(@.code=='channel_margin_type')].value"
                    var_enum: ["percent", "amount"]
                    _RETURN_: attr all in var_enum
                # - _NAME_: BREAKUP_ITEM_ITEM_TAGS_TAGS_NP_FEES_CHANNEL_MARGIN_VALUE
                #   _CONTINUE_: "!(attr are present)"
                #   attr: "$.message.order.quote.breakup[*].item.tags[?(@.code=='np_fees')].list[?(@.code=='channel_margin_value')].value"
                #   _RETURN_: attr are present

          - _NAME_: ORDER_PAYMENT
            _RETURN_: &ON_INIT_PAYMENT
              - _NAME_: PAYMENT_ONDC_ORG_BUYER_APP_FINDER_FEE_TYPE
                attr: "$.message.order.payment['@ondc/org/buyer_app_finder_fee_type']"
                var_enum: ["percent", "amount"]
                _RETURN_: attr all in var_enum
              - _NAME_: PAYMENT_ONDC_ORG_BUYER_APP_FINDER_FEE_AMOUNT
                attr: "$.message.order.payment['@ondc/org/buyer_app_finder_fee_amount']"
                reg: ['^(\\d*.?\\d{1,2})$']
                _RETURN_: attr are present && attr follow regex reg
              - _NAME_: PAYMENT_ONDC_ORG_SETTLEMENT_DETAILS
                _RETURN_:
                  - _NAME_: PAYMENT_ONDC_ORG_SETTLEMENT_DETAILS_SETTLEMENT_COUNTERPARTY
                    attr: "$.message.order.payment['@ondc/org/settlement_details'][*].settlement_counterparty"
                    _CONTINUE_: "!(attr are present)"
                    _RETURN_: attr are present
                  - _NAME_: PAYMENT_ONDC_ORG_SETTLEMENT_DETAILS_SETTLEMENT_PHASE
                    attr: "$.message.order.payment['@ondc/org/settlement_details'][*].settlement_phase"
                    _CONTINUE_: "!(attr are present)"
                    _RETURN_: attr are present
                  - _NAME_: PAYMENT_ONDC_ORG_SETTLEMENT_DETAILS_SETTLEMENT_TYPE
                    attr: "$.message.order.payment['@ondc/org/settlement_details'][*].settlement_type"
                    _CONTINUE_: "!(attr are present)"
                    var_enum: ["upi", "neft", "rtgs"]
                    _RETURN_: attr all in var_enum
                # - _NAME_: PAYMENT_ONDC_ORG_SETTLEMENT_DETAILS_UPI_ADDRESS
                #   _CONTINUE_: "!(attr are present)"
                #   attr: "$.message.order.payment['@ondc/org/settlement_details'][*].upi_address"
                #   _RETURN_: attr are present
                # - _NAME_: PAYMENT_ONDC_ORG_SETTLEMENT_DETAILS_SETTLEMENT_BANK_ACCOUNT_NO
                #   _CONTINUE_: "!(attr are present)"
                #   attr: "$.message.order.payment['@ondc/org/settlement_details'][*].settlement_bank_account_no"
                #   _RETURN_: attr are present
                # - _NAME_: PAYMENT_ONDC_ORG_SETTLEMENT_DETAILS_SETTLEMENT_IFSC_CODE
                #   _CONTINUE_: "!(attr are present)"
                #   attr: "$.message.order.payment['@ondc/org/settlement_details'][*].settlement_ifsc_code"
                #   _RETURN_: attr are present
                # - _NAME_: PAYMENT_ONDC_ORG_SETTLEMENT_DETAILS_BANK_NAME
                #   _CONTINUE_: "!(attr are present)"
                #   attr: "$.message.order.payment['@ondc/org/settlement_details'][*].bank_name"
                #   _RETURN_: attr are present
                # - _NAME_: PAYMENT_ONDC_ORG_SETTLEMENT_DETAILS_BENEFICIARY_NAME
                #   _CONTINUE_: "!(attr are present)"
                #   attr: "$.message.order.payment['@ondc/org/settlement_details'][*].beneficiary_name"
                #   _RETURN_: attr are present
                # - _NAME_: PAYMENT_ONDC_ORG_SETTLEMENT_DETAILS_BRANCH_NAME
                #   _CONTINUE_: "!(attr are present)"
                #   attr: "$.message.order.payment['@ondc/org/settlement_details'][*].branch_name"
                #   _RETURN_: attr are present
          - _NAME_: ORDER_PAYMENT_TAGS
            _RETURN_:
              - _NAME_: PAYMENT_TAGS_VALID_TAGS
                _CONTINUE_: "!(attr are present)"
                attr: "$.message.order.payment.tags[*].code"
                valid: ["bpp_terms", "bpp_collect"]
                _RETURN_: attr all in valid
              - _NAME_: TAGS_BPP_TERMS
                _RETURN_: &TAGS_BPP_TERMS
                  - _NAME_: TAGS_BPP_TERMS_VALID_TAGS
                    _CONTINUE_: "!(attr are present)"
                    attr: "$.message.order.payment.tags[?(@.code=='bpp_terms')].list[*].code"
                    valid:
                      [
                        "max_liability_cap",
                        "max_liability",
                        "mandatory_arbitration",
                        "court_jurisdiction",
                        "delay_interest",
                        "np_type",
                        "tax_number",
                        "provider_tax_number",
                        "accept_bap_terms",
                      ]
                    _RETURN_: attr all in valid
                # - _NAME_: TAGS_BPP_TERMS_MAX_LIABILITY_CAP
                #   _CONTINUE_: "!(attr are present)"
                #   attr: "$.message.order.payment.tags[?(@.code=='bpp_terms')].list[?(@.code=='max_liability_cap')].value"
                #   _RETURN_: attr are present

                # - _NAME_: TAGS_BPP_TERMS_MAX_LIABILITY
                #   _CONTINUE_: "!(attr are present)"
                #   attr: "$.message.order.payment.tags[?(@.code=='bpp_terms')].list[?(@.code=='max_liability')].value"
                #   _RETURN_: attr are present

                # - _NAME_: TAGS_BPP_TERMS_MANDATORY_ARBITRATION
                #   _CONTINUE_: "!(attr are present)"
                #   attr: "$.message.order.payment.tags[?(@.code=='bpp_terms')].list[?(@.code=='mandatory_arbitration')].value"
                #   _RETURN_: attr are present

                # - _NAME_: TAGS_BPP_TERMS_COURT_JURISDICTION
                #   _CONTINUE_: "!(attr are present)"
                #   attr: "$.message.order.payment.tags[?(@.code=='bpp_terms')].list[?(@.code=='court_jurisdiction')].value"
                #   _RETURN_: attr are present

                # - _NAME_: TAGS_BPP_TERMS_DELAY_INTEREST
                #   _CONTINUE_: "!(attr are present)"
                #   attr: "$.message.order.payment.tags[?(@.code=='bpp_terms')].list[?(@.code=='delay_interest')].value"
                #   _RETURN_: attr are present

                # - _NAME_: TAGS_BPP_TERMS_NP_TYPE
                #   _CONTINUE_: "!(attr are present)"
                #   attr: "$.message.order.payment.tags[?(@.code=='bpp_terms')].list[?(@.code=='np_type')].value"
                #   _RETURN_: attr are present

                # - _NAME_: TAGS_BPP_TERMS_TAX_NUMBER
                #   _CONTINUE_: "!(attr are present)"
                #   attr: "$.message.order.payment.tags[?(@.code=='bpp_terms')].list[?(@.code=='tax_number')].value"
                #   _RETURN_: attr are present

                # - _NAME_: TAGS_BPP_TERMS_PROVIDER_TAX_NUMBER
                #   _CONTINUE_: "!(attr are present)"
                #   attr: "$.message.order.payment.tags[?(@.code=='bpp_terms')].list[?(@.code=='provider_tax_number')].value"
                #   _RETURN_: attr are present

                # - _NAME_: TAGS_BPP_TERMS_ACCEPT_BAP_TERMS
                #   _CONTINUE_: "!(attr are present)"
                #   attr: "$.message.order.payment.tags[?(@.code=='bpp_terms')].list[?(@.code=='accept_bap_terms')].value"
                #   _RETURN_: attr are present

              - _NAME_: TAGS_BPP_COLLECT
                _RETURN_:
                  - _NAME_: TAGS_BPP_COLLECT_VALID_TAGS
                    _CONTINUE_: "!(attr are present)"
                    attr: "$.message.order.payment.tags[?(@.code=='bpp_collect')].list[*].code"
                    valid: ["success", "error"]
                    _RETURN_: attr all in valid
                  - _NAME_: TAGS_BPP_COLLECT_SUCCESS
                    _CONTINUE_: "!(attr are present)"
                    attr: "$.message.order.payment.tags[?(@.code=='bpp_collect')].list[?(@.code=='success')].value"
                    var_enum: ["Y", "N"]
                    _RETURN_: attr all in var_enum
                  - _NAME_: TAGS_BPP_COLLECT_ERROR
                    _CONTINUE_: "!(attr are present)"
                    attr: "$.message.order.payment.tags[?(@.code=='bpp_collect')].list[?(@.code=='error')].value"
                    var_enum: ["Y", "N"]
                    _RETURN_: attr all in var_enum
          - _NAME_: ORDER_OFFERS
            _RETURN_:
              # - _NAME_: OFFERS_ID
              #   _CONTINUE_: "!(attr are present)"
              #   attr: "$.message.order.offers[*].id"
              #   _RETURN_: attr are present
              - _NAME_: OFFERS_DESCRIPTOR_CODE
                _CONTINUE_: "!(attr are present)"
                attr: "$.message.order.offers[*].descriptor.code"
                var_enum: ["discount", "buyXgetY", "freebie", "slab", "combo"]
                _RETURN_: attr all in var_enum
            # - _NAME_: OFFERS_DESCRIPTOR_IMAGES
            #   _CONTINUE_: "!(attr are present)"
            #   attr: "$.message.order.offers[*].descriptor.images[*]"
            #   _RETURN_: attr are present
            # - _NAME_: OFFERS_LOCATION_IDS
            #   _CONTINUE_: "!(attr are present)"
            #   attr: "$.message.order.offers[*].location_ids[*]"
            #   _RETURN_: attr are present
            # - _NAME_: OFFERS_ITEM_IDS
            #   _CONTINUE_: "!(attr are present)"
            #   attr: "$.message.order.offers[*].item_ids[*]"
            #   _RETURN_: attr are present
            # - _NAME_: OFFERS_TIME_LABEL
            #   _CONTINUE_: "!(attr are present)"
            #   attr: "$.message.order.offers[*].time.label"
            #   _RETURN_: attr are present
            # - _NAME_: OFFERS_TIME_RANGE_START
            #   _CONTINUE_: "!(attr are present)"
            #   attr: "$.message.order.offers[*].time.range.start"
            #   _RETURN_: attr are present
            # - _NAME_: OFFERS_TIME_RANGE_END
            #   _CONTINUE_: "!(attr are present)"
            #   attr: "$.message.order.offers[*].time.range.end"
            #   _RETURN_: attr are present
          - _NAME_: ORDER_TAGS
            _RETURN_:
              - _NAME_: TAGS_BAP_TERMS
                _RETURN_: *TAGS_BPP_TERMS
    confirm:
      # ===== CONTEXT VALIDATION =====
      - _NAME_: CONFIRM_CONTEXT
        _DESCRIPTION_: Validate confirm context
        action: ["confirm"]
        _RETURN_: *CONTEXT_COMMON

      # ===== ORDER VALIDATION =====
      - _NAME_: CONFIRM_ORDER
        _RETURN_: &CONFIRM_ORDER
          - _NAME_: ORDER_ID
            attr: "$.message.order.id"
            pattern:
              [
                "^[a-zA-Z0-9-]{1,32}$|^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
              ]
            _RETURN_: attr are present && attr follow regex pattern
          - _NAME_: ORDER_STATE
            attr: "$.message.order.state"
            var_enum: ["Created", "Accepted", "Cancelled"]
            _RETURN_: attr all in var_enum
          - _NAME_: ORDER_PROVIDER
            _RETURN_: *SELECT_PROVIDER
          - _NAME_: ORDER_ITEMS
            _RETURN_: *INIT_ITEMS
          # - _NAME_: ORDER_ITEMS_ADDITIONAL_TAGS
          #   _RETURN_:
          # - _NAME_: ITEMS_TAGS_NP_FEES
          #   _CONTINUE_: "!(attr are present)"
          #   attr: "$.message.order.items[*].tags[?(@.code=='np_fees')].list[?(@.code=='id')].value"
          #   _RETURN_: attr are present
          - _NAME_: ORDER_BILLING
            _RETURN_: *INIT_BILLING
          - _NAME_: ORDER_FULFILLMENTS
            _RETURN_: *INIT_FULFILLMENTS
          - _NAME_: ORDER_FULFILLMENTS_ADDITIONAL_PROPERTIES
            _RETURN_:
              - _NAME_: FULFILLMENTS_END_PERSON_NAME
                attr: "$.message.order.fulfillments[*].end.person.name"
                _CONTINUE_: "!(attr are present)"
                _RETURN_: attr are present
            # - _NAME_: FULFILLMENTS_END_CONTACT_EMAIL
            #   attr: "$.message.order.fulfillments[*].end.contact.email"
            #   _CONTINUE_: "!(attr are present)"
            #   _RETURN_: attr are present
          - _NAME_: ORDER_QUOTE
            _RETURN_: *ON_INIT_QUOTE
          - _NAME_: ORDER_QUOTE_ADDITIONAL_PROPERTIES
            _RETURN_:
              - _NAME_: QUOTE_TTL
                attr: "$.message.order.quote.ttl"
                _RETURN_: attr are present
          - _NAME_: ORDER_QUOTE_ADDITIONAL_TAGS
            _RETURN_:
              - _NAME_: TAGS_FINANCE_TERMS
                _RETURN_: *TAGS_FINANCE_TERMS
              - _NAME_: TAGS_FINANCE_TXN
                _RETURN_:
                  - _NAME_: TAGS_FINANCE_TXN_LOAN_VALID_TAGS
                    _CONTINUE_: "!(attr are present)"
                    attr: "$.message.order.quote.breakup[*].item.tags[?(@.code=='finance_txn')].list[*].code"
                    valid:
                      [
                        "loan_completed",
                        "down_payment",
                        "loan_amount",
                        "loan_provider",
                        "transaction_id",
                        "timestamp",
                      ]
                    _RETURN_: attr all in valid
                  - _NAME_: TAGS_FINANCE_TXN_LOAN_COMPLETED
                    _CONTINUE_: "!(attr are present)"
                    attr: "$.message.order.quote.breakup[*].item.tags[?(@.code=='finance_txn')].list[?(@.code=='loan_completed')].value"
                    var_enum: ["yes", "no"]
                    _RETURN_: attr all in var_enum
                # - _NAME_: TAGS_FINANCE_TXN_DOWN_PAYMENT
                #   _CONTINUE_: "!(attr are present)"
                #   attr: "$.message.order.quote.breakup[*].item.tags[?(@.code=='finance_txn')].list[?(@.code=='down_payment')].value"
                #   _RETURN_: attr are present
                # - _NAME_: TAGS_FINANCE_TXN_LOAN_AMOUNT
                #   _CONTINUE_: "!(attr are present)"
                #   attr: "$.message.order.quote.breakup[*].item.tags[?(@.code=='finance_txn')].list[?(@.code=='loan_amount')].value"
                #   _RETURN_: attr are present

                # - _NAME_: TAGS_FINANCE_TXN_LOAN_PROVIDER
                #   _CONTINUE_: "!(attr are present)"
                #   attr: "$.message.order.quote.breakup[*].item.tags[?(@.code=='finance_txn')].list[?(@.code=='loan_provider')].value"
                #   _RETURN_: attr are present

                # - _NAME_: TAGS_FINANCE_TXN_TRANSACTION_ID
                #   _CONTINUE_: "!(attr are present)"
                #   attr: "$.message.order.quote.breakup[*].item.tags[?(@.code=='finance_txn')].list[?(@.code=='transaction_id')].value"
                #   _RETURN_: attr are present

                # - _NAME_: TAGS_FINANCE_TXN_TIMESTAMP
                #   _CONTINUE_: "!(attr are present)"
                #   attr: "$.message.order.quote.breakup[*].item.tags[?(@.code=='finance_txn')].list[?(@.code=='timestamp')].value"
                #   _RETURN_: attr are present
              - _NAME_: BREAKUP_ITEM_ITEM_TAGS_TAGS_NP_FEES
                _RETURN_:
                  - _NAME_: TAGS_NP_FEES_VALID_TAGS
                    _CONTINUE_: "!(attr are present)"
                    attr: "$.message.order.quote.breakup[*].item.tags[?(@.code=='np_fees')].list[*].code"
                    valid: ["id", "channel_margin_type", "channel_margin_value"]
                    _RETURN_: attr all in valid
                  # - _NAME_: BREAKUP_ITEM_ITEM_TAGS_TAGS_NP_FEES_ID
                  #   _CONTINUE_: "!(attr are present)"
                  #   attr: "$.message.order.quote.breakup[*].item.tags[?(@.code=='np_fees')].list[?(@.code=='id')].value"
                  #   _RETURN_: attr are present
                  - _NAME_: BREAKUP_ITEM_ITEM_TAGS_TAGS_NP_FEES_CHANNEL_MARGIN_TYPE
                    _CONTINUE_: "!(attr are present)"
                    attr: "$.message.order.quote.breakup[*].item.tags[?(@.code=='np_fees')].list[?(@.code=='channel_margin_type')].value"
                    var_enum: ["percent", "amount"]
                    _RETURN_: attr all in var_enum
                # - _NAME_: BREAKUP_ITEM_ITEM_TAGS_TAGS_NP_FEES_CHANNEL_MARGIN_VALUE
                #   _CONTINUE_: "!(attr are present)"
                #   attr: "$.message.order.quote.breakup[*].item.tags[?(@.code=='np_fees')].list[?(@.code=='channel_margin_value')].value"
                #   _RETURN_: attr are present
          - _NAME_: ORDER_PAYMENT
            _RETURN_: *ON_INIT_PAYMENT
          - _NAME_: ORDER_PAYMENT_ADDITIONAL_PROPERTIES
            _RETURN_:
              # - _NAME_: PAYMENT_URI
              #   attr: "$.message.order.payment.uri"
              #   _CONTINUE_: "!(attr are present)"
              #   _RETURN_: attr are present
              # - _NAME_: PAYMENT_TL_METHOD
              #   attr: "$.message.order.payment.tl_method"
              #   _CONTINUE_: "!(attr are present)"
              #   _RETURN_: attr are present
              - _NAME_: PAYMENT_PARAMS
                _RETURN_:
                  - _NAME_: PAYMENT_CURRENCY
                    attr: "$.message.order.payment.params.currency"
                    _RETURN_: attr are present
                  - _NAME_: PAYMENT_TRANSACTION_ID
                    attr: "$.message.order.payment.params.transaction_id"
                    _CONTINUE_: "!(attr are present)"
                    reg: ['^[0-9a-zA-Z\_\-]{1,36}$']
                    _RETURN_: attr follow regex reg
                  - _NAME_: PAYMENT_AMOUNT
                    attr: "$.message.order.payment.params.amount"
                    _RETURN_: attr are present
              - _NAME_: PAYMENT_STATUS
                attr: "$.message.order.payment.status"
                _RETURN_: attr are present
              - _NAME_: PAYMENT_TYPE
                attr: "$.message.order.payment.type"
                _RETURN_: attr are present
              - _NAME_: PAYMENT_COLLECTED_BY
                attr: "$.message.order.payment.collected_by"
                _RETURN_: attr are present
            # - _NAME_: PAYMENT_ONDC_ORG_SETTLEMENT_WINDOW
            #   _CONTINUE_: "!(attr are present)"
            #   attr: "$.message.order.payment['@ondc/org/settlement_window']"
            #   _RETURN_: attr are present
            # - _NAME_: PAYMENT_ONDC_ORG_WITHHOLDING_AMOUNT
            #   _CONTINUE_: "!(attr are present)"
            #   attr: "$.message.order.payment['@ondc/org/withholding_amount']"
            #   _RETURN_: attr are present
            # - _NAME_: PAYMENT_ONDC_ORG_SETTLEMENT_BASIS
            #   _CONTINUE_: "!(attr are present)"
            #   attr: "$.message.order.payment['@ondc/org/settlement_basis']"
            #   _RETURN_: attr are present
          - _NAME_: ORDER_PAYMENT_ADDITIONAL_TAGS
            _RETURN_:
              - _NAME_: TAGS_BPP_TERMS
                _RETURN_: *TAGS_BPP_TERMS
              - _NAME_: TAGS_BAP_TERMS
                _RETURN_:
                  - _NAME_: TAGS_BAP_TERMS_VALID_TAGS
                    _CONTINUE_: "!(attr are present)"
                    attr: "$.message.order.payment.tags[?(@.code=='bap_terms')].list[*].code"
                    valid: ["static_terms", "tax_number"]
                    _RETURN_: attr all in valid
                # - _NAME_: TAGS_BAP_TERMS_STATIC_TERMS
                #   _CONTINUE_: "!(attr are present)"
                #   attr: "$.message.order.payment.tags[?(@.code=='bap_terms')].list[?(@.code=='static_terms')].value"
                #   _RETURN_: attr are present

                # - _NAME_: TAGS_BAP_TERMS_TAX_NUMBER
                #   _CONTINUE_: "!(attr are present)"
                #   attr: "$.message.order.payment.tags[?(@.code=='bap_terms')].list[?(@.code=='tax_number')].value"
                #   _RETURN_: attr are present
          - _NAME_: ORDER_CREATED_AT
            attr: "$.message.order.created_at"
            pattern: ['^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{3}Z$']
            _RETURN_: attr are present && attr follow regex pattern
          - _NAME_: ORDER_UPDATED_AT
            attr: "$.message.order.updated_at"
            pattern: ['^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{3}Z$']
            _RETURN_: attr are present && attr follow regex pattern
          - _NAME_: ORDER_TAGS
            _RETURN_:
              - _NAME_: ORDER_TAGS_VALID_TAGS
                _CONTINUE_: "!(attr are present)"
                attr: "$.message.order.tags[*].code"
                valid: ["bap_terms", "bnp_receivables_claim", "bpp_terms"]
                _RETURN_: attr all in valid
              - _NAME_: TAGS_BAP_TERMS
                _RETURN_:
                  # - _NAME_: TAGS_BAP_TERMS_VALID_TAGS
                  #   _CONTINUE_: "!(attr are present)"
                  #   attr: "$.message.order.tags[?(@.code=='bap_terms')].list[*].code"
                  #   valid: ["finance_cost_type", "finance_cost_value","tax_number"]
                  #   _RETURN_: attr all in valid
                  - _NAME_: TAGS_BAP_TERMS_FINANCE_COST_TYPE
                    _CONTINUE_: "!(attr are present)"
                    attr: "$.message.order.tags[?(@.code=='bap_terms')].list[?(@.code=='finance_cost_type')].value"
                    var_enum: ["percent", "amount"]
                    _RETURN_: attr all in var_enum
              - _NAME_: TAGS_BPP_TERMS
                _RETURN_:
                  - _NAME_: TAGS_BPP_TERMS_VALID_TAGS
                    _CONTINUE_: "!(attr are present)"
                    attr: "$.message.order.tags[?(@.code=='bpp_terms')].list[*].code"
                    valid:
                      [
                        "max_liability_cap",
                        "max_liability",
                        "mandatory_arbitration",
                        "court_jurisdiction",
                        "delay_interest",
                        "np_type",
                        "tax_number",
                        "provider_tax_number",
                        "accept_bap_terms",
                      ]
                    _RETURN_: attr all in valid
                  - _NAME_: TAGS_BPP_TERMS_NP_TYPE
                    _CONTINUE_: "!(attr are present)"
                    attr: "$.message.order.tags[?(@.code=='bpp_terms')].list[?(@.code=='np_type')].value"
                    var_enum: ["MSN", "ISN"]
                    _RETURN_: attr all in var_enum

                # - _NAME_: TAGS_BAP_TERMS_FINANCE_COST_VALUE
                #   _CONTINUE_: "!(attr are present)"
                #   attr: "$.message.order.tags[?(@.code=='bap_terms')].list[?(@.code=='finance_cost_value')].value"
                #   _RETURN_: attr are present

              - _NAME_: TAGS_BNP_RECEIVABLES_CLAIM
                _RETURN_:
                  - _NAME_: TAGS_BNP_RECEIVABLES_VALID_TAGS
                    _CONTINUE_: "!(attr are present)"
                    attr: "$.message.order.tags[?(@.code=='bnp_receivables_claim')].list[*].code"
                    valid: ["type", "currency", "value"]
                    _RETURN_: attr all in valid
                # - _NAME_: TAGS_BNP_RECEIVABLES_CLAIM_TYPE
                #   _CONTINUE_: "!(attr are present)"
                #   attr: "$.message.order.tags[?(@.code=='bnp_receivables_claim')].list[?(@.code=='type')].value"
                #   _RETURN_: attr are present

                # - _NAME_: TAGS_BNP_RECEIVABLES_CLAIM_CURRENCY
                #   _CONTINUE_: "!(attr are present)"
                #   attr: "$.message.order.tags[?(@.code=='bnp_receivables_claim')].list[?(@.code=='currency')].value"
                #   _RETURN_: attr are present

                # - _NAME_: TAGS_BNP_RECEIVABLES_CLAIM_VALUE
                #   _CONTINUE_: "!(attr are present)"
                #   attr: "$.message.order.tags[?(@.code=='bnp_receivables_claim')].list[?(@.code=='value')].value"
                #   _RETURN_: attr are present
    on_confirm:
      # ===== CONTEXT VALIDATION =====
      - _NAME_: ON_CONFIRM_CONTEXT
        _DESCRIPTION_: Validate on_confirm context
        action: ["on_confirm"]
        _RETURN_: *CONTEXT_COMMON

      # ===== ORDER VALIDATION =====
      - _NAME_: ON_CONFIRM_ORDER
        _RETURN_: *CONFIRM_ORDER
      - _NAME_: ON_CONFIRM_ORDER_ADDITIONAL_PROPERTIES
        _RETURN_:
          - _NAME_: ORDER_FULFILLMENTS_ADDITIONAL_PROPERTIES
            _RETURN_:
              - _NAME_: FULFILLMENTS_ONDC_ORG_PROVIDER_NAME
                attr: "$.message.order.fulfillments[*]['@ondc/org/provider_name']"
                _RETURN_: attr are present
              - _NAME_: FULFILLMENTS_STATE_DESCRIPTOR_CODE
                attr: "$.message.order.fulfillments[*].state.descriptor.code"
                var_enum: ["Pending"]
                _RETURN_: attr are present
              - _NAME_: FULFILLMENTS_END_TIME
                _RETURN_:
                  - _NAME_: FULFILLMENTS_END_TIME_RANGE_START
                    attr: "$.message.order.fulfillments[*].end.time.range.start"
                    _CONTINUE_: "!(attr are present)"
                    _RETURN_: attr are present
                  - _NAME_: FULFILLMENTS_END_TIME_RANGE_END
                    attr: "$.message.order.fulfillments[*].end.time.range.end"
                    _CONTINUE_: "!(attr are present)"
                    _RETURN_: attr are present
              - _NAME_: FULFILLMENTS_START
                _RETURN_:
                  - _NAME_: FULFILLMENTS_START_LOCATION
                    _RETURN_:
                      - _NAME_: FULFILLMENTS_LOCATION_ID
                        attr: "$.message.order.fulfillments[*].start.location.id"
                        _RETURN_: attr are present
                      - _NAME_: FULFILLMENTS_START_LOCATION_DESCRIPTOR_NAME
                        attr: "$.message.order.fulfillments[*].start.location.descriptor.name"
                        _RETURN_: attr are present
                      - _NAME_: FULFILLMENTS_START_LOCATION_GPS
                        attr: "$.message.order.fulfillments[*].start.location.gps"
                        _RETURN_: attr are present
                      - _NAME_: FULFILLMENTS_START_LOCATION_ADDRESS
                        _RETURN_:
                          - _NAME_: FULFILLMENTS_START_LOCATION_ADDRESS_LOCALITY
                            attr: "$.message.order.fulfillments[*].start.location.address.locality"
                            _RETURN_: attr are present
                          - _NAME_: FULFILLMENTS_START_LOCATION_ADDRESS_CITY
                            attr: "$.message.order.fulfillments[*].start.location.address.city"
                            _RETURN_: attr are present
                          - _NAME_: FULFILLMENTS_START_LOCATION_ADDRESS_AREA_CODE
                            attr: "$.message.order.fulfillments[*].start.location.address.area_code"
                            _RETURN_: attr are present
                          - _NAME_: FULFILLMENTS_START_LOCATION_ADDRESS_STATE
                            attr: "$.message.order.fulfillments[*].start.location.address.state"
                            _RETURN_: attr are present
                  - _NAME_: FULFILLMENTS_START_TIME
                    _RETURN_:
                      - _NAME_: FULFILLMENTS_START_TIME_RANGE_START
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].start.time.range.start"
                        _RETURN_: attr are present
                      - _NAME_: FULFILLMENTS_START_TIME_RANGE_END
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].start.time.range.end"
                        _RETURN_: attr are present
                  - _NAME_: FULFILLMENTS_START_INSTRUCTIONS
                    _RETURN_:
                      - _NAME_: FULFILLMENTS_START_INSTRUCTIONS_CODE
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].start.instructions.code"
                        _RETURN_: attr are present
                      - _NAME_: FULFILLMENTS_START_INSTRUCTIONS_NAME
                        attr: "$.message.order.fulfillments[*].start.instructions.name"
                        _CONTINUE_: "!(attr are present)"
                        _RETURN_: attr are present
                      - _NAME_: FULFILLMENTS_START_INSTRUCTIONS_SHORT_DESC
                        attr: "$.message.order.fulfillments[*].start.instructions.short_desc"
                        _RETURN_: attr are present
                        _CONTINUE_: "!(attr are present)"
                      - _NAME_: FULFILLMENTS_START_INSTRUCTIONS_LONG_DESC
                        attr: "$.message.order.fulfillments[*].start.instructions.long_desc"
                        _CONTINUE_: "!(attr are present)"
                        _RETURN_: attr are present
                  - _NAME_: FULFILLMENTS_START_CONTACT
                    _RETURN_:
                      - _NAME_: FULFILLMENTS_START_CONTACT_PHONE
                        attr: "$.message.order.fulfillments[*].start.contact.phone"
                        _RETURN_: attr are present
                      - _NAME_: FULFILLMENTS_START_CONTACT_EMAIL
                        attr: "$.message.order.fulfillments[*].start.contact.email"
                        _RETURN_: attr are present
    status:
      # ===== CONTEXT VALIDATION =====
      - _NAME_: STATUS_CONTEXT
        _DESCRIPTION_: Validate status context
        action: ["status"]
        _RETURN_: *CONTEXT_COMMON

      # ===== ORDER VALIDATION =====
      - _NAME_: STATUS_ORDER
        _RETURN_: &STATUS_ORDER
          - _NAME_: ORDER_ID
            attr: "$.message.order_id"
            pattern:
              [
                "^[a-zA-Z0-9-]{1,32}$|^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
              ]
            _RETURN_: attr are present && attr follow regex pattern
    on_status:
      # ===== CONTEXT VALIDATION =====
      - _NAME_: ON_STATUS_CONTEXT
        _DESCRIPTION_: Validate on_status context
        action: ["on_status"]
        _RETURN_: *CONTEXT_COMMON

      # ===== ORDER VALIDATION =====
      - _NAME_: ON_STATUS_ORDER
        _RETURN_:
          - _NAME_: ORDER_ID
            attr: "$.message.order.id"
            pattern:
              [
                "^[a-zA-Z0-9-]{1,32}$|^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
              ]
            _RETURN_: attr are present && attr follow regex pattern
          - _NAME_: ORDER_STATE
            attr: "$.message.order.state"
            var_enum:
              ["Created", "Accepted", "In-progress", "Completed", "Cancelled"]
            _RETURN_: attr all in var_enum
          - _NAME_: ORDER_PROVIDER
            _RETURN_: *SELECT_PROVIDER
          - _NAME_: ORDER_CANCELLATION
            _RETURN_:
              - _NAME_: CANCELLATION_CANCELLED_BY
                _CONTINUE_: "!(attr are present)"
                attr: "$.message.order.cancellation.cancelled_by"
                _RETURN_: attr are present
              - _NAME_: CANCELLATION_REASON
                _RETURN_:
                  - _NAME_: CANCELLATION_REASON_ID
                    _CONTINUE_: "!(attr are present)"
                    attr: "$.message.order.cancellation.reason.id"
                    _RETURN_: attr are present
                  - _NAME_: CANCELLATION_REASON_STATE
                    _CONTINUE_: "!(attr are present)"
                    attr: "$.message.order.cancellation.reason.state"
                    _RETURN_: attr are present
          - _NAME_: ORDER_ITEMS
            _RETURN_: *INIT_ITEMS
          - _NAME_: ORDER_BILLING
            _RETURN_: *INIT_BILLING
          - _NAME_: ORDER_FULFILLMENTS
            _RETURN_:
              - _NAME_: FULFILLMENTS_ID
                attr: "$.message.order.fulfillments[*].id"
                _RETURN_: attr are present
              - _NAME_: FULFILLMENTS_STATE_DESCRIPTOR_CODE
                attr: "$.message.order.fulfillments[*].state.descriptor.code"
                var_enum:
                  [
                    "Pending",
                    "Packed",
                    "Agent-assigned",
                    "Order-picked-up",
                    "Out-for-delivery",
                    "Order-delivered",
                    "Cancelled",
                    "RTO-Initiated",
                    "RTO-Disposed",
                    "RTO-Delivered",
                  ]
                _RETURN_: attr are present && attr all in var_enum
              - _NAME_: FULFILLMENTS_TYPE
                attr: "$.message.order.fulfillments[*].type"
                _RETURN_: attr are present
              - _NAME_: FULFILLMENTS_ONDC_ORG_PROVIDER_NAME
                _CONTINUE_: "!(attr are present)"
                attr: "$.message.order.fulfillments[*]['@ondc/org/provider_name']"
                _RETURN_: attr are present
              - _NAME_: FULFILLMENTS_TRACKING
                attr: "$.message.order.fulfillments[*].tracking"
                _RETURN_: attr are present
              - _NAME_: FULFILLMENTS_ONDC_ORG_TAT
                _CONTINUE_: "!(attr are present)"
                attr: "$.message.order.fulfillments[*]['@ondc/org/TAT']"
                _RETURN_: attr are present
              - _NAME_: FULFILLMENTS_START
                _RETURN_:
                  - _NAME_: FULFILLMENTS_START_LOCATION
                    _RETURN_:
                      - _NAME_: FULFILLMENTS_START_LOCATION_DESCRIPTOR_NAME
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].start.location.descriptor.name"
                        _RETURN_: attr are present
                      - _NAME_: FULFILLMENTS_START_LOCATION_GPS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].start.location.gps"
                        _RETURN_: attr are present
                      - _NAME_: FULFILLMENTS_START_LOCATION_ADDRESS
                        _RETURN_:
                          - _NAME_: FULFILLMENTS_START_LOCATION_ADDRESS_LOCALITY
                            _CONTINUE_: "!(attr are present)"
                            attr: "$.message.order.fulfillments[*].start.location.address.locality"
                            _RETURN_: attr are present
                          - _NAME_: FULFILLMENTS_START_LOCATION_ADDRESS_CITY
                            _CONTINUE_: "!(attr are present)"
                            attr: "$.message.order.fulfillments[*].start.location.address.city"
                            _RETURN_: attr are present
                          - _NAME_: FULFILLMENTS_START_LOCATION_ADDRESS_AREA_CODE
                            _CONTINUE_: "!(attr are present)"
                            attr: "$.message.order.fulfillments[*].start.location.address.area_code"
                            _RETURN_: attr are present
                          - _NAME_: FULFILLMENTS_START_LOCATION_ADDRESS_STATE
                            _CONTINUE_: "!(attr are present)"
                            attr: "$.message.order.fulfillments[*].start.location.address.state"
                            _RETURN_: attr are present
                  - _NAME_: FULFILLMENTS_START_TIME
                    _RETURN_:
                      - _NAME_: FULFILLMENTS_START_TIME_RANGE_START
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].start.time.range.start"
                        _RETURN_: attr are present
                      - _NAME_: FULFILLMENTS_START_TIME_RANGE_END
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].start.time.range.end"
                        _RETURN_: attr are present
                      - _NAME_: FULFILLMENTS_START_TIME_TIMESTAMP
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].start.time.timestamp"
                        _RETURN_: attr are present
                  - _NAME_: FULFILLMENTS_START_INSTRUCTIONS
                    _RETURN_:
                      - _NAME_: FULFILLMENTS_START_INSTRUCTIONS_CODE
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].start.instructions.code"
                        var_enum: ["1", "2", "3", "4"]
                        _RETURN_: attr are present && attr all in var_enum
                      - _NAME_: FULFILLMENTS_START_INSTRUCTIONS_NAME
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].start.instructions.name"
                        _RETURN_: attr are present
                      - _NAME_: FULFILLMENTS_START_INSTRUCTIONS_SHORT_DESC
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].start.instructions.short_desc"
                        _RETURN_: attr are present
                      - _NAME_: FULFILLMENTS_START_INSTRUCTIONS_LONG_DESC
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].start.instructions.long_desc"
                        _RETURN_: attr are present
                    # - _NAME_: FULFILLMENTS_START_INSTRUCTIONS_ADDITIONAL_DESC_CONTENT_TYPE
                    #   _CONTINUE_: "!(attr are present)"
                    #   attr: "$.message.order.fulfillments[*].start.instructions.additional_desc.content_type"
                    #   var_enum: ["text/plain", "text/html"]
                    #   _RETURN_: attr all in var_enum
                  - _NAME_: FULFILLMENTS_START_CONTACT
                    _RETURN_:
                      - _NAME_: FULFILLMENTS_START_CONTACT_PHONE
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].start.contact.phone"
                        _RETURN_: attr are present
                      - _NAME_: FULFILLMENTS_START_CONTACT_EMAIL
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].start.contact.email"
                        _RETURN_: attr are present

              - _NAME_: FULFILLMENTS_END
                _RETURN_:
                  - _NAME_: FULFILLMENTS_END_LOCATION
                    _RETURN_:
                      - _NAME_: FULFILLMENTS_END_LOCATION_GPS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].end.location.gps"
                        _RETURN_: attr are present
                      - _NAME_: FULFILLMENTS_END_LOCATION_ADDRESS
                        _RETURN_:
                          - _NAME_: FULFILLMENTS_END_LOCATION_ADDRESS_NAME
                            _CONTINUE_: "!(attr are present)"
                            attr: "$.message.order.fulfillments[*].end.location.address.name"
                            _RETURN_: attr are present
                          - _NAME_: FULFILLMENTS_END_LOCATION_ADDRESS_BUILDING
                            _CONTINUE_: "!(attr are present)"
                            attr: "$.message.order.fulfillments[*].end.location.address.building"
                            _RETURN_: attr are present
                          - _NAME_: FULFILLMENTS_END_LOCATION_ADDRESS_LOCALITY
                            _CONTINUE_: "!(attr are present)"
                            attr: "$.message.order.fulfillments[*].end.location.address.locality"
                            _RETURN_: attr are present
                          - _NAME_: FULFILLMENTS_END_LOCATION_ADDRESS_COUNTRY
                            _CONTINUE_: "!(attr are present)"
                            attr: "$.message.order.fulfillments[*].end.location.address.country"
                            _RETURN_: attr are present
                          - _NAME_: FULFILLMENTS_END_LOCATION_ADDRESS_CITY
                            _CONTINUE_: "!(attr are present)"
                            attr: "$.message.order.fulfillments[*].end.location.address.city"
                            _RETURN_: attr are present
                          - _NAME_: FULFILLMENTS_END_LOCATION_ADDRESS_AREA_CODE
                            _CONTINUE_: "!(attr are present)"
                            attr: "$.message.order.fulfillments[*].end.location.address.area_code"
                            _RETURN_: attr are present
                          - _NAME_: FULFILLMENTS_END_LOCATION_ADDRESS_STATE
                            _CONTINUE_: "!(attr are present)"
                            attr: "$.message.order.fulfillments[*].end.location.address.state"
                            _RETURN_: attr are present
                  - _NAME_: FULFILLMENTS_END_TIME
                    _RETURN_:
                      - _NAME_: FULFILLMENTS_END_TIME_RANGE_START
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].end.time.range.start"
                        _RETURN_: attr are present
                      - _NAME_: FULFILLMENTS_END_TIME_RANGE_END
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].end.time.range.end"
                        _RETURN_: attr are present
                      - _NAME_: FULFILLMENTS_END_TIME_TIMESTAMP
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].end.time.timestamp"
                        _RETURN_: attr are present
                  - _NAME_: FULFILLMENTS_END_INSTRUCTIONS
                    _RETURN_:
                      - _NAME_: FULFILLMENTS_END_INSTRUCTIONS_CODE
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].end.instructions.code"
                        _RETURN_: attr are present
                      - _NAME_: FULFILLMENTS_END_INSTRUCTIONS_NAME
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].end.instructions.name"
                        _RETURN_: attr are present
                      - _NAME_: FULFILLMENTS_END_INSTRUCTIONS_SHORT_DESC
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].end.instructions.short_desc"
                        _RETURN_: attr are present
                      - _NAME_: FULFILLMENTS_END_INSTRUCTIONS_LONG_DESC
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].end.instructions.long_desc"
                        _RETURN_: attr are present
                  - _NAME_: FULFILLMENTS_END_CONTACT
                    _RETURN_:
                      - _NAME_: FULFILLMENTS_END_CONTACT_PHONE
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].end.contact.phone"
                        _RETURN_: attr are present
                      - _NAME_: FULFILLMENTS_END_CONTACT_EMAIL
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].end.contact.email"
                        _RETURN_: attr are present
              - _NAME_: FULFILLMENTS_AGENT
                _RETURN_:
                  # - _NAME_: FULFILLMENTS_AGENT_NAME
                  #   _CONTINUE_: "!(attr are present)"
                  #   attr: "$.message.order.fulfillments[*].agent.name"
                  #   _RETURN_: attr are present
                  - _NAME_: FULFILLMENTS_AGENT_PHONE
                    _CONTINUE_: "!(attr are present)"
                    attr: "$.message.order.fulfillments[*].agent.phone"
                    _RETURN_: attr are present
              - _NAME_: FULFILLMENTS_VEHICLE
                _RETURN_:
                  - _NAME_: FULFILLMENTS_VEHICLE_REGISTRATION
                    _CONTINUE_: "!(attr are present)"
                    attr: "$.message.order.fulfillments[*].vehicle.registration"
                    _RETURN_: attr are present
              - _NAME_: FULFILLMENTS_TAGS
                _RETURN_:
                  - _NAME_: FULFILLMENTS_TAGS_VALID_TAGS
                    _CONTINUE_: "!(attr are present)"
                    attr: "$.message.order.fulfillments[*].tags[*].code"
                    valid:
                      [
                        "state",
                        "routing",
                        "tracking",
                        "fulfillment_delay",
                        "order_details",
                        "cancel_request",
                        "quote_trail",
                        "precancel_state",
                      ]
                    _RETURN_: attr all in valid
                  - _NAME_: TAGS_STATE
                    _RETURN_:
                      - _NAME_: STATE_READY_TO_SHIP_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='state')].list[*].code"
                        valid: ["ready_to_ship"]
                        _RETURN_: attr all in valid
                      - _NAME_: STATE_READY_TO_SHIP
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='state')].list[?(@.code=='ready_to_ship')].value"
                        _RETURN_: attr are present

                  - _NAME_: TAGS_ROUTING
                    _RETURN_:
                      - _NAME_: TAGS_ROUTING_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='routing')].list[*].code"
                        valid: ["type"]
                        _RETURN_: attr all in valid
                      - _NAME_: ROUTING_TYPE
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='routing')].list[?(@.code=='type')].value"
                        _RETURN_: attr are present

                  - _NAME_: TAGS_TRACKING
                    _RETURN_:
                      - _NAME_: TAGS_TRACKING_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='tracking')].list[*].code"
                        valid: ["gps_enabled", "url_enabled", "url"]
                        _RETURN_: attr all in valid
                      - _NAME_: TRACKING_GPS_ENABLED
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='tracking')].list[?(@.code=='gps_enabled')].value"
                        _RETURN_: attr are present

                      - _NAME_: TRACKING_URL_ENABLED
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='tracking')].list[?(@.code=='url_enabled')].value"
                        _RETURN_: attr are present

                      - _NAME_: TRACKING_URL
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='tracking')].list[?(@.code=='url')].value"
                        reg: ["^https?://.*$"]
                        _RETURN_: attr follow regex reg

                  - _NAME_: TAGS_FULFILLMENT_DELAY
                    _RETURN_:
                      - _NAME_: TAGS_FULFILLMENT_DELAY_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='fulfillment_delay')].list[*].code"
                        valid: ["state", "reason_id", "timestamp"]
                        _RETURN_: attr all in valid
                      - _NAME_: DELAY_STATE
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='fulfillment_delay')].list[?(@.code=='state')].value"
                        var_enum: ["Order-picked-up", "Order-delivered"]
                        _RETURN_: attr all in var_enum

                      - _NAME_: DELAY_REASON_ID
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='fulfillment_delay')].list[?(@.code=='reason_id')].value"
                        _RETURN_: attr are present

                      - _NAME_: DELAY_TIMESTAMP
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='fulfillment_delay')].list[?(@.code=='timestamp')].value"
                        reg: ["^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}.*Z$"]
                        _RETURN_: attr follow regex reg

                  - _NAME_: TAGS_ORDER_DETAILS
                    _RETURN_:
                      - _NAME_: TAGS_ORDER_DETAILS_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='order_details')].list[*].code"
                        valid:
                          [
                            "id",
                            "weight_unit",
                            "weight_value",
                            "dim_unit",
                            "length",
                            "breadth",
                            "height",
                          ]
                        _RETURN_: attr all in valid
                      - _NAME_: ORDER_ID
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='order_details')].list[?(@.code=='id')].value"
                        _RETURN_: attr are present

                      - _NAME_: ORDER_WEIGHT_UNIT
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='order_details')].list[?(@.code=='weight_unit')].value"
                        _RETURN_: attr are present

                      - _NAME_: ORDER_WEIGHT_VALUE
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='order_details')].list[?(@.code=='weight_value')].value"
                        _RETURN_: attr are present

                      - _NAME_: ORDER_DIM_UNIT
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='order_details')].list[?(@.code=='dim_unit')].value"
                        _RETURN_: attr are present

                      - _NAME_: ORDER_LENGTH
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='order_details')].list[?(@.code=='length')].value"
                        _RETURN_: attr are present

                      - _NAME_: ORDER_BREADTH
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='order_details')].list[?(@.code=='breadth')].value"
                        _RETURN_: attr are present

                      - _NAME_: ORDER_HEIGHT
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='order_details')].list[?(@.code=='height')].value"
                        _RETURN_: attr are present
          - _NAME_: ORDER_QUOTE
            _RETURN_: *ON_INIT_QUOTE
          - _NAME_: ORDER_QUOTE_ADDITIONAL_PROPERTIES
            _RETURN_:
              - _NAME_: QUOTE_TTL
                attr: "$.message.order.quote.ttl"
                _RETURN_: attr are present
          - _NAME_: ORDER_PAYMENT
            _RETURN_: *ON_INIT_PAYMENT
          - _NAME_: ORDER_PAYMENT_ADDITIONAL_PROPERTIES
            _RETURN_:
              - _NAME_: PAYMENT_URI
                attr: "$.message.order.payment.uri"
                _CONTINUE_: "!(attr are present)"
                _RETURN_: attr are present
              - _NAME_: PAYMENT_TL_METHOD
                attr: "$.message.order.payment.tl_method"
                _CONTINUE_: "!(attr are present)"
                _RETURN_: attr are present
              - _NAME_: PAYMENT_PARAMS
                _RETURN_:
                  - _NAME_: PAYMENT_CURRENCY
                    attr: "$.message.order.payment.params.currency"
                    _RETURN_: attr are present
                  - _NAME_: PAYMENT_TRANSACTION_ID
                    attr: "$.message.order.payment.params.transaction_id"
                    _CONTINUE_: "!(attr are present)"
                    _RETURN_: attr are present
                  - _NAME_: PAYMENT_AMOUNT
                    attr: "$.message.order.payment.params.amount"
                    _RETURN_: attr are present
              - _NAME_: PAYMENT_STATUS
                var_enum: ["NOT-PAID", "PAID"]
                attr: "$.message.order.payment.status"
                _RETURN_: attr are present && attr all in var_enum
              - _NAME_: PAYMENT_TYPE
                attr: "$.message.order.payment.type"
                var_enum: ["ON-ORDER", "ON-FULFILLMENT"]
                _RETURN_: attr are present && attr all in var_enum
              - _NAME_: PAYMENT_COLLECTED_BY
                var_enum: ["BAP", "BPP"]
                attr: "$.message.order.payment.collected_by"
                _RETURN_: attr are present && attr all in var_enum
              - _NAME_: PAYMENT_ONDC_ORG_SETTLEMENT_WINDOW
                _CONTINUE_: "!(attr are present)"
                attr: "$.message.order.payment['@ondc/org/settlement_window']"
                _RETURN_: attr are present
              - _NAME_: PAYMENT_ONDC_ORG_WITHHOLDING_AMOUNT
                _CONTINUE_: "!(attr are present)"
                attr: "$.message.order.payment['@ondc/org/withholding_amount']"
                _RETURN_: attr are present
              - _NAME_: PAYMENT_ONDC_ORG_SETTLEMENT_BASIS
                var_enum: ["shipment", "delivery", "return_Window_expiry"]
                _CONTINUE_: "!(attr are present)"
                attr: "$.message.order.payment['@ondc/org/settlement_basis']"
                _RETURN_: attr are present && attr all in var_enum
              - _NAME_: PAYMENT_ONDC_ORG_SETTLEMENT_DETAILS_ADDITIONAL_PROPERTIES
                _RETURN_:
                  - _NAME_: PAYMENT_ONDC_ORG_SETTLEMENT_DETAILS_SETTLEMENT_REFERENCE
                    _CONTINUE_: "!(attr are present)"
                    attr: "$.message.order.payment['@ondc/org/settlement_details'][*].settlement_reference"
                    _RETURN_: attr are present
                  - _NAME_: PAYMENT_ONDC_ORG_SETTLEMENT_DETAILS_SETTLEMENT_STATUS
                    _CONTINUE_: "!(attr are present)"
                    attr: "$.message.order.payment['@ondc/org/settlement_details'][*].settlement_status"
                    _RETURN_: attr are present
          - _NAME_: ORDER_DOCUMENTS
            _RETURN_:
              - _NAME_: DOCUMENTS_URL
                _CONTINUE_: "!(attr are present)"
                attr: "$.message.order.documents[*].url"
                _RETURN_: attr are present
              - _NAME_: DOCUMENTS_LABEL
                _CONTINUE_: "!(attr are present)"
                attr: "$.message.order.documents[*].label"
                _RETURN_: attr are present
          - _NAME_: ORDER_CREATED_AT
            attr: "$.message.order.created_at"
            pattern: ['^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{3}Z$']
            _RETURN_: attr are present && attr follow regex pattern
          - _NAME_: ORDER_UPDATED_AT
            attr: "$.message.order.updated_at"
            pattern: ['^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{3}Z$']
            _RETURN_: attr are present && attr follow regex pattern
    update:
      # ===== CONTEXT VALIDATION =====
      - _NAME_: UPDATE_CONTEXT
        _DESCRIPTION_: Validate update context
        action: ["update"]
        _RETURN_: *CONTEXT_COMMON

      # ===== UPDATE TARGET VALIDATION =====
      - _NAME_: UPDATE_TARGET
        attr: "$.message.update_target"
        var_enum: ["payment", "item", "billing", "fulfillment"]
        _RETURN_: attr are present && attr all in var_enum

      # ===== ORDER VALIDATION =====
      - _NAME_: UPDATE_ORDER
        _RETURN_:
          - _NAME_: ORDER_ID
            attr: "$.message.order.id"
            _RETURN_: attr are present
          - _NAME_: ORDER_FULFILLMENTS
            _RETURN_:
              - _NAME_: FULFILLMENTS_ID
                attr: "$.message.order.fulfillments[*].id"
                _RETURN_: attr are present
                _CONTINUE_: "!(attr are present)"
              - _NAME_: FULFILLMENTS_TYPE
                attr: "$.message.order.fulfillments[*].type"
                _CONTINUE_: "!(attr are present)"
                _RETURN_: attr are present
              - _NAME_: FULFILLMENTS_END
                _RETURN_:
                  - _NAME_: FULFILLMENTS_END_INSTRUCTIONS_ADDITIONAL_DESC_CONTENT_TYPE
                    attr: "$.message.order.fulfillments[*].end.instructions.additional_desc.content_type"
                    var_enum: ["text/plain", "text/html"]
                    _CONTINUE_: "!(attr are present)"
                    _RETURN_: attr are present
              - _NAME_: FULFILLMENTS_TAGS
                _RETURN_:
                  - _NAME_: FULFILLMENTS_TAGS_VALID_TAGS
                    _CONTINUE_: "!(attr are present)"
                    attr: "$.message.order.fulfillments[*].tags[*].code"
                    valid:
                      [
                        "return_request",
                        "update_state",
                        "cancel_request",
                        "update_fulfillment_time",
                        "update_agent_details",
                        "update_label",
                        "reverseqc_output",
                        "bnp_receivables_claim",
                        "bnp_diff_weight",
                        "bnp_diff_length",
                        "bnp_diff_breadth",
                        "bnp_diff_height",
                        "update_verification",
                        "update_state",
                        "update_fulfillment_delay",
                        "linked_order_diff",
                        "update_sale_invoice",
                        "linked_order_diff_proof",
                      ]
                    _RETURN_: attr all in valid
                  - _NAME_: TAGS_RETURN_REQUEST
                    _RETURN_:
                      - _NAME_: TAGS_RETURN_REQUEST_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='return_request')].list[*].code"
                        valid:
                          [
                            "id",
                            "item_id",
                            "parent_item_id",
                            "item_quantity",
                            "reason_id",
                            "reason_desc",
                            "images",
                            "ttl_approval",
                            "ttl_reverseqc",
                          ]
                        _RETURN_: attr all in valid
                      - _NAME_: RETURN_REQUEST_ID
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='return_request')].list[?(@.code=='id')].value"
                        _RETURN_: attr are present

                      - _NAME_: RETURN_REQUEST_ITEM_ID
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='return_request')].list[?(@.code=='item_id')].value"
                        _RETURN_: attr are present

                      - _NAME_: RETURN_REQUEST_PARENT_ITEM_ID
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='return_request')].list[?(@.code=='parent_item_id')].value"
                        _RETURN_: attr are present

                      - _NAME_: RETURN_REQUEST_ITEM_QUANTITY
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='return_request')].list[?(@.code=='item_quantity')].value"
                        _RETURN_: attr are present

                      - _NAME_: RETURN_REQUEST_REASON_ID
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='return_request')].list[?(@.code=='reason_id')].value"
                        reg: ['^\\d{3}$']
                        _RETURN_: attr follow regex reg

                      - _NAME_: RETURN_REQUEST_REASON_DESC
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='return_request')].list[?(@.code=='reason_desc')].value"
                        _RETURN_: attr are present

                      - _NAME_: RETURN_REQUEST_IMAGES
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='return_request')].list[?(@.code=='images')].value"
                        _RETURN_: attr are present

                      - _NAME_: RETURN_REQUEST_TTL_APPROVAL
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='return_request')].list[?(@.code=='ttl_approval')].value"
                        reg: ["^PT[0-9]+H$"]
                        _RETURN_: attr follow regex reg

                      - _NAME_: RETURN_REQUEST_TTL_REVERSEQC
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='return_request')].list[?(@.code=='ttl_reverseqc')].value"
                        reg: ["^P[0-9]+D$"]
                        _RETURN_: attr follow regex reg

                  - _NAME_: TAGS_UPDATE_STATE
                    _RETURN_:
                      - _NAME_: TAGS_UPDATE_STATE_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_state')].list[*].code"
                        valid: ["state", "reason_id"]
                        _RETURN_: attr all in valid
                      - _NAME_: UPDATE_STATE_STATE
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_state')].list[?(@.code=='state')].value"
                        var_enum: ["Order-picked-up", "Order-delivered"]
                        _RETURN_: attr all in var_enum

                      - _NAME_: UPDATE_STATE_REASON_ID
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_state')].list[?(@.code=='reason_id')].value"
                        _RETURN_: attr are present

                  - _NAME_: TAGS_CANCEL_REQUEST
                    _RETURN_:
                      - _NAME_: TAGS_CANCEL_REQUEST_RETRY_COUNT_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='cancel_request')].list[*].code"
                        valid: ["retry_count", "reason_id", "initiated_by"]
                        _RETURN_: attr all in valid
                      - _NAME_: CANCEL_REQUEST_RETRY_COUNT
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='cancel_request')].list[?(@.code=='retry_count')].value"
                        _RETURN_: attr are present

                      - _NAME_: CANCEL_REQUEST_REASON_ID
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='cancel_request')].list[?(@.code=='reason_id')].value"
                        _RETURN_: attr are present

                      - _NAME_: CANCEL_REQUEST_INITIATED_BY
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='cancel_request')].list[?(@.code=='initiated_by')].value"
                        _RETURN_: attr are present

                  - _NAME_: TAGS_UPDATE_FULFILLMENT_TIME
                    _RETURN_:
                      - _NAME_: TAGS_UPDATE_FULFILLMENT_TIME_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_fulfillment_time')].list[*].code"
                        valid: ["state", "timestamp", "start_time", "end_time"]
                        _RETURN_: attr all in valid
                      - _NAME_: UPDATE_FULFILLMENT_TIME_STATE
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_fulfillment_time')].list[?(@.code=='state')].value"
                        var_enum: ["Order-picked-up", "Order-delivered"]
                        _RETURN_: attr all in var_enum

                      - _NAME_: UPDATE_FULFILLMENT_TIME_TIMESTAMP
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_fulfillment_time')].list[?(@.code=='timestamp')].value"
                        reg: ['^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.*Z$']
                        _RETURN_: attr follow regex reg

                      - _NAME_: UPDATE_FULFILLMENT_TIME_START
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_fulfillment_time')].list[?(@.code=='start_time')].value"
                        reg: ['^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.*Z$']
                        _RETURN_: attr follow regex reg

                      - _NAME_: UPDATE_FULFILLMENT_TIME_END
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_fulfillment_time')].list[?(@.code=='end_time')].value"
                        reg: ['^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.*Z$']
                        _RETURN_: attr follow regex reg

                  - _NAME_: TAGS_UPDATE_AGENT_DETAILS
                    _RETURN_:
                      - _NAME_: TAGS_UPDATE_AGENT_DETAILS_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_agent_details')].list[*].code"
                        valid: ["name", "phone", "provider_id"]
                        _RETURN_: attr all in valid
                      - _NAME_: AGENT_NAME
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_agent_details')].list[?(@.code=='name')].value"
                        _RETURN_: attr are present

                      - _NAME_: AGENT_PHONE
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_agent_details')].list[?(@.code=='phone')].value"
                        _RETURN_: attr are present

                      - _NAME_: AGENT_PROVIDER_ID
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_agent_details')].list[?(@.code=='provider_id')].value"
                        _RETURN_: attr are present

                  - _NAME_: TAGS_UPDATE_LABEL
                    _RETURN_:
                      - _NAME_: TAGS_UPDATE_LABEL_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_label')].list[*].code"
                        valid: ["type", "url", "shipping"]
                        _RETURN_: attr all in valid
                      - _NAME_: LABEL_TYPE
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_label')].list[?(@.code=='type')].value"
                        var_enum: ["webp", "png", "jpeg", "pdf"]
                        _RETURN_: attr all in var_enum

                      - _NAME_: LABEL_URL
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_label')].list[?(@.code=='url')].value"
                        _RETURN_: attr are present

                      - _NAME_: LABEL_SHIPPING
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_label')].list[?(@.code=='shipping')].value"
                        _RETURN_: attr are present

                  - _NAME_: TAGS_REVERSEQC_OUTPUT
                    _RETURN_:
                      - _NAME_: TAGS_REVERSEQC_OUTPUT_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='reverseqc_output')].list[*].code"
                        valid: ["P001", "P003", "Q001"]
                        _RETURN_: attr all in valid

                      - _NAME_: RQC_P001
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='reverseqc_output')].list[?(@.code=='P001')].value"
                        _RETURN_: attr are present

                      - _NAME_: RQC_P003
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='reverseqc_output')].list[?(@.code=='P003')].value"
                        _RETURN_: attr are present

                      - _NAME_: RQC_Q001
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='reverseqc_output')].list[?(@.code=='Q001')].value"
                        var_enum: ["yes", "no"]
                        _RETURN_: attr all in var_enum

                  - _NAME_: TAGS_BNP_RECEIVABLES_CLAIM
                    _RETURN_:
                      - _NAME_: TAGS_BNP_RECIEVABLES_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='bnp_receivables_claim')].list[*].code"
                        valid: ["type", "currency", "value"]
                        _RETURN_: attr all in valid
                      - _NAME_: CLAIM_TYPE
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='bnp_receivables_claim')].list[?(@.code=='type')].value"
                        _RETURN_: attr are present

                      - _NAME_: CLAIM_CURRENCY
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='bnp_receivables_claim')].list[?(@.code=='currency')].value"
                        _RETURN_: attr are present

                      - _NAME_: CLAIM_VALUE
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='bnp_receivables_claim')].list[?(@.code=='value')].value"
                        _RETURN_: attr are present

                  - _NAME_: TAGS_BNP_DIFF_WEIGHT
                    _RETURN_:
                      - _NAME_: TAGS_BNP_DIFF_WEIGHT_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='bnp_diff_weight')].list[*].code"
                        valid: ["unit", "value"]
                        _RETURN_: attr all in valid
                      - _NAME_: DIFF_WEIGHT_UNIT
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='bnp_diff_weight')].list[?(@.code=='unit')].value"
                        var_enum:
                          [
                            "unit",
                            "dozen",
                            "gram",
                            "kilogram",
                            "tonne",
                            "litre",
                            "millilitre",
                          ]
                        _RETURN_: attr all in var_enum

                      - _NAME_: DIFF_WEIGHT_VALUE
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='bnp_diff_weight')].list[?(@.code=='value')].value"
                        _RETURN_: attr are present

                  - _NAME_: TAGS_BNP_DIFF_LENGTH
                    _RETURN_:
                      - _NAME_: TAGS_BNP_DIFF_LENGTH_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='bnp_diff_length')].list[*].code"
                        valid: ["unit", "value"]
                        _RETURN_: attr all in valid
                      - _NAME_: DIFF_LENGTH_UNIT
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='bnp_diff_length')].list[?(@.code=='unit')].value"
                        var_enum: ["centimeter", "meter"]
                        _RETURN_: attr all in var_enum

                      - _NAME_: DIFF_LENGTH_VALUE
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='bnp_diff_length')].list[?(@.code=='value')].value"
                        _RETURN_: attr are present

                  - _NAME_: TAGS_BNP_DIFF_BREADTH
                    _RETURN_:
                      - _NAME_: TAGS_BNP_DIFF_BREADTH_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='bnp_diff_breadth')].list[*].code"
                        valid: ["unit", "value"]
                        _RETURN_: attr all in valid
                      - _NAME_: DIFF_BREADTH_UNIT
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='bnp_diff_breadth')].list[?(@.code=='unit')].value"
                        _RETURN_: attr are present

                      - _NAME_: DIFF_BREADTH_VALUE
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='bnp_diff_breadth')].list[?(@.code=='value')].value"
                        _RETURN_: attr are present

                  - _NAME_: TAGS_BNP_DIFF_HEIGHT
                    _RETURN_:
                      - _NAME_: TAGS_BNP_DIFF_HEIGHT_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='bnp_diff_height')].list[*].code"
                        valid: ["unit", "value"]
                        _RETURN_: attr all in valid
                      - _NAME_: DIFF_HEIGHT_UNIT
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='bnp_diff_height')].list[?(@.code=='unit')].value"
                        _RETURN_: attr are present

                      - _NAME_: DIFF_HEIGHT_VALUE
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='bnp_diff_height')].list[?(@.code=='value')].value"
                        _RETURN_: attr are present

                  - _NAME_: TAGS_UPDATE_VERIFICATION
                    _RETURN_:
                      - _NAME_: TAGS_UPDATE_VERIFICATION_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_verification')].list[*].code"
                        valid: ["type", "value"]
                        _RETURN_: attr all in valid
                      - _NAME_: VERIFICATION_TYPE
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_verification')].list[?(@.code=='type')].value"
                        _RETURN_: attr are present

                      - _NAME_: VERIFICATION_VALUE
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_verification')].list[?(@.code=='value')].value"
                        _RETURN_: attr are present

                  - _NAME_: TAGS_UPDATE_STATE_TIMESTAMPS
                    _RETURN_:
                      - _NAME_: TAGS_UPDATE_STATE_TIMESTAMPS_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_state')].list[*].code"
                        valid: ["timestamp", "start_time", "end_time", "state"]
                        _RETURN_: attr all in valid
                      - _NAME_: STATE_TIMESTAMP
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_state')].list[?(@.code=='timestamp')].value"
                        reg: ['^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.*Z$']
                        _RETURN_: attr follow regex reg

                      - _NAME_: STATE_START_TIME
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_state')].list[?(@.code=='start_time')].value"
                        reg: ['^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.*Z$']
                        _RETURN_: attr follow regex reg

                      - _NAME_: STATE_END_TIME
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_state')].list[?(@.code=='end_time')].value"
                        reg: ['^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.*Z$']
                        _RETURN_: attr follow regex reg

                  - _NAME_: TAGS_UPDATE_FULFILLMENT_DELAY
                    _RETURN_:
                      - _NAME_: TAGS_UPDATE_FULFILLMENT_DELAY_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_fulfillment_delay')].list[*].code"
                        valid:
                          [
                            "state",
                            "start_time",
                            "end_time",
                            "reason_id",
                            "attempt",
                          ]
                        _RETURN_: attr all in valid
                      - _NAME_: DELAY_STATE
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_fulfillment_delay')].list[?(@.code=='state')].value"
                        var_enum: ["Order-picked-up", "Order-delivered"]
                        _RETURN_: attr all in var_enum

                      - _NAME_: DELAY_REASON_ID
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_fulfillment_delay')].list[?(@.code=='reason_id')].value"
                        _RETURN_: attr are present

                      - _NAME_: DELAY_START_TIME
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_fulfillment_delay')].list[?(@.code=='start_time')].value"
                        reg: ['^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.*Z$']
                        _RETURN_: attr follow regex reg

                      - _NAME_: DELAY_END_TIME
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_fulfillment_delay')].list[?(@.code=='end_time')].value"
                        reg: ['^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.*Z$']
                        _RETURN_: attr follow regex reg

                      - _NAME_: DELAY_ATTEMPT
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_fulfillment_delay')].list[?(@.code=='attempt')].value"
                        var_enum: ["yes", "no"]
                        _RETURN_: attr all in var_enum

                  - _NAME_: TAGS_LINKED_ORDER_DIFF
                    _RETURN_:
                      - _NAME_: TAGS_LINKED_ORDER_DIFF_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='linked_order_diff')].list[*].code"
                        valid:
                          [
                            "id",
                            "weight_unit",
                            "weight_value",
                            "dim_unit",
                            "length",
                            "breadth",
                            "height",
                          ]
                        _RETURN_: attr all in valid
                      - _NAME_: LINKED_ORDER_ID
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='linked_order_diff')].list[?(@.code=='id')].value"
                        _RETURN_: attr are present

                      - _NAME_: LINKED_WEIGHT_UNIT
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='linked_order_diff')].list[?(@.code=='weight_unit')].value"
                        _RETURN_: attr are present

                      - _NAME_: LINKED_WEIGHT_VALUE
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='linked_order_diff')].list[?(@.code=='weight_value')].value"
                        _RETURN_: attr are present

                      - _NAME_: LINKED_DIM_UNIT
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='linked_order_diff')].list[?(@.code=='dim_unit')].value"
                        _RETURN_: attr are present

                      - _NAME_: LINKED_LENGTH
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='linked_order_diff')].list[?(@.code=='length')].value"
                        _RETURN_: attr are present

                      - _NAME_: LINKED_BREADTH
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='linked_order_diff')].list[?(@.code=='breadth')].value"
                        _RETURN_: attr are present

                      - _NAME_: LINKED_HEIGHT
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='linked_order_diff')].list[?(@.code=='height')].value"
                        _RETURN_: attr are present

                  - _NAME_: TAGS_LINKED_ORDER_DIFF_PROOF
                    _RETURN_:
                      - _NAME_: TAGS_LINKED_ORDER_DIFF_PROOF_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='linked_order_diff_proof')].list[*].code"
                        valid: ["type", "url"]
                        _RETURN_: attr all in valid
                      - _NAME_: PROOF_TYPE
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='linked_order_diff_proof')].list[?(@.code=='type')].value"
                        _RETURN_: attr are present

                      - _NAME_: PROOF_URL
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='linked_order_diff_proof')].list[?(@.code=='url')].value"
                        reg: ["^https?://.*$"]
                        _RETURN_: attr follow regex reg

                  - _NAME_: TAGS_UPDATE_SALE_INVOICE_URL
                    _CONTINUE_: "!(attr are present)"
                    attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_sale_invoice')].list[?(@.code=='url')].value"
                    reg: ["^https?://.*$"]
                    _RETURN_: attr are present && attr follow regex reg

          - _NAME_: ORDER_PAYMENT
            _RETURN_:
              - _NAME_: PAYMENT_ONDC_ORG_SETTLEMENT_DETAILS
                _RETURN_:
                  - _NAME_: PAYMENT_ONDC_ORG_SETTLEMENT_DETAILS_SETTLEMENT_COUNTERPARTY
                    attr: "$.message.order.payment['@ondc/org/settlement_details'][*].settlement_counterparty"
                    _CONTINUE_: "!(attr are present)"
                    _RETURN_: attr are present
                  - _NAME_: PAYMENT_ONDC_ORG_SETTLEMENT_DETAILS_SETTLEMENT_PHASE
                    attr: "$.message.order.payment['@ondc/org/settlement_details'][*].settlement_phase"
                    _CONTINUE_: "!(attr are present)"
                    _RETURN_: attr are present
                  - _NAME_: PAYMENT_ONDC_ORG_SETTLEMENT_DETAILS_SETTLEMENT_TYPE
                    attr: "$.message.order.payment['@ondc/org/settlement_details'][*].settlement_type"
                    _CONTINUE_: "!(attr are present)"
                    var_enum:
                      [
                        "upi",
                        "neft",
                        "rtgs",
                        "wallet",
                        "netbanking",
                        "paylater",
                        "card",
                      ]
                    _RETURN_: attr all in var_enum
                  - _NAME_: PAYMENT_ONDC_ORG_SETTLEMENT_DETAILS_SETTLEMENT_AMOUNT
                    attr: "$.message.order.payment['@ondc/org/settlement_details'][*].settlement_amount"
                    _CONTINUE_: "!(attr are present)"
                    _RETURN_: attr are present
                  - _NAME_: PAYMENT_ONDC_ORG_SETTLEMENT_DETAILS_SETTLEMENT_TIMESTAMP
                    attr: "$.message.order.payment['@ondc/org/settlement_details'][*].settlement_timestamp"
                    _CONTINUE_: "!(attr are present)"
                    _RETURN_: attr are present
    track:
      - _NAME_: TRACK_CONTEXT
        _DESCRIPTION_: Validate track context
        action: ["track"]
        _RETURN_: *CONTEXT_COMMON
      - _NAME_: TRACK_ORDER
        _RETURN_: *STATUS_ORDER
    on_track:
      - _NAME_: ON_TRACK_CONTEXT
        _DESCRIPTION_: Validate on_track context
        action: ["on_track"]
        _RETURN_: *CONTEXT_COMMON
      - _NAME_: ON_TRACK_TRACKING
        _RETURN_:
          - _NAME_: TRACKING_ID
            attr: "$.message.tracking.id"
            _RETURN_: attr are present
          - _NAME_: TRACKING_STATUS
            attr: "$.message.tracking.status"
            var_enum: ["active", "inactive"]
            _RETURN_: attr are present && attr all in var_enum
          - _NAME_: TRACKING_LOCATION
            _RETURN_:
              - _NAME_: TRACKING_LOCATION_GPS
                attr: "$.message.tracking.location.gps"
                _CONTINUE_: "!(attr are present)"
                _RETURN_: attr are present
              - _NAME_: TRACKING_LOCATION_TIME_TIMESTAMP
                attr: "$.message.tracking.location.time.timestamp"
                reg: ['^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{3}Z$']
                _CONTINUE_: "!(attr are present)"
                _RETURN_: attr follow regex reg
              - _NAME_: TRACKING_LOCATION_UPDATED_AT
                attr: "$.message.tracking.location.updated_at"
                reg: ['^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{3}Z$']
                _CONTINUE_: "!(attr are present)"
                _RETURN_: attr follow regex reg
          - _NAME_: TRACKING_TAGS
            _RETURN_:
              - _NAME_: TRACKING_VALID_TAGS
                attr: "$.message.tracking.tags[*].code"
                valid: ["id", "config", "path"]
                _CONTINUE_: "!(attr are present)"
                _RETURN_: attr all in valid
              - _NAME_: TRACKING_ORDER_TAG
                _RETURN_:
                  - _NAME_: ORDER_ID
                    attr: "$.message.tracking.tags[?(@.code=='order')].list[?(@.code=='id')].value"
                    _CONTINUE_: "!(attr are present)"
                    _RETURN_: attr are present

              - _NAME_: TRACKING_CONFIG_TAG
                _RETURN_:
                  - _NAME_: TRACKING_CONFIG_VALID_TAGS
                    attr: "$.message.tracking.tags[?(@.code=='config')].list[*].code"
                    _CONTINUE_: "!(attr are present)"
                    valid: ["attr", "type"]
                    _RETURN_: attr all in valid
                  - _NAME_: CONFIG_ATTR
                    attr: "$.message.tracking.tags[?(@.code=='config')].list[?(@.code=='attr')].value"
                    _CONTINUE_: "!(attr are present)"
                    _RETURN_: attr are present

                  - _NAME_: CONFIG_TYPE
                    attr: "$.message.tracking.tags[?(@.code=='config')].list[?(@.code=='type')].value"
                    _CONTINUE_: "!(attr are present)"
                    var_enum: ["live_poll", "deferred"]
                    _RETURN_: attr all in var_enum

              - _NAME_: TRACKING_PATH_TAG
                _RETURN_:
                  - _NAME_: TRACKING_PATH_VALID_TAGS
                    attr: "$.message.tracking.tags[?(@.code=='path')].list[*].code"
                    valid: ["lat_lng", "sequence"]
                    _CONTINUE_: "!(attr are present)"
                    _RETURN_: attr all in valid
                  - _NAME_: PATH_LAT_LNG
                    attr: "$.message.tracking.tags[?(@.code=='path')].list[?(@.code=='lat_lng')].value"
                    _CONTINUE_: "!(attr are present)"
                    _RETURN_: attr are present

                  - _NAME_: PATH_SEQUENCE
                    attr: "$.message.tracking.tags[?(@.code=='path')].list[?(@.code=='sequence')].value"
                    var_enum: ["1", "2", "3"]
                    _CONTINUE_: "!(attr are present)"
                    _RETURN_: attr are present && attr all in var_enum
    cancel:
      - _NAME_: CANCEL_CONTEXT
        _DESCRIPTION_: Validate cancel context
        action: ["cancel"]
        _RETURN_: *CONTEXT_COMMON
      - _NAME_: CANCEL_ORDER_ID
        attr: "$.message.order_id"
        _RETURN_: attr are present
      - _NAME_: CANCELLATION_REASON_ID
        attr: "$.message.cancellation_reason_id"
        var_enum:
          [
            "001",
            "002",
            "003",
            "004",
            "005",
            "051",
            "052",
            "053",
            "009",
            "010",
            "011",
            "013",
            "014",
            "016",
            "017",
            "018",
            "020",
            "998",
            "999",
          ]
        _RETURN_: attr are present && attr all in var_enum
      - _NAME_: CANCEL_DESCRIPTOR
        _RETURN_:
          - _NAME_: CANCEL_DESCRIPTOR_NAME
            attr: "$.message.descriptor.name"
            _CONTINUE_: "!(attr are present)"
            _RETURN_: attr are present
          - _NAME_: CANCEL_DESCRIPTOR_SHORT_DESC
            attr: "$.message.descriptor.short_desc"
            _CONTINUE_: "!(attr are present)"
            _RETURN_: attr are present
          - _NAME_: CANCEL_DESCRIPTOR_TAGS
            _RETURN_:
              - _NAME_: PARAMS_FORCE
                attr: "$.message.descriptor.tags[*].code"
                var_enum: ["params", "cancel_request"]
                _CONTINUE_: "!(attr are present)"
                _RETURN_: attr all in var_enum
              - _NAME_: PARAMS_TAG
                _RETURN_:
                  - _NAME_: PARAMS_VALID_TAGS
                    attr: "$.message.descriptor.tags[?(@.code=='params')].list[*].code"
                    var_enum: ["force", "ttl_response"]
                    _CONTINUE_: "!(attr are present)"
                    _RETURN_: attr all in var_enum
                  - _NAME_: PARAMS_FORCE
                    attr: "$.message.descriptor.tags[?(@.code=='params')].list[?(@.code=='force')].value"
                    var_enum: ["yes", "no"]
                    _CONTINUE_: "!(attr are present)"
                    _RETURN_: attr all in var_enum

                  - _NAME_: PARAMS_TTL_RESPONSE
                    attr: "$.message.descriptor.tags[?(@.code=='params')].list[?(@.code=='ttl_response')].value"
                    _CONTINUE_: "!(attr are present)"
                    _RETURN_: attr are present

              - _NAME_: CANCEL_REQUEST_TAG
                _RETURN_:
                  - _NAME_: CANCEL_REQUEST_VALID_TAGS
                    attr: "$.message.descriptor.tags[?(@.code=='cancel_request')].list[*].code"
                    var_enum: ["initiated_by"]
                    _CONTINUE_: "!(attr are present)"
                    _RETURN_: attr all in var_enum
                  - _NAME_: CANCEL_REQUEST_INITIATED_BY
                    attr: "$.message.descriptor.tags[?(@.code=='cancel_request')].list[?(@.code=='initiated_by')].value"
                    _CONTINUE_: "!(attr are present)"
                    _RETURN_: attr are present
    on_cancel:
      # ===== CONTEXT VALIDATION =====
      - _NAME_: ON_CANCEL_CONTEXT
        _DESCRIPTION_: Validate on_cancel context
        action: ["on_cancel"]
        _RETURN_: *CONTEXT_COMMON

      # ===== ORDER VALIDATION =====
      - _NAME_: ON_CANCEL_ORDER
        _RETURN_: &ON_CANCEL_ORDER
          - _NAME_: ORDER_ID
            attr: "$.message.order.id"
            pattern:
              [
                "^[a-zA-Z0-9-]{1,32}$|^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
              ]
            _RETURN_: attr are present && attr follow regex pattern
          - _NAME_: ORDER_STATE
            attr: "$.message.order.state"
            var_enum: ["Cancelled"]
            _RETURN_: attr all in var_enum
          - _NAME_: ORDER_CANCELLATION
            _RETURN_:
              - _NAME_: CANCELLED_BY
                attr: "$.message.order.cancellation.cancelled_by"
                _RETURN_: attr are present
              - _NAME_: CANCELLATION_REASON_ID
                attr: "$.message.order.cancellation.reason.id"
                _RETURN_: attr are present
          - _NAME_: ORDER_PROVIDER
            _RETURN_: *SELECT_PROVIDER
          - _NAME_: ORDER_ITEMS
            _RETURN_: &ON_CANCEL_ITEMS
              - _NAME_: ORDER_ITEM_ID
                attr: "$.message.order.items[*].id"
                pattern:
                  [
                    "^[a-zA-Z0-9-]{1,32}$|^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$",
                  ]
                _RETURN_: attr are present && attr follow regex pattern
              - _NAME_: ORDER_ITEM_FULFILLMENT_ID
                attr: "$.message.order.items[*].fulfillment_id"
                _RETURN_: attr are present
              - _NAME_: ORDER_ITEM_QUANTITY_COUNT
                attr: "$.message.order.items[*].quantity.count"
                _RETURN_: attr are present
          - _NAME_: ORDER_BILLING
            _RETURN_: *INIT_BILLING
          - _NAME_: ORDER_FULFILLMENTS
            _RETURN_:
              - _NAME_: FULFILLMENTS_ID
                attr: "$.message.order.fulfillments[*].id"
                _RETURN_: attr are present
              - _NAME_: FULFILLMENTS_STATE_DESCRIPTOR_CODE
                attr: "$.message.order.fulfillments[*].state.descriptor.code"
                var_enum:
                  [
                    "Cancelled",
                    "RTO-Initiated",
                    "RTO-Disposed",
                    "RTO-Delivered",
                  ]
                _RETURN_: attr are present && attr all in var_enum
              - _NAME_: FULFILLMENTS_TYPE
                attr: "$.message.order.fulfillments[*].type"
                _RETURN_: attr are present
              - _NAME_: FULFILLMENTS_ONDC_ORG_PROVIDER_NAME
                _CONTINUE_: "!(attr are present)"
                attr: "$.message.order.fulfillments[*]['@ondc/org/provider_name']"
                _RETURN_: attr are present
              - _NAME_: FULFILLMENTS_TRACKING
                _CONTINUE_: "!(attr are present)"
                attr: "$.message.order.fulfillments[*].tracking"
                _RETURN_: attr are present
              - _NAME_: FULFILLMENTS_START
                _RETURN_:
                  - _NAME_: FULFILLMENTS_START_LOCATION
                    _RETURN_:
                      - _NAME_: FULFILLMENTS_START_LOCATION_DESCRIPTOR_NAME
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].start.location.descriptor.name"
                        _RETURN_: attr are present
                      - _NAME_: FULFILLMENTS_START_LOCATION_GPS
                        attr: "$.message.order.fulfillments[*].start.location.gps"
                        _RETURN_: attr are present
                      - _NAME_: FULFILLMENTS_START_LOCATION_ADDRESS
                        _RETURN_:
                          - _NAME_: FULFILLMENTS_START_LOCATION_ADDRESS_LOCALITY
                            attr: "$.message.order.fulfillments[*].start.location.address.locality"
                            _RETURN_: attr are present
                          - _NAME_: FULFILLMENTS_START_LOCATION_ADDRESS_CITY
                            attr: "$.message.order.fulfillments[*].start.location.address.city"
                            _RETURN_: attr are present
                          - _NAME_: FULFILLMENTS_START_LOCATION_ADDRESS_AREA_CODE
                            attr: "$.message.order.fulfillments[*].start.location.address.area_code"
                            _RETURN_: attr are present
                          - _NAME_: FULFILLMENTS_START_LOCATION_ADDRESS_STATE
                            attr: "$.message.order.fulfillments[*].start.location.address.state"
                            _RETURN_: attr are present
                  - _NAME_: FULFILLMENTS_START_TIME
                    _RETURN_:
                      - _NAME_: FULFILLMENTS_START_TIME_RANGE_START
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].start.time.range.start"
                        _RETURN_: attr are present
                      - _NAME_: FULFILLMENTS_START_TIME_RANGE_END
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].start.time.range.end"
                        _RETURN_: attr are present
                  - _NAME_: FULFILLMENTS_START_CONTACT
                    _RETURN_:
                      - _NAME_: FULFILLMENTS_START_CONTACT_PHONE
                        attr: "$.message.order.fulfillments[*].start.contact.phone"
                        _RETURN_: attr are present
                      - _NAME_: FULFILLMENTS_START_CONTACT_EMAIL
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].start.contact.email"
                        _RETURN_: attr are present
              - _NAME_: FULFILLMENTS_END
                _RETURN_:
                  - _NAME_: FULFILLMENTS_END_TIME
                    _RETURN_:
                      - _NAME_: FULFILLMENTS_END_TIME_RANGE_START
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].end.time.range.start"
                        _RETURN_: attr are present
                      - _NAME_: FULFILLMENTS_END_TIME_RANGE_END
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].end.time.range.end"
                        _RETURN_: attr are present
                  - _NAME_: FULFILLMENTS_END_PERSON_NAME
                    attr: "$.message.order.fulfillments[*].end.person.name"
                    _CONTINUE_: "!(attr are present)"
                    _RETURN_: attr are present
                  - _NAME_: FULFILLMENTS_END_CONTACT
                    _RETURN_:
                      - _NAME_: FULFILLMENTS_END_CONTACT_PHONE
                        attr: "$.message.order.fulfillments[*].end.contact.phone"
                        _RETURN_: attr are present
                      - _NAME_: FULFILLMENTS_END_CONTACT_EMAIL
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].end.contact.email"
                        _RETURN_: attr are present
              - _NAME_: FULFILLMENTS_TAGS
                _RETURN_:
                  - _NAME_: CANCEL_REQUEST_ID
                    _CONTINUE_: "!(attr are present)"
                    attr: "$.message.order.tags[*].code"
                    valid:
                      [
                        "cancel_request",
                        "igm_request",
                        "pre_cancel_state",
                        "quote_trail",
                      ]
                    _RETURN_: attr are present
                  - _NAME_: TAGS_CANCEL_REQUEST
                    _RETURN_:
                      - _NAME_: CANCEL_REQUEST_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.tags[?(@.code=='cancel_request')].list[*].code"
                        valid:
                          [
                            "id",
                            "reason_id",
                            "initiated_by",
                            "retry_count",
                            "rto_id",
                          ]
                        _RETURN_: attr all in valid
                      - _NAME_: CANCEL_REQUEST_ID
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.tags[?(@.code=='cancel_request')].list[?(@.code=='id')].value"
                        _RETURN_: attr are present
                      - _NAME_: CANCEL_REQUEST_REASON_ID
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.tags[?(@.code=='cancel_request')].list[?(@.code=='reason_id')].value"
                        _RETURN_: attr are present
                      - _NAME_: CANCEL_REQUEST_INITIATED_BY
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.tags[?(@.code=='cancel_request')].list[?(@.code=='initiated_by')].value"
                        _RETURN_: attr are present
                      - _NAME_: CANCEL_REQUEST_RETRY_COUNT
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.tags[?(@.code=='cancel_request')].list[?(@.code=='retry_count')].value"
                        _RETURN_: attr are present
                      - _NAME_: CANCEL_REQUEST_RTO_ID
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.tags[?(@.code=='cancel_request')].list[?(@.code=='rto_id')].value"
                        _RETURN_: attr are present
                  - _NAME_: TAGS_IGM_REQUEST
                    _RETURN_:
                      - _NAME_: TAGS_IGM_REQUEST_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.tags[?(@.code=='igm_request')].list[*].code"
                        valid: ["id"]
                        _RETURN_: attr all in valid
                      - _NAME_: IGM_REQUEST_ID
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.tags[?(@.code=='igm_request')].list[?(@.code=='id')].value"
                        _RETURN_: attr are present
                  - _NAME_: TAGS_PRE_CANCEL_STATE
                    _RETURN_:
                      - _NAME_: TAGS_PRE_CANCEL_STATE_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.tags[?(@.code=='pre_cancel_state')].list[*].code"
                        valid: ["fulfillment_state", "updated_at"]
                        _RETURN_: attr all in valid
                      - _NAME_: PRE_CANCEL_FULFILLMENT_STATE
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.tags[?(@.code=='pre_cancel_state')].list[?(@.code=='fulfillment_state')].value"
                        var_enum: ["cancelled", "pending"]
                        _RETURN_: attr are present && attr all in var_enum
                      - _NAME_: PRE_CANCEL_UPDATED_AT
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.tags[?(@.code=='pre_cancel_state')].list[?(@.code=='updated_at')].value"
                        pattern:
                          [
                            "^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}Z$",
                          ]
                        _RETURN_: attr are present && attr follow regex pattern
                  - _NAME_: TAGS_QUOTE_TRAIL
                    _RETURN_:
                      - _NAME_: QUOTE_TRAIL_TYPE_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.tags[?(@.code=='quote_trail')].list[*].code"
                        valid: ["type", "id", "currency", "value"]
                        _RETURN_: attr all in valid

                      - _NAME_: QUOTE_TRAIL_TYPE
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.tags[?(@.code=='quote_trail')].list[?(@.code=='type')].value"
                        _RETURN_: attr are present
                      - _NAME_: QUOTE_TRAIL_ID
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.tags[?(@.code=='quote_trail')].list[?(@.code=='id')].value"
                        _RETURN_: attr are present
                      - _NAME_: QUOTE_TRAIL_CURRENCY
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.tags[?(@.code=='quote_trail')].list[?(@.code=='currency')].value"
                        _RETURN_: attr are present
                      - _NAME_: QUOTE_TRAIL_VALUE
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.tags[?(@.code=='quote_trail')].list[?(@.code=='value')].value"
                        _RETURN_: attr are present
          - _NAME_: ORDER_QUOTE
            _RETURN_:
              - _NAME_: QUOTE_PRICE_CURRENCY
                attr: "$.message.order.quote.price.currency"
                _RETURN_: attr are present
              - _NAME_: QUOTE_PRICE_VALUE
                attr: "$.message.order.quote.price.value"
                _RETURN_: attr are present
              - _NAME_: QUOTE_BREAKUP
                _RETURN_:
                  - _NAME_: BREAKUP_ITEM
                    _RETURN_:
                      - _NAME_: BREAKUP_ITEM_ID
                        attr: "$.message.order.quote.breakup[*]['@ondc/org/item_id']"
                        _RETURN_: attr are present
                      - _NAME_: BREAKUP_ITEM_QUANTITY_COUNT
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.quote.breakup[*]['@ondc/org/item_quantity'].count"
                        _RETURN_: attr are present
                      - _NAME_: BREAKUP_ITEM_TITLE_TYPE
                        attr: "$.message.order.quote.breakup[*]['@ondc/org/title_type']"
                        var_enum:
                          [
                            "item",
                            "delivery",
                            "packing",
                            "tax",
                            "misc",
                            "discount",
                            "offer",
                          ]
                        _RETURN_: attr all in var_enum
                      - _NAME_: BREAKUP_ITEM_PRICE_CURRENCY
                        attr: "$.message.order.quote.breakup[*].price.currency"
                        _RETURN_: attr are present
                      - _NAME_: BREAKUP_ITEM_PRICE_VALUE
                        attr: "$.message.order.quote.breakup[*].price.value"
                        _RETURN_: attr are present
                      - _NAME_: BREAKUP_ITEM_ITEM
                        _RETURN_:
                          - _NAME_: BREAKUP_ITEM_ITEM_PRICE_CURRENCY
                            _CONTINUE_: "!(attr are present)"
                            attr: "$.message.order.quote.breakup[*].item.price.currency"
                            _RETURN_: attr are present
                          - _NAME_: BREAKUP_ITEM_ITEM_PRICE_VALUE
                            _CONTINUE_: "!(attr are present)"
                            attr: "$.message.order.quote.breakup[*].item.price.value"
                            _RETURN_: attr are present
                          - _NAME_: BREAKUP_ITEM_ITEM_TAGS
                            _RETURN_:
                              - _NAME_: BREAKUP_ITEM_ITEM_TAGS_TAGS_QUOTE
                                _RETURN_:
                                  - _NAME_: BREAKUP_ITEM_ITEM_TAGS_TAGS_QUOTE_TYPE
                                    attr: "$.message.order.quote.breakup[*].item.tags[?(@.code=='quote')].list[?(@.code=='type')].value"
                                    _CONTINUE_: "!(attr are present)"
                                    var_enum: ["fulfillment", "order", "item"]
                                    _RETURN_: attr all in var_enum
              - _NAME_: QUOTE_TTL
                attr: "$.message.order.quote.ttl"
                _RETURN_: attr are present
          - _NAME_: ORDER_PAYMENT
            _RETURN_: *ON_INIT_PAYMENT
          - _NAME_: ORDER_PAYMENT_ADDITIONAL_PROPERTIES
            _RETURN_:
              - _NAME_: PAYMENT_URI
                attr: "$.message.order.payment.uri"
                _CONTINUE_: "!(attr are present)"
                _RETURN_: attr are present
              - _NAME_: PAYMENT_TL_METHOD
                attr: "$.message.order.payment.tl_method"
                _CONTINUE_: "!(attr are present)"
                _RETURN_: attr are present
              - _NAME_: PAYMENT_PARAMS
                _RETURN_:
                  - _NAME_: PAYMENT_CURRENCY
                    attr: "$.message.order.payment.params.currency"
                    _RETURN_: attr are present
                  - _NAME_: PAYMENT_TRANSACTION_ID
                    attr: "$.message.order.payment.params.transaction_id"
                    _CONTINUE_: "!(attr are present)"
                    _RETURN_: attr are present
                  - _NAME_: PAYMENT_AMOUNT
                    attr: "$.message.order.payment.params.amount"
                    _RETURN_: attr are present
              - _NAME_: PAYMENT_STATUS
                var_enum: ["NOT-PAID", "PAID"]
                attr: "$.message.order.payment.status"
                _RETURN_: attr are present && attr all in var_enum
              - _NAME_: PAYMENT_TYPE
                attr: "$.message.order.payment.type"
                var_enum: ["ON-ORDER", "ON-FULFILLMENT"]
                _RETURN_: attr are present && attr all in var_enum
              - _NAME_: PAYMENT_COLLECTED_BY
                var_enum: ["BAP", "BPP"]
                attr: "$.message.order.payment.collected_by"
                _RETURN_: attr are present && attr all in var_enum
          - _NAME_: ORDER_CREATED_AT
            attr: "$.message.order.created_at"
            pattern: ['^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{3}Z$']
            _RETURN_: attr are present && attr follow regex pattern
          - _NAME_: ORDER_UPDATED_AT
            attr: "$.message.order.updated_at"
            pattern: ['^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{3}Z$']
            _RETURN_: attr are present && attr follow regex pattern
    issue:
      - _NAME_: REQUIRED_CONTEXT_FIELDS
        _RETURN_:
          - _NAME_: REQUIRED_CONTEXT_DOMAIN
            attr: $.context.domain
            _RETURN_: attr are present
          - _NAME_: REQUIRED_CONTEXT_COUNTRY
            attr: [$.context.location.country.code]
            _RETURN_: attr are present
          - _NAME_: REQUIRED_CONTEXT_CITY
            attr: [$.context.location.city.code]
            _RETURN_: attr are present
          - _NAME_: REQUIRED_CONTEXT_TRANSACTION_ID
            attr: $.context.transaction_id
            _RETURN_: attr are present
          - _NAME_: REQUIRED_CONTEXT_MESSAGE_ID
            attr: $.context.message_id
            _RETURN_: attr are present
          - _NAME_: REQUIRED_CONTEXT_ACTION
            attr: $.context.action
            _RETURN_: attr are present
          - _NAME_: REQUIRED_CONTEXT_TIMESTAMP
            attr: $.context.timestamp
            _RETURN_: attr are present
          - _NAME_: REQUIRED_CONTEXT_VERSION
            attr: [$.context.version]
            _RETURN_: attr are present
          - _NAME_: REQUIRED_CONTEXT_BAP_URI
            attr: $.context.bap_uri
            _RETURN_: attr are present
          - _NAME_: REQUIRED_CONTEXT_BAP_ID
            attr: $.context.bap_id
            _RETURN_: attr are present
          - _NAME_: REQUIRED_CONTEXT_BPP_URI
            attr: $.context.bpp_uri
            _RETURN_: attr are present
          - _NAME_: REQUIRED_CONTEXT_BPP_ID
            attr: $.context.bpp_id
            _RETURN_: attr are present
          - _NAME_: REQUIRED_CONTEXT_TTL
            attr: $.context.ttl
            _RETURN_: attr are present
          # - _NAME_: VALID_CONTEXT_COUNTRY_CODE
          #   attr: [$.context.location.country.code]
          #   enumList:
          #     - IND
          #   _RETURN_: attr any in enumList
          - _NAME_: VALID_CONTEXT_COUNTRY_CODE
            attr: $.context.country
            _RETURN_: attr are present
      - _NAME_: ISSUE_VALIDATION_VERSION_200
        action:
          - issue
        _SCOPE_: $.message.issue.actions
        _RETURN_:
          - _NAME_: REQUIRED_MESSAGE_ID
            attr: $.message.issue.id
            _RETURN_: attr are present
          - _NAME_: REQUIRED_MESSAGE_STATUS
            attr: $.message.issue.status
            _RETURN_: attr are present && attr all in enumList && attr are unique
            enumList:
              - OPEN
              - CLOSED
              - PROCESSING
              - RESOLVED
              - NEED_MORE_INFO
              - INFO_PROVIDED
          - _NAME_: REQUIRED_MESSAGE_LEVEL
            attr: $.message.issue.level
            _RETURN_: attr are present && attr all in enumList
            enumList:
              - ISSUE
              - GREVIENCE
              - DISPUTE
          - _NAME_: REQUIRED_MESSAGE_CREATED_AT
            attr: $.message.issue.created_at
            _RETURN_: attr are present
          - _NAME_: REQUIRED_MESSAGE_UPDATED_AT
            attr: $.message.issue.updated_at
            _RETURN_: attr are present
          - _NAME_: REQUIRED_MESSAGE_REF_ID
            attr: $.message.issue.refs[*].ref_id
            _RETURN_: attr are present
          - _NAME_: REQUIRED_MESSAGE_REF_TYPE
            attr: $.message.issue.refs[*].ref_type
            _RETURN_: attr are present && attr all in enumList
            enumList:
              - ORDER
              - ITEM
              - FULFILLMENT
              - TRANSACTION_ID
              - MESSAGE_ID
              - PROVIDER
              - COMPLAINT
              - ACTION
              - PAYMENT
              - CUSTOMER
              - AGENT
          - _NAME_: REQUIRED_MESSAGE_ID_10
            attr: $.message.issue.actors[*].id
            _RETURN_: attr are present
          - _NAME_: REQUIRED_MESSAGE_TYPE
            attr: $.message.issue.actors[*].type
            _RETURN_: attr are present && attr all in enumList
            enumList:
              - INTERFACING_NP
              - COUNTERPARTY_NP
              - CASCADED_NP
              - PROVIDER
              - AGENT
              - CUSTOMER
              - INTERFACING_NP_GRO
              - COUNTERPARTY_NP_GRO
              - CASCADED_NP_GRO
              - CONSUMER
          - _NAME_: REQUIRED_MESSAGE_NAME
            attr: $.message.issue.actors[*].info.person.name
            _RETURN_: attr are present
          - _NAME_: REQUIRED_MESSAGE_NAME_13
            attr: $.message.issue.actors[*].info.person.name
            _RETURN_: attr are present
          - _NAME_: REQUIRED_MESSAGE_PHONE
            attr: $.message.issue.actors[*].info.contact.phone
            _RETURN_: attr are present
          - _NAME_: REQUIRED_MESSAGE_EMAIL
            attr: $.message.issue.actors[*].info.contact.email
            _RETURN_: attr are present
          - _NAME_: REQUIRED_MESSAGE_SOURCE_ID
            attr: $.message.issue.source_id
            _RETURN_: attr are present
          - _NAME_: REQUIRED_MESSAGE_CODE
            attr: $.message.issue.descriptor.code
            _RETURN_: attr are present
          - _NAME_: REQUIRED_MESSAGE_SHORT_DESC
            attr: $.message.issue.descriptor.short_desc
            _RETURN_: attr are present
          - _NAME_: REQUIRED_MESSAGE_LONG_DESC
            attr: $.message.issue.descriptor.long_desc
            _RETURN_: attr are present
          - _NAME_: REQUIRED_MESSAGE_URL
            attr: $.message.issue.descriptor.additional_desc.url
            _RETURN_: attr are present
          - _NAME_: REQUIRED_MESSAGE_CONTENT_TYPE
            attr: $.message.issue.descriptor.additional_desc.content_type
            _RETURN_: attr are present
          - _NAME_: REQUIRED_MESSAGE_LAST_ACTION_ID
            attr: $.message.issue.last_action_id
            _RETURN_: attr are present
          - _NAME_: REQUIRED_MESSAGE_ID_25
            attr: $.message.issue.actions[*].id
            _RETURN_: attr are present
          - _NAME_: REQUIRED_MESSAGE_CODE_26
            attr: $.message.issue.actions[*].descriptor.code
            _RETURN_: attr are present
          - _NAME_: REQUIRED_MESSAGE_SHORT_DESC_27
            attr: $.message.issue.actions[*].descriptor.short_desc
            _RETURN_: attr are present
          - _NAME_: REQUIRED_MESSAGE_UPDATED_AT_28
            attr: $.message.issue.actions[*].updated_at
            _RETURN_: attr are present
          - _NAME_: REQUIRED_MESSAGE_ACTION_BY
            attr: $.message.issue.actions[*].action_by
            _RETURN_: attr are present
          - _NAME_: VALID_ENUM_MESSAGE_STATUS
            enumList:
              - OPEN
              - CLOSED
              - PROCESSING
              - RESOLVED
              - INFO_PROVIDED
            enumPath: $.message.issue.status
            _CONTINUE_: "!(enumPath are present)"
            _RETURN_: enumPath all in enumList
          - _NAME_: VALID_ENUM_MESSAGE_LEVEL
            enumList:
              - ISSUE
              - GREVIENCE
              - DISPUTE
            enumPath: $.message.issue.level
            _CONTINUE_: "!(enumPath are present)"
            _RETURN_: enumPath all in enumList
          - _NAME_: VALID_ENUM_MESSAGE_REF_TYPE
            enumList:
              - ORDER
              - ITEM
              - FULFILLMENT
              - TRANSACTION_ID
              - MESSAGE_ID
              - PROVIDER
              - COMPLAINT
              - ACTION
              - PAYMENT
              - CUSTOMER
              - AGENT
            enumPath: $.message.issue.refs[*].ref_type
            _CONTINUE_: "!(enumPath are present)"
            _RETURN_: enumPath all in enumList
          - _NAME_: VALID_ENUM_MESSAGE_TYPE
            enumList:
              - INTERFACING_NP
              - COUNTERPARTY_NP
              - CASCADED_NP
              - PROVIDER
              - AGENT
              - CUSTOMER
              - INTERFACING_NP_GRO
              - COUNTERPARTY_NP_GRO
              - CASCADED_NP_GRO
              - CONSUMER
            enumPath: $.message.issue.actors[*].type
            _CONTINUE_: "!(enumPath are present)"
            _RETURN_: enumPath all in enumList

      - _NAME_: ISSUE_VALIDATION_VERSION_100
        action:
          - issue
        _SCOPE_: $.message.issue.issue_actions
        _RETURN_:
          - _NAME_: ISSUE_VALIDATION_OPEN
            action:
              - issue
            _SCOPE_: $.message.issue[?(@.status=='OPEN')]
            _RETURN_:
              # Mandatory fields ONLY for OPEN
              - _NAME_: REQUIRED_ISSUE_ID
                attr: $.message.issue.id
                _RETURN_: attr are present

              - _NAME_: REQUIRED_ISSUE_STATUS
                attr: $.message.issue.status
                validValues:
                  - OPEN
                  - CLOSED
                _RETURN_: attr all in validValues

              - _NAME_: REQUIRED_ISSUE_CATEGORY
                attr: $.message.issue.category
                _RETURN_: attr are present

              - _NAME_: REQUIRED_ISSUE_SUB_CATEGORY
                attr: $.message.issue.sub_category
                _RETURN_: attr are present

              - _NAME_: REQUIRED_COMPLAINANT_PERSON_NAME
                attr: $.message.issue.complainant_info.person.name
                _RETURN_: attr are present

              - _NAME_: REQUIRED_COMPLAINANT_CONTACT_PHONE
                attr: $.message.issue.complainant_info.contact.phone
                _RETURN_: attr are present

              - _NAME_: REQUIRED_ORDER_ID
                attr: $.message.issue.order_details.id
                _RETURN_: attr are present

              - _NAME_: REQUIRED_ORDER_ITEMS
                attr: $.message.issue.order_details.items[*].id
                _RETURN_: attr are present

              - _NAME_: REQUIRED_ORDER_ITEMS_QUANTITY
                attr: $.message.issue.order_details.items[*].quantity
                _RETURN_: attr are present

              - _NAME_: REQUIRED_FULFILLMENT_ID
                attr: $.message.issue.order_details.fulfillments[*].id
                _RETURN_: attr are present

              - _NAME_: REQUIRED_PROVIDER_ID
                attr: $.message.issue.order_details.provider_id
                _RETURN_: attr are present

              - _NAME_: REQUIRED_DESCRIPTION
                attr: [$.message.issue.description]
                _RETURN_: attr are present

              - _NAME_: REQUIRED_DESCRIPTION_SHORT
                attr: [$.message.issue.description.short_desc]
                _RETURN_: attr are present

              - _NAME_: REQUIRED_DESCRIPTION_LONG
                attr: [$.message.issue.description.long_desc]
                _RETURN_: attr are present

              - _NAME_: REQUIRED_DESCRIPTION_ADDITIONAL_URL
                attr: [$.message.issue.description.additional_desc.url]
                _RETURN_: attr are present

              - _NAME_: REQUIRED_DESCRIPTION_ADDITIONAL_CONTENT_TYPE
                attr: [$.message.issue.description.additional_desc.content_type]
                _RETURN_: attr are present

              - _NAME_: REQUIRED_DESCRIPTION_IMAGES
                attr: [$.message.issue.description.images]
                _RETURN_: attr are present

              - _NAME_: REQUIRED_EXPECTED_RESPONSE_TIME
                attr: [$.message.issue.expected_response_time.duration]
                _RETURN_: attr are present

              - _NAME_: REQUIRED_EXPECTED_RESOLUTION_TIME
                attr: [$.message.issue.expected_resolution_time.duration]
                _RETURN_: attr are present

              - _NAME_: REQUIRED_ISSUE_ACTIONS_OPEN
                attr: $.message.issue.issue_actions.complainant_actions[*].complainant_action
                validValues:
                  - OPEN
                  - CLOSE
                  - ESCALATE
                _RETURN_: attr all in validValues

              - _NAME_: REQUIRED_CREATED_AT
                attr: $.message.issue.created_at
                _RETURN_: attr are present

              - _NAME_: REQUIRED_UPDATED_AT
                attr: $.message.issue.updated_at
                _RETURN_: attr are present
          - _NAME_: ISSUE_VALIDATION_CLOSED
            action:
              - issue
            _SCOPE_: $.message.issue[?(@.status=='CLOSED')]
            _RETURN_:
              - _NAME_: REQUIRED_ISSUE_ID_CLOSED
                attr: $.message.issue.id
                _RETURN_: attr are present

              - _NAME_: REQUIRED_ISSUE_STATUS
                attr: $.message.issue.status
                validValues:
                  - OPEN
                  - CLOSED
                _RETURN_: attr all in validValues

              - _NAME_: REQUIRED_ISSUE_ACTIONS_CLOSED
                attr: $.message.issue.issue_actions.complainant_actions[*].complainant_action
                validValues:
                  - OPEN
                  - CLOSE
                  - ESCALATE
                _RETURN_: attr all in validValues
              - _NAME_: REQUIRED_CREATED_AT_CLOSED
                attr: $.message.issue.created_at
                _RETURN_: attr are present

              - _NAME_: REQUIRED_UPDATED_AT_CLOSED
                attr: $.message.issue.updated_at
                _RETURN_: attr are present

    on_issue:
      - _NAME_: REQUIRED_CONTEXT_FIELDS
        _RETURN_:
          - _NAME_: REQUIRED_CONTEXT_DOMAIN
            attr: $.context.domain
            _RETURN_: attr are present
          - _NAME_: REQUIRED_CONTEXT_COUNTRY
            attr: [$.context.location.country.code]
            _RETURN_: attr are present
          - _NAME_: REQUIRED_CONTEXT_CITY
            attr: [$.context.location.city.code]
            _RETURN_: attr are present
          - _NAME_: REQUIRED_CONTEXT_TRANSACTION_ID
            attr: $.context.transaction_id
            _RETURN_: attr are present
          - _NAME_: REQUIRED_CONTEXT_MESSAGE_ID
            attr: $.context.message_id
            _RETURN_: attr are present
          - _NAME_: REQUIRED_CONTEXT_ACTION
            attr: $.context.action
            _RETURN_: attr are present
          - _NAME_: REQUIRED_CONTEXT_TIMESTAMP
            attr: $.context.timestamp
            _RETURN_: attr are present
          - _NAME_: REQUIRED_CONTEXT_VERSION
            attr: [$.context.version]
            _RETURN_: attr are present
          - _NAME_: REQUIRED_CONTEXT_BAP_URI
            attr: $.context.bap_uri
            _RETURN_: attr are present
          - _NAME_: REQUIRED_CONTEXT_BAP_ID
            attr: $.context.bap_id
            _RETURN_: attr are present
          - _NAME_: REQUIRED_CONTEXT_BPP_URI
            attr: $.context.bpp_uri
            _RETURN_: attr are present
          - _NAME_: REQUIRED_CONTEXT_BPP_ID
            attr: $.context.bpp_id
            _RETURN_: attr are present
          - _NAME_: REQUIRED_CONTEXT_TTL
            attr: $.context.ttl
            _RETURN_: attr are present
          # - _NAME_: VALID_CONTEXT_COUNTRY_CODE
          #   attr: [$.context.location.country.code]
          #   enumList:
          #     - IND
          #   _RETURN_: attr any in enumList
          - _NAME_: VALID_CONTEXT_COUNTRY_CODE
            attr: $.context.country
            _RETURN_: attr are present
      - _NAME_: ON_ISSUE_VALIDATION_VERSION_200
        action:
          - on_issue
        _SCOPE_: $.message.issue.actions
        _RETURN_:
          - _NAME_: REQUIRED_MESSAGE_ID
            attr: $.message.issue.id
            _RETURN_: attr are present
          - _NAME_: REQUIRED_MESSAGE_STATUS
            attr: $.message.issue.status
            _RETURN_: attr are present && attr all in enumList && attr are unique
            enumList:
              - OPEN
              - CLOSED
              - PROCESSING
              - RESOLVED
              - NEED_MORE_INFO
              - INFO_PROVIDED
          - _NAME_: REQUIRED_MESSAGE_LEVEL
            attr: $.message.issue.level
            _RETURN_: attr are present && attr all in enumList
            enumList:
              - ISSUE
              - GREVIENCE
              - DISPUTE
          - _NAME_: REQUIRED_MESSAGE_CREATED_AT
            attr: $.message.issue.created_at
            _RETURN_: attr are present
          - _NAME_: REQUIRED_MESSAGE_UPDATED_AT
            attr: $.message.issue.updated_at
            _RETURN_: attr are present
          - _NAME_: REQUIRED_MESSAGE_REF_ID
            attr: $.message.issue.refs[*].ref_id
            _RETURN_: attr are present
          - _NAME_: REQUIRED_MESSAGE_REF_TYPE
            attr: $.message.issue.refs[*].ref_type
            _RETURN_: attr are present && attr all in enumList
            enumList:
              - ORDER
              - ITEM
              - FULFILLMENT
              - TRANSACTION_ID
              - MESSAGE_ID
              - PROVIDER
              - COMPLAINT
              - ACTION
              - PAYMENT
              - CUSTOMER
              - AGENT
          - _NAME_: REQUIRED_EXPECTED_RESPONSE_TIME
            attr: [$.message.issue.expected_response_time.duration]
            _RETURN_: attr are present
          - _NAME_: REQUIRED_EXPECTED_RESOLUTION_TIME
            attr: [$.message.issue.expected_resolution_time.duration]
            _RETURN_: attr are present
          - _NAME_: REQUIRED_MESSAGE_ID_10
            attr: $.message.issue.actors[*].id
            _RETURN_: attr are present
          - _NAME_: REQUIRED_MESSAGE_TYPE
            attr: $.message.issue.actors[*].type
            _RETURN_: attr are present && attr all in enumList
            enumList:
              - INTERFACING_NP
              - COUNTERPARTY_NP
              - CASCADED_NP
              - PROVIDER
              - AGENT
              - CUSTOMER
              - INTERFACING_NP_GRO
              - COUNTERPARTY_NP_GRO
              - CASCADED_NP_GRO
              - CONSUMER
          - _NAME_: REQUIRED_MESSAGE_NAME_13
            attr: $.message.issue.actors[*].info.person.name
            _RETURN_: attr are present
          - _NAME_: REQUIRED_MESSAGE_PHONE
            attr: $.message.issue.actors[*].info.contact.phone
            _RETURN_: attr are present
          - _NAME_: REQUIRED_MESSAGE_EMAIL
            attr: $.message.issue.actors[*].info.contact.email
            _RETURN_: attr are present
          # - _NAME_: REQUIRED_MESSAGE_SOURCE_ID
          #   attr: $.message.issue.source_id
          #   _RETURN_: attr are present
          # - _NAME_: REQUIRED_MESSAGE_CODE
          #   attr: $.message.issue.descriptor.code
          #   _RETURN_: attr are present
          # - _NAME_: REQUIRED_MESSAGE_SHORT_DESC
          #   attr: $.message.issue.descriptor.short_desc
          #   _RETURN_: attr are present
          # - _NAME_: REQUIRED_MESSAGE_LONG_DESC
          #   attr: $.message.issue.descriptor.long_desc
          #   _RETURN_: attr are present
          # - _NAME_: REQUIRED_MESSAGE_URL
          #   attr: $.message.issue.descriptor.additional_desc.url
          #   _RETURN_: attr are present
          # - _NAME_: REQUIRED_MESSAGE_CONTENT_TYPE
          #   attr: $.message.issue.descriptor.additional_desc.content_type
          #   _RETURN_: attr are present
          - _NAME_: REQUIRED_MESSAGE_ID_25
            attr: $.message.issue.actions[*].id
            _RETURN_: attr are present
          - _NAME_: REQUIRED_MESSAGE_CODE_26
            attr: $.message.issue.actions[*].descriptor.code
            _RETURN_: attr are present
          - _NAME_: REQUIRED_MESSAGE_SHORT_DESC_27
            attr: $.message.issue.actions[*].descriptor.short_desc
            _RETURN_: attr are present
          - _NAME_: REQUIRED_MESSAGE_UPDATED_AT_28
            attr: $.message.issue.actions[*].updated_at
            _RETURN_: attr are present
          - _NAME_: REQUIRED_MESSAGE_ACTION_BY
            attr: $.message.issue.actions[*].action_by
            _RETURN_: attr are present
      - _NAME_: ON_ISSUE_VALIDATION_VERSION_100
        action:
          - on_issue
        _SCOPE_: $.message.issue.issue_actions
        _RETURN_:
          - _NAME_: REQUIRED_ISSUE_ID
            attr: $.message.issue.id
            _RETURN_: attr are present
          - _NAME_: REQUIRED_RESPONDENT_ACTION
            attr: $.message.issue.issue_actions.respondent_actions[*].respondent_action
            _RETURN_: attr are present && attr all in enumList
            enumList:
              - OPEN
              - PROCESSING
              - RESOLVED
              - CLOSED
              - INFO_PROVIDED
              - NEED_MORE_INFO

          - _NAME_: REQUIRED_RESPONDENT_SHORT_DESC
            attr: $.message.issue.issue_actions.respondent_actions[*].short_desc
            _RETURN_: attr are present

          - _NAME_: REQUIRED_RESPONDENT_UPDATED_AT
            attr: $.message.issue.issue_actions.respondent_actions[*].updated_at
            _RETURN_: attr are present

          - _NAME_: REQUIRED_RESPONDENT_UPDATED_BY_PERSON
            attr: $.message.issue.issue_actions.respondent_actions[*].updated_by.person.name
            _RETURN_: attr are present

          - _NAME_: REQUIRED_RESPONDENT_UPDATED_BY_ORG
            attr: $.message.issue.issue_actions.respondent_actions[*].updated_by.org.name
            _RETURN_: attr are present

          - _NAME_: REQUIRED_ISSUE_CREATED_AT
            attr: $.message.issue.created_at
            _RETURN_: attr are present

          - _NAME_: REQUIRED_ISSUE_UPDATED_AT
            attr: $.message.issue.updated_at
            _RETURN_: attr are present

    on_issue_status:
      - _NAME_: REQUIRED_CONTEXT_FIELDS
        _RETURN_:
          - _NAME_: REQUIRED_CONTEXT_DOMAIN
            attr: $.context.domain
            _RETURN_: attr are present
          - _NAME_: REQUIRED_CONTEXT_COUNTRY
            attr: [$.context.location.country.code]
            _RETURN_: attr are present
          - _NAME_: REQUIRED_CONTEXT_CITY
            attr: [$.context.location.city.code]
            _RETURN_: attr are present
          - _NAME_: REQUIRED_CONTEXT_TRANSACTION_ID
            attr: $.context.transaction_id
            _RETURN_: attr are present
          - _NAME_: REQUIRED_CONTEXT_MESSAGE_ID
            attr: $.context.message_id
            _RETURN_: attr are present
          - _NAME_: REQUIRED_CONTEXT_ACTION
            attr: $.context.action
            _RETURN_: attr are present
          - _NAME_: REQUIRED_CONTEXT_TIMESTAMP
            attr: $.context.timestamp
            _RETURN_: attr are present
          - _NAME_: REQUIRED_CONTEXT_VERSION
            attr: [$.context.version]
            _RETURN_: attr are present
          - _NAME_: REQUIRED_CONTEXT_BAP_URI
            attr: $.context.bap_uri
            _RETURN_: attr are present
          - _NAME_: REQUIRED_CONTEXT_BAP_ID
            attr: $.context.bap_id
            _RETURN_: attr are present
          - _NAME_: REQUIRED_CONTEXT_BPP_URI
            attr: $.context.bpp_uri
            _RETURN_: attr are present
          - _NAME_: REQUIRED_CONTEXT_BPP_ID
            attr: $.context.bpp_id
            _RETURN_: attr are present
          - _NAME_: REQUIRED_CONTEXT_TTL
            attr: $.context.ttl
            _RETURN_: attr are present
          # - _NAME_: VALID_CONTEXT_COUNTRY_CODE
          #   attr: [$.context.location.country.code]
          #   enumList:
          #     - IND
          #   _RETURN_: attr any in enumList
          - _NAME_: VALID_CONTEXT_COUNTRY_CODE
            attr: $.context.country
            _RETURN_: attr are present
      - _NAME_: ISSUE_ON_ISSUE_STATUS_VALIDATION
        action:
          - on_issue_status
        _RETURN_:
          - _NAME_: REQUIRED_ISSUE_ID
            attr: $.message.issue.id
            _RETURN_: attr are present

          - _NAME_: REQUIRED_RESPONDENT_ACTION
            attr: $.message.issue.issue_actions.respondent_actions[*].respondent_action
            _RETURN_: attr are present && attr all in enumList
            enumList:
              - OPEN
              - PROCESSING
              - RESOLVED
              - CLOSED
              - INFO_PROVIDED
              - NEED_MORE_INFO

          - _NAME_: REQUIRED_RESPONDENT_SHORT_DESC
            attr: $.message.issue.issue_actions.respondent_actions[*].short_desc
            _RETURN_: attr are present

          - _NAME_: REQUIRED_RESPONDENT_UPDATED_AT
            attr: $.message.issue.issue_actions.respondent_actions[*].updated_at
            _RETURN_: attr are present

          - _NAME_: REQUIRED_RESPONDENT_UPDATED_BY_PERSON
            attr: $.message.issue.issue_actions.respondent_actions[*].updated_by.person.name
            _RETURN_: attr are present

          - _NAME_: REQUIRED_RESPONDENT_UPDATED_BY_ORG
            attr: $.message.issue.issue_actions.respondent_actions[*].updated_by.org.name
            _RETURN_: attr are present

          - _NAME_: REQUIRED_ISSUE_CREATED_AT
            attr: $.message.issue.created_at
            _RETURN_: attr are present

          - _NAME_: REQUIRED_ISSUE_UPDATED_AT
            attr: $.message.issue.updated_at
            _RETURN_: attr are present

          - _NAME_: REQUIRED_RESOLUTION_SHORT_DESC
            attr: [$.message.issue.resolution.short_desc]
            _RETURN_: attr are present

          - _NAME_: REQUIRED_RESOLUTION_LONG_DESC
            attr: [$.message.issue.resolution.long_desc]
            _RETURN_: attr are present

          - _NAME_: REQUIRED_RESOLUTION_ACTION_TRIGGERED
            attr: [$.message.issue.resolution.action_triggered]
            _RETURN_: attr are present

          - _NAME_: REQUIRED_RESOLUTION_PROVIDER_TYPE
            attr: $.message.issue.resolution_provider.respondent_info.type
            _RETURN_: attr are present

          - _NAME_: REQUIRED_RESOLUTION_PROVIDER_ORG_NAME
            attr: $.message.issue.resolution_provider.respondent_info.organization.org.name
            _RETURN_: attr are present

          - _NAME_: REQUIRED_RESOLUTION_PROVIDER_PERSON_NAME
            attr: $.message.issue.resolution_provider.respondent_info.organization.person.name
            _RETURN_: attr are present

    on_update:
      # ===== CONTEXT VALIDATION =====
      - _NAME_: ON_UPDATE_CONTEXT
        _DESCRIPTION_: Validate on_update context
        action: ["on_update"]
        _RETURN_: *CONTEXT_COMMON

      # ===== ORDER VALIDATION =====
      - _NAME_: ON_UPDATE_ORDER
        _RETURN_:
          - _NAME_: ORDER_ID
            attr: "$.message.order.id"
            _RETURN_: attr are present
          - _NAME_: ORDER_FULFILLMENTS
            _RETURN_:
              - _NAME_: FULFILLMENTS_ID
                attr: "$.message.order.fulfillments[*].id"
                _RETURN_: attr are present
              - _NAME_: FULFILLMENTS_TYPE
                attr: "$.message.order.fulfillments[*].type"
                _CONTINUE_: "!(attr are present)"
                _RETURN_: attr are present
              - _NAME_: FULFILLMENTS_END
                _RETURN_:
                  - _NAME_: FULFILLMENTS_END_INSTRUCTIONS_ADDITIONAL_DESC_CONTENT_TYPE
                    attr: "$.message.order.fulfillments[*].end.instructions.additional_desc.content_type"
                    var_enum: ["text/plain", "text/html"]
                    _CONTINUE_: "!(attr are present)"
                    _RETURN_: attr are present
              - _NAME_: FULFILLMENTS_TAGS
                _RETURN_:
                  - _NAME_: RETURN_REQUEST_ID
                    _CONTINUE_: "!(attr are present)"
                    attr: "$.message.order.fulfillments[*].tags[*].code"
                    valid:
                      [
                        "return_request",
                        "update_state",
                        "cancel_request",
                        "update_fulfillment_time",
                        "update_agent_details",
                        "update_label",
                        "reverseqc_output",
                        "bnp_receivables_claim",
                        "bnp_diff_weight",
                        "bnp_diff_length",
                        "bnp_diff_breadth",
                        "bnp_diff_height",
                        "update_verification",
                        "update_state",
                        "update_fulfillment_delay",
                        "linked_order_diff",
                        "update_sale_invoice",
                        "linked_order_diff_proof",
                      ]
                    _RETURN_: attr are present
                  - _NAME_: TAGS_RETURN_REQUEST
                    _RETURN_:
                      - _NAME_: TAGS_RETURN_REQUEST_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='return_request')].list[*].code"
                        valid:
                          [
                            "id",
                            "item_id",
                            "parent_item_id",
                            "item_quantity",
                            "reason_id",
                            "reason_desc",
                            "images",
                            "ttl_approval",
                            "ttl_reverseqc",
                            "initiated_by",
                            "replace",
                          ]
                        _RETURN_: attr all in valid
                      - _NAME_: RETURN_REQUEST_ID
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='return_request')].list[?(@.code=='id')].value"
                        _RETURN_: attr are present

                      - _NAME_: RETURN_REQUEST_ITEM_ID
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='return_request')].list[?(@.code=='item_id')].value"
                        _RETURN_: attr are present

                      - _NAME_: RETURN_REQUEST_PARENT_ITEM_ID
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='return_request')].list[?(@.code=='parent_item_id')].value"
                        _RETURN_: attr are present

                      - _NAME_: RETURN_REQUEST_ITEM_QUANTITY
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='return_request')].list[?(@.code=='item_quantity')].value"
                        _RETURN_: attr are present

                      - _NAME_: RETURN_REQUEST_REASON_ID
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='return_request')].list[?(@.code=='reason_id')].value"
                        reg: ['^\\d{3}$']
                        _RETURN_: attr follow regex reg

                      - _NAME_: RETURN_REQUEST_REASON_DESC
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='return_request')].list[?(@.code=='reason_desc')].value"
                        _RETURN_: attr are present

                      - _NAME_: RETURN_REQUEST_IMAGES
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='return_request')].list[?(@.code=='images')].value"
                        _RETURN_: attr are present

                      - _NAME_: RETURN_REQUEST_TTL_APPROVAL
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='return_request')].list[?(@.code=='ttl_approval')].value"
                        reg: ["^PT[0-9]+H$"]
                        _RETURN_: attr follow regex reg

                      - _NAME_: RETURN_REQUEST_TTL_REVERSEQC
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='return_request')].list[?(@.code=='ttl_reverseqc')].value"
                        reg: ["^P[0-9]+D$"]
                        _RETURN_: attr follow regex reg

                  - _NAME_: TAGS_UPDATE_STATE
                    _RETURN_:
                      - _NAME_: TAGS_UPDATE_STATE_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_state')].list[*].code"
                        valid: ["state", "reason_id"]
                        _RETURN_: attr all in valid

                      - _NAME_: UPDATE_STATE_STATE
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_state')].list[?(@.code=='state')].value"
                        var_enum: ["Order-picked-up", "Order-delivered"]
                        _RETURN_: attr all in var_enum

                      - _NAME_: UPDATE_STATE_REASON_ID
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_state')].list[?(@.code=='reason_id')].value"
                        _RETURN_: attr are present

                  - _NAME_: TAGS_CANCEL_REQUEST
                    _RETURN_:
                      - _NAME_: TAGS_CANCEL_REQUEST_RETRY_COUNT_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='cancel_request')].list[*].code"
                        valid: ["retry_count", "reason_id", "initiated_by"]
                        _RETURN_: attr all in valid
                      - _NAME_: CANCEL_REQUEST_RETRY_COUNT
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='cancel_request')].list[?(@.code=='retry_count')].value"
                        _RETURN_: attr are present

                      - _NAME_: CANCEL_REQUEST_REASON_ID
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='cancel_request')].list[?(@.code=='reason_id')].value"
                        _RETURN_: attr are present

                      - _NAME_: CANCEL_REQUEST_INITIATED_BY
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='cancel_request')].list[?(@.code=='initiated_by')].value"
                        _RETURN_: attr are present

                  - _NAME_: TAGS_UPDATE_FULFILLMENT_TIME
                    _RETURN_:
                      - _NAME_: TAGS_UPDATE_FULFILLMENT_TIME_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_fulfillment_time')].list[*].code"
                        valid: ["state", "timestamp", "start_time", "end_time"]
                        _RETURN_: attr all in valid
                      - _NAME_: UPDATE_FULFILLMENT_TIME_STATE
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_fulfillment_time')].list[?(@.code=='state')].value"
                        var_enum: ["Order-picked-up"]
                        _RETURN_: attr all in var_enum

                      - _NAME_: UPDATE_FULFILLMENT_TIME_TIMESTAMP
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_fulfillment_time')].list[?(@.code=='timestamp')].value"
                        reg: ['^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.*Z$']
                        _RETURN_: attr follow regex reg

                      - _NAME_: UPDATE_FULFILLMENT_TIME_START
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_fulfillment_time')].list[?(@.code=='start_time')].value"
                        reg: ['^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.*Z$']
                        _RETURN_: attr follow regex reg

                      - _NAME_: UPDATE_FULFILLMENT_TIME_END
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_fulfillment_time')].list[?(@.code=='end_time')].value"
                        reg: ['^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.*Z$']
                        _RETURN_: attr follow regex reg

                  - _NAME_: TAGS_UPDATE_AGENT_DETAILS
                    _RETURN_:
                      - _NAME_: TAGS_UPDATE_AGENT_DETAILS_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_agent_details')].list[*].code"
                        valid: ["name", "phone", "provider_id", "end_time"]
                        _RETURN_: attr all in valid
                      - _NAME_: AGENT_NAME
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_agent_details')].list[?(@.code=='name')].value"
                        _RETURN_: attr are present

                      - _NAME_: AGENT_PHONE
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_agent_details')].list[?(@.code=='phone')].value"
                        _RETURN_: attr are present

                      - _NAME_: AGENT_PROVIDER_ID
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_agent_details')].list[?(@.code=='provider_id')].value"
                        _RETURN_: attr are present

                  - _NAME_: TAGS_UPDATE_LABEL
                    _RETURN_:
                      - _NAME_: TAGS_UPDATE_LABEL_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_label')].list[*].code"
                        valid: ["type", "url", "shipping"]
                        _RETURN_: attr all in valid
                      - _NAME_: LABEL_TYPE
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_label')].list[?(@.code=='type')].value"
                        var_enum: ["webp", "png", "jpeg", "pdf"]
                        _RETURN_: attr all in var_enum

                      - _NAME_: LABEL_URL
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_label')].list[?(@.code=='url')].value"
                        _RETURN_: attr are present

                      - _NAME_: LABEL_SHIPPING
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_label')].list[?(@.code=='shipping')].value"
                        _RETURN_: attr are present

                  - _NAME_: TAGS_REVERSEQC_OUTPUT
                    _RETURN_:
                      - _NAME_: TAGS_REVERSEQC_OUTPUT_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='reverseqc_output')].list[*].code"
                        valid: ["P001", "P003", "Q001"]
                        _RETURN_: attr all in valid
                      - _NAME_: RQC_P001
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='reverseqc_output')].list[?(@.code=='P001')].value"
                        _RETURN_: attr are present

                      - _NAME_: RQC_P003
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='reverseqc_output')].list[?(@.code=='P003')].value"
                        _RETURN_: attr are present

                      - _NAME_: RQC_Q001
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='reverseqc_output')].list[?(@.code=='Q001')].value"
                        var_enum: ["yes", "no"]
                        _RETURN_: attr all in var_enum

                  - _NAME_: TAGS_BNP_RECEIVABLES_CLAIM
                    _RETURN_:
                      - _NAME_: TAGS_BNP_RECIEVABLES_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='bnp_receivables_claim')].list[*].code"
                        valid: ["type", "currency", "value"]
                        _RETURN_: attr all in valid
                      - _NAME_: CLAIM_TYPE
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='bnp_receivables_claim')].list[?(@.code=='type')].value"
                        _RETURN_: attr are present

                      - _NAME_: CLAIM_CURRENCY
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='bnp_receivables_claim')].list[?(@.code=='currency')].value"
                        _RETURN_: attr are present

                      - _NAME_: CLAIM_VALUE
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='bnp_receivables_claim')].list[?(@.code=='value')].value"
                        _RETURN_: attr are present

                  - _NAME_: TAGS_BNP_DIFF_WEIGHT
                    _RETURN_:
                      - _NAME_: TAGS_BNP_DIFF_WEIGHT_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='bnp_diff_weight')].list[*].code"
                        valid: ["unit", "value"]
                        _RETURN_: attr all in valid
                      - _NAME_: DIFF_WEIGHT_UNIT
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='bnp_diff_weight')].list[?(@.code=='unit')].value"
                        var_enum:
                          [
                            "unit",
                            "dozen",
                            "gram",
                            "kilogram",
                            "tonne",
                            "litre",
                            "millilitre",
                          ]
                        _RETURN_: attr all in var_enum

                      - _NAME_: DIFF_WEIGHT_VALUE
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='bnp_diff_weight')].list[?(@.code=='value')].value"
                        _RETURN_: attr are present

                  - _NAME_: TAGS_BNP_DIFF_LENGTH
                    _RETURN_:
                      - _NAME_: TAGS_BNP_DIFF_LENGTH_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='bnp_diff_length')].list[*].code"
                        valid: ["unit", "value"]
                        _RETURN_: attr all in valid
                      - _NAME_: DIFF_LENGTH_UNIT
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='bnp_diff_length')].list[?(@.code=='unit')].value"
                        var_enum: ["centimeter", "meter"]
                        _RETURN_: attr all in var_enum

                      - _NAME_: DIFF_LENGTH_VALUE
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='bnp_diff_length')].list[?(@.code=='value')].value"
                        _RETURN_: attr are present

                  - _NAME_: TAGS_BNP_DIFF_BREADTH
                    _RETURN_:
                      - _NAME_: TAGS_BNP_DIFF_BREADTH_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='bnp_diff_breadth')].list[*].code"
                        valid: ["unit", "value"]
                        _RETURN_: attr all in valid
                      - _NAME_: DIFF_BREADTH_UNIT
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='bnp_diff_breadth')].list[?(@.code=='unit')].value"
                        _RETURN_: attr are present

                      - _NAME_: DIFF_BREADTH_VALUE
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='bnp_diff_breadth')].list[?(@.code=='value')].value"
                        _RETURN_: attr are present

                  - _NAME_: TAGS_BNP_DIFF_HEIGHT
                    _RETURN_:
                      - _NAME_: TAGS_BNP_DIFF_HEIGHT_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='bnp_diff_height')].list[*].code"
                        valid: ["unit", "value"]
                        _RETURN_: attr all in valid
                      - _NAME_: DIFF_HEIGHT_UNIT
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='bnp_diff_height')].list[?(@.code=='unit')].value"
                        _RETURN_: attr are present

                      - _NAME_: DIFF_HEIGHT_VALUE
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='bnp_diff_height')].list[?(@.code=='value')].value"
                        _RETURN_: attr are present

                  - _NAME_: TAGS_UPDATE_VERIFICATION
                    _RETURN_:
                      - _NAME_: VERIFICATION_TYPE
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_verification')].list[?(@.code=='type')].value"
                        _RETURN_: attr are present

                      - _NAME_: VERIFICATION_VALUE
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_verification')].list[?(@.code=='value')].value"
                        _RETURN_: attr are present

                  - _NAME_: TAGS_UPDATE_STATE_TIMESTAMPS
                    _RETURN_:
                      - _NAME_: TAGS_UPDATE_STATE_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_state')].list[*].code"
                        valid: ["state", "reason_id"]
                        _RETURN_: attr all in valid
                      - _NAME_: STATE_TIMESTAMP
                        _CONTINUE_: "!(attr are present)" # ASK
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_state')].list[?(@.code=='timestamp')].value"
                        reg: ['^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.*Z$']
                        _RETURN_: attr follow regex reg

                      - _NAME_: STATE_START_TIME
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_state')].list[?(@.code=='start_time')].value"
                        reg: ['^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.*Z$']
                        _RETURN_: attr follow regex reg

                      - _NAME_: STATE_END_TIME
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_state')].list[?(@.code=='end_time')].value"
                        reg: ['^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.*Z$']
                        _RETURN_: attr follow regex reg

                  - _NAME_: TAGS_UPDATE_FULFILLMENT_DELAY
                    _RETURN_:
                      - _NAME_: TAGS_UPDATE_FULFILLMENT_DELAY_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_fulfillment_delay')].list[*].code"
                        valid:
                          [
                            "state",
                            "start_time",
                            "end_time",
                            "reason_id",
                            "attempt",
                          ]
                        _RETURN_: attr all in valid
                      - _NAME_: DELAY_STATE
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_fulfillment_delay')].list[?(@.code=='state')].value"
                        var_enum: ["Order-picked-up", "Order-delivered"]
                        _RETURN_: attr all in var_enum

                      - _NAME_: DELAY_REASON_ID
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_fulfillment_delay')].list[?(@.code=='reason_id')].value"
                        _RETURN_: attr are present

                      - _NAME_: DELAY_START_TIME
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_fulfillment_delay')].list[?(@.code=='start_time')].value"
                        reg: ['^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.*Z$']
                        _RETURN_: attr follow regex reg

                      - _NAME_: DELAY_END_TIME
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_fulfillment_delay')].list[?(@.code=='end_time')].value"
                        reg: ['^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.*Z$']
                        _RETURN_: attr follow regex reg

                      - _NAME_: DELAY_ATTEMPT
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_fulfillment_delay')].list[?(@.code=='attempt')].value"
                        var_enum: ["yes", "no"]
                        _RETURN_: attr all in var_enum

                  - _NAME_: TAGS_LINKED_ORDER_DIFF
                    _RETURN_:
                      - _NAME_: TAGS_LINKED_ORDER_DIFF_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='linked_order_diff')].list[*].code"
                        valid:
                          [
                            "id",
                            "weight_unit",
                            "weight_value",
                            "dim_unit",
                            "length",
                            "breadth",
                            "height",
                          ]
                        _RETURN_: attr all in valid
                      - _NAME_: LINKED_ORDER_ID
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='linked_order_diff')].list[?(@.code=='id')].value"
                        _RETURN_: attr are present

                      - _NAME_: LINKED_WEIGHT_UNIT
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='linked_order_diff')].list[?(@.code=='weight_unit')].value"
                        _RETURN_: attr are present

                      - _NAME_: LINKED_WEIGHT_VALUE
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='linked_order_diff')].list[?(@.code=='weight_value')].value"
                        _RETURN_: attr are present

                      - _NAME_: LINKED_DIM_UNIT
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='linked_order_diff')].list[?(@.code=='dim_unit')].value"
                        _RETURN_: attr are present

                      - _NAME_: LINKED_LENGTH
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='linked_order_diff')].list[?(@.code=='length')].value"
                        _RETURN_: attr are present

                      - _NAME_: LINKED_BREADTH
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='linked_order_diff')].list[?(@.code=='breadth')].value"
                        _RETURN_: attr are present

                      - _NAME_: LINKED_HEIGHT
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='linked_order_diff')].list[?(@.code=='height')].value"
                        _RETURN_: attr are present

                  - _NAME_: TAGS_LINKED_ORDER_DIFF_PROOF
                    _RETURN_:
                      - _NAME_: TAGS_LINKED_ORDER_DIFF_PROOF_VALID_TAGS
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='linked_order_diff_proof')].list[*].code"
                        valid: ["type", "url"]
                        _RETURN_: attr all in valid
                      - _NAME_: PROOF_TYPE
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='linked_order_diff_proof')].list[?(@.code=='type')].value"
                        _RETURN_: attr are present

                      - _NAME_: PROOF_URL
                        _CONTINUE_: "!(attr are present)"
                        attr: "$.message.order.fulfillments[*].tags[?(@.code=='linked_order_diff_proof')].list[?(@.code=='url')].value"
                        reg: ["^https?://.*$"]
                        _RETURN_: attr follow regex reg

                  - _NAME_: TAGS_UPDATE_SALE_INVOICE_URL
                    _CONTINUE_: "!(attr are present)"
                    attr: "$.message.order.fulfillments[*].tags[?(@.code=='update_sale_invoice')].list[?(@.code=='url')].value"
                    reg: ["^https?://.*$"]
                    _RETURN_: attr are present && attr follow regex reg

          - _NAME_: ORDER_PAYMENT
            _RETURN_:
              - _NAME_: PAYMENT_ONDC_ORG_SETTLEMENT_DETAILS
                _RETURN_:
                  - _NAME_: PAYMENT_ONDC_ORG_SETTLEMENT_DETAILS_SETTLEMENT_COUNTERPARTY
                    attr: "$.message.order.payment['@ondc/org/settlement_details'][*].settlement_counterparty"
                    _RETURN_: attr are present
                    _CONTINUE_: "!(attr are present)"
                  - _NAME_: PAYMENT_ONDC_ORG_SETTLEMENT_DETAILS_SETTLEMENT_PHASE
                    attr: "$.message.order.payment['@ondc/org/settlement_details'][*].settlement_phase"
                    _CONTINUE_: "!(attr are present)"
                    _RETURN_: attr are present
                  - _NAME_: PAYMENT_ONDC_ORG_SETTLEMENT_DETAILS_SETTLEMENT_TYPE
                    attr: "$.message.order.payment['@ondc/org/settlement_details'][*].settlement_type"
                    var_enum:
                      [
                        "upi",
                        "neft",
                        "rtgs",
                        "wallet",
                        "netbanking",
                        "paylater",
                        "card",
                      ]
                    _CONTINUE_: "!(attr are present)"
                    _RETURN_: attr all in var_enum
                  - _NAME_: PAYMENT_ONDC_ORG_SETTLEMENT_DETAILS_SETTLEMENT_AMOUNT
                    attr: "$.message.order.payment['@ondc/org/settlement_details'][*].settlement_amount"
                    _CONTINUE_: "!(attr are present)"
                    _RETURN_: attr are present
                  - _NAME_: PAYMENT_ONDC_ORG_SETTLEMENT_DETAILS_SETTLEMENT_TIMESTAMP
                    attr: "$.message.order.payment['@ondc/org/settlement_details'][*].settlement_timestamp"
                    _CONTINUE_: "!(attr are present)"
                    _RETURN_: attr are present
  _SESSION_DATA_: {}
